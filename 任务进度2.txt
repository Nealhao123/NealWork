after 20181205:
-->
0571 82766803
11 14
clear
 
do not hurry.
take it easy.

oracle本地安装不通、所以没有库
这个最好还是找大神来远程支持一番。

那么我翻译脚本的问题的呢？
他是从杭州最新的库copy上去的话，我只需要翻译一下储存过程脚本就ok了吧。
这不是不可以实现的，只是可能需要远端而已。
速度比较慢，但是影响不是很大。

大佬现在没有太多时间，我翻译的事不能这样耽搁吧？
心里有点倒腾烦了，那么我现在不要卡着吧整理一下试着把脚本放远端去调试好了。

既然黄岛的可以就在黄岛上面调试好了。

反正他们的目的是为了能在黄岛上面测试。

周三之前完成。
看来明天可能需要认真搞一下了。

大佬没有时间，今天是安装不了了。
那么今天也不着急、先尝试把这个软件安装一下吧。有什么问题解决什么问题好吧。

休息一会吧。

不要使用sqldeveloper登录了
使用大哥即将发的那个。

create tablespace "hzsgttbspace"
datafile 'D:\Oracle\gen\oradata\orcl\hzsgttbspace.dbf' size 50M
default storage(initial 50K
Next 500K
minextents 1
maxextents unlimited
pctincrease 0);

what is your situation now ?
tire/wanna have a rest
work stacked.

stuffs:
1.上报工具杭州修改。
2.oracle数据库的翻译及服务的开发。
3.还款。
今天晚上带电脑回去加班好了。
今天一天都不在状态，既然这样，好好休息一会好了。
温度原因吗，真nm的烦。
心情烦躁，中午休息得不好，而且这b玩意有点难。

http://220.191.224.175/CompleteMappingService/CompleteMappingService.asmx

http://220.191.224.175/CompeteMappingFileServiceIn/FileService.asmx

http://220.191.224.175/PlanCensorWebService/PlanCensorWebService.asmx

绍兴的竣测合一的数据库、服务、工具等。
可能会需要修改一点代码。
想想，
1.首先你想在公司加班吗？
不想。
2.还有一种方案是把电脑带回去去家里面加班？
但是会担心一点工作效率的问题和麻烦

3.正常下班，回去好好休息，明天再来处理
拖延了这么久了，感觉不是很好。遇到的问题实在太多了。
翻译oracle也不是那么容易的吧。
需要小点时间来进行熟悉测试。
然后绍兴的问题呢？
CityName是没有进行赋值的 
所以会涉及到小点代码的修改 、还有服务器的配置、
还有svn的提交、数据库存储过程的修改。
简而言之就是  修改代码+布置服务。那明天完成吧。
4.接下来需要处理的：
1.绍兴布置的问题、
2.数据库翻译的问题‘
3.上报工具杭州的修改。
不要怕，休息好了都好说的。

而且竣测合一的就只有添加的、连删除的都没有。
我玩了个屁。

这样、先把绍兴的解决了。
然后试一下本地
然后再进行翻译。

-->竣测合一根据本地配置看一下是如何
有一个CityNum

CompeteMappingUrl = 'http://220.191.224.175/CompleteMappingService/CompleteMappingService.asmx',
 CompeteMappingFileUrl = 'http://220.191.224.175/CompeteMappingFileServiceIn/FileService.asmx'

imp:   ECA_UpdateDesignPrjBaseInfo 在杭州为什么没有报错？

还有6个qmi
看一下sys多不多 要不要规划审查的？ 
房建摇号的，还有一个表结构没有导过来
tbCityCenSorShipBasicInfo这个不是我能控制的，所以这个先不管了。

那么明天就还剩查询流程的 储存过程和sys库里面的有一个储存过程了。
其他的应该就没了吧。

翻译完了以后，那么下面就进行，服务器的开发。

http://115.233.209.151:8088/PlanCensorWebService/PlanCensorWebService.asmx

缺少表:
tbDic   ；
tbCityCenSorShipBasicInfo
缺少字段：
tbSubPrjCatalog 少字段 row_guid；
clear
-->翻译到了

确实要新增、
但是先把维护的完成吧。

那么现在就差一个了、请问我可以在短时间内修改完这一个然后更新吗？
我需要更新上报工具吗，当然要了。
需要更新服务器吗？ 
当然需要了。



V章丘、V青岛
   、V温州、V绍兴、V湖州、V舟山、 V义乌。
V杭州
  金华 V台州 V嘉兴
	 V衢州  V丽水、 、	

	那么下面就试着把oracle的集成进服务。
	
	现在有两个问题、一个是无法同时拼接多个select 语句的问题。
	还有一个是查询语句没有数据的问题。
	
	先解决查询不出来数据的问题吧。
	
	V  查出来有数据了。
	可能跟登录有关？ 
	反正现在查询到数据了。
	
	不用管。
	
	现在看一下如何返回多张表。
	
	执行语句返回多张表的这个其实也可以换换。
	
	那么现在查询表的ok了。
	
	那么重点是储存过程了吧。
	还有一个批量插入的看行不行。
	begin  update tbCensorMessageDetail set Mark='{1}' where IdeaGuid='{2}'; update tbCensorMessageDetail set Mark='{1}' where IdeaGuid='{2}'; update tbCensorMessageDetail set Mark='{1}' where IdeaGuid='{2}'; update tbCensorMessageDetail set Mark='{1}' where IdeaGuid='{2}'; end;

	插入的也可以了。
	那么现在就剩下储存过程了。
	特别是需要返回表的储存过程。
	
	测试储存过程返回dateset代码：
	
	                    Dictionary<string, object> dc = new Dictionary<string, object>();
                    dc.Add(CcirDbHelper.m_preSymbol + "ColumName", "c2");
                    ds = CcirDbHelper.m_QmiDbHelper.ExecuteStoredProcedureGetDataSet("TestPrc", dc, ref strMsg, 2);

	照理来说好像都可以了吧？
	代码也提交了吧？
	
	唯一的可以能就是查询项目阶段的储存过程了。
	
	这个周呢？ 
	有些什么工作？
	V邮件的也可以了吧。
	V报销的暂时先不管吧。在别人手里就别催别人。
	
	好像没有啥，有点想倒腾mvc的东西。
	你会在意吗？ 好像没有什么关系吧。
	就按照你想之前想的去做，
	有问题再解决问题不就好了。
	
	在新加一个guid。
	
	这个应该不是什么问题。
	现在的问题是能不能让他给隐藏掉
	
	单体表的row是 通过Project的时候调取服务（储存过程）获取到的。
	OriginSubPrjGuid
NULL
	需要修改一下服务。怎么说，可以修改吗？
	照理来说是可以修改的。
	
	那明天改了试试呗，可以兼容吗？
	应该是可以的，本来传输过来的就是一个 dt
	
	所以不会影响原有ei的说。
	注意一下原来的服务的修改日期
	一定要备份一下。
	
	那么明天来修改一下服务好了。
	
	还有其他的问题吗?
	
	看一下泸州这边这个新项目有哪些我可以做的吧。
    
	新添sys字段来保存qmi的单体guid。
	现在需要修改一下reportService。
	
	记录一下老版时间。
	2016 5 31
	
	现在报错
	这个是为什么？
	
	先不要使用正式服务器来测试了。
	
	http://localhost:1261/ReportService.asmx

http://220.191.238.239/ECAreportService/ReportService.asmx


Server=10.27.0.153;Database=cdk_sys;uid=sa;pwd=1234.com;Connect Timeout=200
 <add name="EcaSysConnStr" connectionString="Server=10.27.0.153;Database=cdk_sys;uid=sa;pwd=1234.com;Connect Timeout=200">
 <add name="EcaSysConnStr" connectionString="Server=10.27.0.153;Database=cdk_sys;uid=sa;pwd=1234.com;Connect Timeout=200"/>
	绑定单体的可以了，而且照理来说不会影响原来的ei正常上报。
	
	1.那么现在尝试着让他不显示
	
	一会再尝试好了。
	其他的，a little bit easy thinks to do.
	V
	衢州已经更新上去了，还差杭州版本。获取其他版本的。
	
	这个服务、应该是可以走杭州的版本的。
	修改一下配置就好了。
	
	看一下杭州的是否也是这样的。
	
	下次可能需要走服务更新了。
	
	不会影响
	那么是说明更新上报工具不会影响吗？
	
	这个就不好说了吧？
	
	上报工具最新的、服务不是最新的   不影响
	更新吧
	
	那就更新吧
	
	更新：V章丘、V黄岛
   、V温州、绍兴、湖州、舟山、 义乌。
杭州
  金华 台州 嘉兴
	 V衢州  丽水、 、	
	
	先更新宁波的吧 
	宁波感觉蛮多的
	宁波的也上不去
	
	宁波需要更新些什么东西？
	
	上报工具、规划暂时不更都可以的吧
	
	从衢州copy一下吧
	先把没有的copy上去
	然后有的就直接改替换的替换
	
	
	http://183.136.157.18/EIService/EiClientService.asmx
	http://183.136.157.18:7002/EIService/EiClientService.asmx
	
	
	http://183.136.157.18:7002/PlanCensorService/ccir/ManageDepart
	
	
	http://220.191.238.239/ECAPltQRCode/Default.aspx
	
ReportUrl

ReportFileUrl

EiClientUrl

CompeteMappingUrl

CompeteMappingFileUrl


update tbCensorConfig set 
ReportUrl='http://183.136.157.18:7002/ECAReportServer/ReportService.asmx'
,ReportFileUrl='http://183.136.157.18:7002/ECAReportFileServer/FileServer.asmx'
,EiClientUrl='http://183.136.157.18:7002/EIService/EiClientService.asmx'
,CompeteMappingUrl='http://183.136.157.18:7002/CompleteMappingService/CompleteMappingService.asmx'
,CompeteMappingFileUrl='http://183.136.157.18:7002/CompeteMappingFileServiceIn/FileService.asmx' where CityName like '宁波'
	
宁波的还有其他有可能的服务没有布置？
数据库语句全部执行了。
有可能还有其他服务需要布置吧。
这个也是需要测试的。
V可以把所有的web。dll都替换成最新的

第二个是更新继续更新其他地市的单体

V第三个更新上次遗留的金华的。
就一个web.dll。

	http://183.136.157.18:7002/ECASignatrueServer/PltManageService.asmx
	
	郝永平 黄相怀
	
同人、温州和绍兴
	
	
	/EIServiceOrcl/EiClientService.asmx
	
明天尝试着把服务到数据库调通。
	可以使用oracle的然后，再修改服务器吗？ 因为现在你连连接本地都需要设置。
	参考一下瑞哥是怎么连接的。
	
	System.Data.OracleClient requires Oracle client software version 8.1.7 or greater.
	
E:\app\Administrator\product\11.2.0\client_1\bin;E:\app\Administrator\product\11.2.0\dbhome_1\bin;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\;C:\Program Files\Microsoft SQL Server\100\Tools\Binn\;C:\Program Files\Microsoft SQL Server\100\DTS\Binn\;C:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE\;C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies\;C:\Program Files (x86)\Microsoft SQL Server\100\DTS\Binn\
	
	问题知道了，是因为web服务上面没有装客户端？
	 那我现在再装一个plsql试一下能不能连接。
	 如果不可以连接，那应该还是web服务器的问题。
	 
	 E:\app\Administrator\product\11.2.0\client_2\bin;E:\app\Administrator\product\11.2.0\client_1;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\

	现在从158上面也可以连接155了
	
	想想是哪的问题、
	本地和数据服务器可以互通，证明  数据库服务器和本地都是可以的。
	
	那么为什么移植到了  web服务器就不可以了呢？
	
	我主要就是web服务器到数据库服务器之间的连接。
	
	现在我已经在web服务器上面配置好了plsql，并且可以连接服务器。 那么 我仍旧报这个错误是什么原因呢？
	
	有可能是iis的问题的吗？
	
	我先把本机的copy上去一个新的服务试试好吧
	服务是最新的，
	不可能是账户名密码的问题。
	
	有两种可能：
	1.iis不认可刚配置好的 Oracle链接  所以需要重启一下啊服务器。
	2.就如网上说的那样，需要修改文件的读写权限。  那么这个读写权限是修改数据库服务器端的还是本地的呢？
		网上说的话，都是修改的服务器端的dbhome而不是dbclient
		而且，我本地和数据库端是通的，所以更不可能修改数据库端的东西了。
	3.
	
	sln1:重启web服务器吧。
	
	what the fucking stuck you？
	take it easy.
	
	这个为什么卡住你了并且影响了你的心情？
	这个早先就是直接依据重启服务器就可以解决的。
	但是你并不是非常地信任重启服务器就一定可以解决。
	而且网上的解决方案有很多，尽管你进行了分析，但是你还是会有一点不自信
	因为没有经验啊。
	这个其实也算是好的。不够淡定所以让你有了更多无效的尝试，但是你能再次冷静分析。其实期间花费的时间并不是很多。  而且在其他的方面也有些许的烦躁，没有细心。
	你学到了什么？耐心耐心，淡定淡定。
	然后要保持你自己，让他们看到的，都是你的接口。应该保持你的接口良好。
	
	那么现在基本东西都已经调通了。
	很大一部分的原因是因为库的结构不一样。
	所以这个于情于理是可以理解的。
	不是吗，那么现在的情况就是，只要他那边把杭州最新的库弄上去。
	我后面的工作应该是可以非常轻松地完成的。
	所以等待他备份和还原库。
	
	V现在提交一下svn代码吧。
	
	还有其他的吗？
	
	如果没有继续学习一下mvc吧。
	
	然后随便准备一点额外的东西。
	
	<n
	
	<m
	总共会右移动n
	总共会下移动m
	
	设 n m 那么只能从1-n/1-m
	
	lqf
	
	lzl
	fail to communicate, ok don't wast you time.
	
	我现在还有几个储存过程应该需要翻译，因为他们打算延用章丘黄岛的走注册的模式，那么 应该是以章丘黄岛的脚本为基础。
	应该也就只有几个吧。翻译是迟早要翻译的。因为表结构不太一样。
	瑞哥就是直接把他们写的dbHelper给引用过来的！！！
	
	他们导表是从建模工具导的，所以有可能的情况就有些表没有，字段一般情况下都有的，除了row_guid。
	所以有些表得自己加或者修改。
	那么自己尝试着
	
	excel
	
	表：需要知道缺少哪些然后给大哥通过建模工具导入。
	字段；需要知道哪些，但是基本都是row_guid。目前估计就这个。
	储存过程：需要翻译章丘黄岛的注册相关储存过程。
	
	突然想到一个问题、
	那瑞哥的这个sdk用到的储存过程，那没有翻译啊
	
	卧槽
	那岂不是有很多。
	
	而且我也不是很熟悉。
	之前有哪个 上报工具是使用的oracle的吗？
	如果没有，那岂不是都需要自己去翻译 自己去弄懂？
	那工作量就是比较大的了。
	
	那么依照阳哥的想法，还是弄先让他能上传图纸的吧。
	所以流程查询怎么的就不用管了。
	
	先让他能查到项目、能上传图纸。
	
	既然不一样，那么就具体看一下哪些东西不一样呗。
	
	通是肯定通了的。
	那么现在就具体调试一下问题
	如果是脚本的问题，就找出来修改
	
	or CensorName is null ()
	
	我现在测试不出来 至少要保证我的 数据是完整的吧？
	
	mmp
	
	    update tbcensorprjinfo set PrjName = '刘浩测试项目，请勿删除',SingleKey='131312121',Address='地址',
    BuildCorpName='简单名称',ReceiveCrePrjDate=getdate(),DesignCorpName = '设计院名',EconCorpName='勘察院名',
    ReportDepFullCorpCode='1100000301040001',PrjCode = '20189999'  where ServerPrjnum = 416
	
	1100000301040001
	
	913702111638622118
	
	如果我只是考虑到操作速度问题的话，我干脆直接在web服务器上操作 可能会快一点
	
131312121
	
	416
	
如果没有查询到数据然后用into，那么他就会报错。
wnmn

先不要着急修改其他的，等开始调试的时候才开始修改好了。

到时候把修改的方法记录一下，出错了再进行修改。

具体问题具体分析

ok 继续翻译sql

有哪些？

那我最好从流程的最开始来

设计院注册的？

好了，那么现在就从流程开始吧。

AddCorpBasicInfo
GetCorpBasicInfoForZhangQiuUploadToolLogin
GetCorpBasicInfo
	
	
	
	ECA_AddCorpBasicInfo
	ECA_GetCorpBasicInfo
	
	"http://localhost:27266/EiClientService.asmx";

	我现在要做的是  
	行转列
	
	查询第一行
	查询第二行
	查询第三行
	查询第四行 
	
	select * from tbti
	
	暂停oracle的翻译，
	
	现在试一下 将15上面的Mysql调通，然后再根据需求文档进行修改一下。
	
	ok  没有什么问题，调通是没有什么问题的。
	
	到时候估计布置服务器有点麻烦，但是应该问题也不大。
	
	反正找到以后布置过去就行了。
	
	那么现在就开始撰写新的需求吧。
	
	首先他想 走注册的，那么就需要将注册部分的数据库储存过程翻译mysql的。
	这个问题大吗？ 
	不是很大
	
	ECA_AddCorpBasicInfo
	ECA_GetCorpPersonnelInfo
	ECA_GetCorpBasicInfo
	ECA_AddCorpPersonnelInfo
	
	翻译成mysql的然后调试一下吧。
	
	添加企业人员的时候没有那三个date
	来一个初值吧
	
	注册的时候确实是注册进了数据库。
	而且一些看起来很正常，但是换了一个方式以后发现就报错
	而且本地不报错
	服务器报错。
	也能修改dll，但是一到  执行获取dt就出错。
	这是为什么呢？
	看一下异常是在哪catch的
	
	http://118.178.119.15/HZEIService/EiClientService.asmx
	
	http://118.178.119.15/HZEIService/EiClientService.asmx
	
	这是四个连续的错误造成的
	1.翻译mysql语句不严谨，认为逻辑一样，结果其实是老逻辑。直接原因
	2.代码书写不严谨，!=null 的else没有直接返回。造成报空指针异常因而没有直接了解出错的根本原因
	3.服务器和本地的数据库结构不一样。所以本地没有报错，而这个报错的原因其实还是是因为检查表结构不够仔细。仔细一点其实也可以找到原因的。
	4.try catch语句报异常不完善，没有具体到多少行，导致信息不明确浪费时间调试。
	应该找准一个点，解决的速度就会快很多。 比如依照  服务器上面无法运行但是本地就是不可以运行。  不是web.config的问题。不是dll的问题，电脑也重启了，也不是未知的问题。
	到目前来说，还没有遇见一些未知的问题。所以问题基本都是自己代码逻辑有问题。
	严谨、严谨、严谨！
	强对应的关系一定要找准，比如说 其他的函数能通这个函数不能通，那么就一定不是配置文件的问题！
	一定是函数这一条流程上面的某个环节有问题。
	
	登录模块基本翻译完成。
	
	那么现在其实可以开始撰写新的需求了。
	看怎么根据新的需求进行一些修改和完善。
	
	look back: 
	the learn things are less and less.
	but for the corp, the most important is the bussiness operation.
	
	注册的时候想要上传附件。
	
	这个服务器代码逻辑基本和上传图审意见一模一样吧。
	只是多在tbcorpbasicinfo里面多添加几个字段来存储这个附件的相关信息。
	
	if you wannna have a rest, just have a rest.
	
	参考一下附件表是怎么储存的
	感觉引用的不是很多，要不将文件放在一起？
	这样好吗？
	到时候你无法区分的呀。
	不太好。
	他不是根据项目的guid来保存的吗，那要不我给guid传一个名字 试试
	那么我需要先调用了试试？看他支不支持咯
	ok试试就试试。
	
	
	http://118.178.119.15/ECACensorFileServerAffixDownload/FileService.asmx
	
	4443a33d-a2d8-4979-a285-5aee476efd26.PDF
	
	有几个字段？
	看一下关于文件的有几个字段
	
	文件目录字段：
	FileDirName
	FileName
	ServiceFileName
	
	 
	
	我先修msyql版本的吧
	
	然后再修改一下serversql版本的。
	
	oracle的需要一直修改。
	
	这活是始终需要完成的，
	莫非就多一个mysql版本而已。
	
	所以怎么玩？
	
	继续做一点心的需求吧？
	然后继续翻译oracle，
	上次oracle卡哪了？
	
	在update一个语句的一直卡着，也不报错。这还比较麻烦。
	
	我的翻译的活确实好像比较多诶
	
	但是如果坑都踩过去了，那么速度应该会提高一些的。
	每次从这边数据库翻译过去都有够懒，更别提到时候同步翻译三边了。
	
	周二25 
	
	这个东西如果要完成，mysql版本的大概less than 2weeks
	如果是oracle，大概more than 3weeks.
	  
	一个节点一个节点的来吧。
	虽然提了这么多的需求，能做的还是要做的，也需要相应的时间的take it easy。
	
	他们还在翻版oracle
	主要任务是翻版 oracle，新的需求后面再做好了。
	那么就先把oracle的调通再说，关键后面还有瑞哥写的储存过程，这个得认真看一下，估计有点难度吧。
	先让他可以上传图纸，阳哥的意思是如果说翻译有难度的话，那么也要自己来写了。
	还好前段时间大致接触了一下大致了解运作方式。take it easy。
	先看一下吧。
	
	流程比较重要，这些小细节不影响调试的话就不是很重要。
	
	保存项目信息的时候出错。
	
	插入可能没有什么问题
	那么就可能跟前面的逻辑有关系了。
	
	看来是因为select into的时候，如果select的值为空的话，可能就会报错一直卡着。
	两种解决方案，首先赋值为null，如果判断如何为空，那么就不select into 了。
	还有一种，看一下网上是怎么搞的吧。
	也有可能是多次select了表
	先使用一个试试。
	
	55969180-3618-4eda-a9df-99549b215a12
	SafeLevelName
	
	
	
	更新
	-1.更新脚本  单体信息的
		V丽水、V衢州/V宁波/V黄岛。V章丘/、V温州/
		-----------
		绍兴、
		V湖州、V舟山 V义乌、 V金华 V台州 V嘉兴
		-----
		
	V2.还原服务上次更新单体地市
		V章丘X、V黄岛X
		、V温州X V衢州X
		
	3.继续oracle的调试和翻译。
	
	--暂停oracle翻译：步骤：保存基本信息
	
	现在开始做一下 上传图纸 选择设计院的功能
	
	首先 泸州的显示 字段其他的不显示 
	我看一下 是否上传怎么显示的。
	
	单张添加和批量添加 
	
	单张添加那么先弹出框 然后选择文件
	批量添加也是
	
	那么基本没有区别的嘛。 无非添加的时候 多弹出一个编辑框
	修改是都可以修改的。
	
	能不能添加的时候用框、批量的时候也用框？
	
	先上传再修改嘛
	
	他想要 指定多个部门、那么部门的数量是一定的。
	有：人防、消防、城管、园林、城建科。
	来一个下拉框
	直接用服务器的字典吗？
	我有Upload什么的我有m_eiService吗？
	这个是放在sys的吧？
	那么就不能用eiServiece
	我用 | 来给他分割吧。然后 在传之前选择。然后在这里进行显示。
	所以使用一个字段就ok了，他那边怎么删选是他是事
	
	那么现在就
	1、增加字段
		他是想在泸州搞,
		所以先使用泸州测试的吧
		
	2、绑定字段
	3、在上传图纸之前给他一个弹框选择，使用同样的框好吧？
	4、然后在弹框这 添家两个控件，一个是绑定控件，一个是选择控件。
	5. 选择控件是一个下拉的勾选、参考一下前面的选择项目负责人的时候。然后转换到绑定控件上面去。暂时没必要使用远端字典表。
	6.
	
	UnitedCensorDepartment
	
	用什么分隔？  
	使用				||||||
	看一下效果好吧 
	
	Alter table  add column 
	
	alter table tbdrawinginfo add (`is` varchar(10));
	
	311  277
	
	34
	1.首先查看一下这个merge出来的东西有没有问题。
	2.先测试添加单个的是否可以，如果可以尝试添加理清添加多个的逻辑再进行修改。
	3.查看一下保存是否成功，如果不行，那么可能就需要修改服务了，上次修改这个服务，因为用的代码估计有问题，没有调试就直接给他用上去了。mdlj代码。 如果涉及到 服务代码、数据库脚本有问题，那么这个问题就比较麻烦了。最好的解决是能找到正确版本的代码进行修改。单体的功能暂时不管。只撰写新的需求。如果不行再看一下情况。
	4.
	
	找一下储存过程叫什么名字
	
	使用服务调试一下。
	
	svn上面的东西不能布上去马上就可以使用，还tm要调试。
	
	耐心一下，我给他调对。
	
	反正都要调，对吧？
	不要感觉到畏惧和麻烦。
	耐心一点。
	
	现在问题是这样的
	有点担心的是后面的service不知道修改了什么东西、导致如果弄上去不知道会不会有些逻辑错误。
	
	看个jb，不要犹豫，出错再说 。
	看了也没用，
	出错了可以试试使用svn合并代码试试。
	哪些修改了不就全部知道了。
	genius
	
	我现在都不知道报不报错，阳哥提供的代码不是最新的。
	最可靠的应该是瑞哥直接发我的
	然后不知道他们基于这个修改了些什么东西。
	但是暂时不管好吧。
	
	现在开始修改吧。
	
	他那个比我这个照理来说要好一些。
	
	先上传，然后再添加数据。
	
	我这边实现的思路大概是怎么样的?
	:
	首先选择多行，
	然后点击“指定图审部门”按钮
	然后弹出一个窗体，让用户选择
	部门
	意思就是   搞一个跟 之前保存数据的框差不多的，但是不要使用 下拉框 勾选。
	直接列出来好了。
	点击确定以后看一下他的逻辑然后提交一下数据，参考一下批量添加的逻辑。
	
	想一想，一种方式是遵循他的架构去增加，一种是不遵循。
	他自己在批量上传的时候都没有遵循，那么我为什么又要去这么麻烦呢。
	批量的时候是添加，我来个批量修改，这个影响大吗？
	照理来说，根本不是很大，一切从简，我这边怎么方便就怎么来吧。
	
	所以我现在需要知道的 是current?
	是dbChanges
	
	这个功能完善了，那么现在开始迁移服务吧。
	
任务：
	X1.舟山上报工具字段报错问题
	X2.章丘上报工具字段报错问题
		自己测试一下？
		这个问题显示的字段转换有问题。
		一般情况是由于我觉得可能并不是由于空字段造成的，因为本地填的时候就有很多东西没有填写。那么他为什么会报错呢？
		显示varchar转换成numeric
		先换成float试试？
		然后查看一下上报工具，支持复制粘贴的功能，然后看一下该限制的限制
		自己测试了没有什么问题啊。
		这个问题要是很严重他们估计早就反响很大了，那么就不要较真了，先跳过好吧。
		舟山和章丘的都跳过?
		到时候给他更新一个版本上去试试再说。
		
	-3.上报工具字段允许复制需求
		
	-4.丽水短信问题
	
	优先解决泸州项目的问题吧。其他的记录下来后面解决。
	现在的任务是先调通mysql，后翻译oracle。
	
	V5.服务器布置
		有些什么问题？
		X1.是否要切换地市直接修改配置来切换？
			没有很大的必要，大不了我本地给他先写死好了。调通了再给他们版本。
		V2.可能有些配置问题，那就去配置一下吧。
		配置可以了
	  -5.1  一个凭证，依赖他们那边可以下载到对应的文件，我这边再修改一下程序和储存过程。
		
	  -5.2 第二个是图审回复附件的物理地址要知道。文件名称等也需要知道吧。不知道逻辑跟杭州的一不一样。
		
	那么现在就调试一下，如果可以的话，那么就继续翻译oracle版本了。	
	6.oracle版本翻译
	
	7.在自己的服务上面增加一个 通过prjguid获取sys库里面的serverprjnum
	然后正常调用郑易的接口。
	（突然想到，修改别人的代码确实不礼貌，为什么不学会使用别人的接口就好了呢。）
	这个接口由郑易提供，那么由他来写。
	那么我这边呢，只有杭州和需要吗？
	
	其他地方的 貌似已经被我修改了。
	那么现在尝试着修改回来，那么就涉及到每一个地势的更新了。
	既然他提供了接口，那么如果他修改好了，我再进行更新，如果目前不影响，那么就暂时不用管好了。
	上报工具问题。
	
	https://42.123.126.87:82/EIService/EiClientService.asmx
	
	there are much work to do.
	now,if you don't have much desire to work, just have fun
	How about my resume? 
	cost one overtime of work.
	
	一个一个地来，先做简单的。
	
	mmp，现在公司的服务器出了点问题。
	我有些需要读取的数据正好是从上面调用的。
	
	也就是说我上报工具调试不了了？
	要调试可能需要搞些没用的东西，反正这个东西不是很急，那么暂时就先不调试好了。
	能解决的就丽水短信的问题了。
	clear
	-->丽水的网关地址不知道。
	clear
	需要知道这个才能继续往下面调
	
	-->那么现在开始继续翻译oracle版本。
	保存基本信息V
	添加删除修改人员V
	clear
	-->现在好几字段表缺东西怎么办？
	当然是自己加了啊？
	艹，加就加吧，这也是没有办法的了。
	我也可以只加一行，到时候都大哥再在建模里面添加。
	加些必要的吧，然后能走通就好了。
	
	刚刚遇见一个问题是，数据没有同步？
	然后执行后一直卡着。
	估计是打开查询有点多然后死锁了
	重启一下pl/sql就好了。
	
	获取单体人防
	
	添加单体人防
	
	杭州有单体人防吗？
	有的
	泸州有吗
	暂时是没有，到时候杭州的翻版的话，那么杭州也应该是有的。
	该翻译的还是要翻译
	
	take it easy
	
	单体人防的查询肯定是有错的。
	应该加一个限制1；

	two things should deal today:
	1:to FY tickets
	:go you should go.
	2:resume/
	:take more time.
	
	4a5176e9-92c3-4cac-b538-e6494b4cfc85
	
	我现在开哪了？
	我查询人防的时候
	
	数据不同步？
	应该是数据库不同步。ctm的rubbish oracle。
	确定是由数据不同步造成的，重启了也没有什么用
	看一下有什么事务没有提交的吗。
	发现不是数据库不同步的问题，还是由于脚本有错误。
	所以需要调试一下找到错误。
	
	那么下面应该怎么做？
	
	跳过这个？
	既然单体都完成了？一时不有好的解决方案，那么暂时就跳过这个吧。
	V获取人防的储存过程ok，添加人防的要试一下吗？
	暂时不试了吧。
	
	下面就正式开始进行 瑞哥上报工具的翻译？
	可以试一下了。
	看一下自己还有哪些任务，郑易的进展情况。
	
	额外的任务，
	目前的工作效率及其低下，为什么呢？ 
	1.思路不清晰，被困扰的问题实在太多了。
	估计是因为年终了吧。
	2.没有再去运动？
	3.任务也很多，而且主要任务卡住的频率有点高。
		但是没有关系，已经到了第二个难点的阶段。翻译瑞哥的上报工具。
		1.首先，查看一下瑞哥这边是怎么实现功能的吧。
		2.列出涉及到的储存过程。
		3.根据mysql进行翻译
		4.调通瑞哥的服务让其支持oracle版本。而我的服务，本来就已经支持了oracle版本，所以工作的难点仍旧在于瑞哥上报工具的翻译。
		
	4.其他的问题呢？
		
		take it easy.
	不要让工作卡在别人手上。继续自己的不用管。
	
	研究一下瑞哥的上报工具 杭州版本的，
下次有什么收不到短信的，先在网签测试一下能不能发送短信。
	
	总共也就两个service
	FILEURL
	DATAURL
	+EiService
	
	研究一下杭州的这个
	，不要心存畏惧，这玩意其实也很简单的，我们的结构就是从他而来，怎么可能会相差太远呢
	首先储存过程应该都是一样的，那么最好的就是使用瑞哥这套最新的开发代码了。
	
	网签他是使用建模工具搭建的。
	
	那么造理来说，瑞哥这套在本地也是可以的咯。
	那么我在本地搞个服务测试一下？
	看能不能使用远端？
	没必要，
	我需要知道有哪些储存过程，那么我直接看代码不就好了。
	
	这么说可能不是很难，
	那么首先将阳哥发给我的sdk和瑞哥发给我的使用svn整理提交一下。
	
	本来阳哥就说以后ei的叫我来维护。
	
	现在的版本是这样的
	
	首先都是瑞哥的节点，
	然后阳哥搞了节点，自己维护，
	然后瑞哥那边自己也在维护，
	然后现在需要做的就是，把阳哥的维护和瑞哥的维护合并。
	最好并存，实在不行再取舍，照理来说基本没有做太多的维护，那么现在就试试好了。
	
	集成管理。
	
	然后再继续翻译。
	
	把所有的版本都集成一下吧。
	方便以后管理。
	
	以前的老EI都是在QMI这个项目下面的。
	为什么要搞个新的上报工具呢，就是因为原来的代码组织太凌乱了。不好维护。
	
	所以才出了一个新版。
	当然也是当时他们的需求。
	所以说，他们的架构其实是很烂的，所以才会想着搞一个新的架构。
	
	审查意见回复的  
	
	
	主管部门意见表，增加阶段的字段
	回复意见，回复意见的时间。
	
	以最快的速度完成开发。
	
	兼容先不用太在意。
	
	设计院的标识符问题。
	
	首先，我上报工具可以判断这家设计院是主体设计单位吗？
	
	可以吧，
	上报的时候把设计院的唯一码 也搞上去好了。
	
	34373237-3063-3439-2D30-334392D30653
	
	很难说，感觉应该是兼容的？
	
	那么继续进行
	Vhttp://60.191.224.180/EIService/EiClientService.asmx
	
	VAffixFileService
	
	需要加两个字段。
	那就给他加好了。
	需要修改文档，那就给他改好了。
	oracle的还继续翻吗
	mmp，无所谓
	先给他修改增加的字段和
	
	先把安装包发给他们再进行下面的修改吧。
	
	单体的几个需求字段其实很容易就可以解决的
	那么现在需要做的是黄岛的。
	
	反正都是需求，那么先完成黄岛的吧。
	
	首先字段
	先在本地试一下吧。
	
	看一下目录编制怎么玩的。
	然后跟着搞一下就好了。
	
	现在他这玩意是封装了的，只能dll内部使用，要么给他打开，那么我就可以完全copy他的代码了，要么自己写一下，写一个其实也还好。
	他的类是进行了一些封装，是绑定了有数据的。
	而且还有一些图标什么的。
	
	我需要用到的，
	就一个图标，然后还有一个？
	自己搞吧，真是想想图标的问题不就好了。
	
	温州基础连接已关闭，不光是一个函数，所以的上报函数应该是报错的。
	
	这很有可能的就是iis的问题，还有网关什么的问题。
	
	删除和获取都可以，就添加不行。
	
	难道跟这个 xml文件有关？
	可是这个是 string类型啊
	难道是这个string 太长了？
	不可能
	那么现在分析一下
	首先，获取项目的时候能够对吧啊
	然后添加的时候就不可以了。
	而且很奇怪的是保存信息，添加单体，添加人员，
	
	很奇怪，看一下哪些因素是变化的，哪些不是。
	
	首先，上报工具使用的同一套代码。
	然后服务器使用的同一套代码。
	
	所以不是 代码的问题？
	然后最最最大的因素就是服务器的配置问题。
	
	服务器拒绝了我的 东西。
	
	获取东西的都是完好的，
	但是不获取东西的就会报错？
	更return有关？
	
	如果是配置环境的问题，那么不光是我的服务。照理来说其他服务也可能出现这个问题才对
	那么现在，问一下他电子审图那边有没有出现这个问题。
	
	需要是通过调用储存过程的方式来向数据库插入新的值。
	
	跟修改感觉没有什么关系，
	因为上报是成功的。
	
	我有点预感是因为 传入的参数？
	
	想想还有哪些操作会有插入数据
	
	这个问题有点麻烦，要不还是先解决一下需求？
	我这边上报工具遇见一个问题，就是 同样的服务，代码都是一样的。 在其他地市都可以用，但是在温州会有问题。 
 而且问题很奇怪，在获取删除项目信息、获取删除项目人员信息、获取删除单体信息的时候都可以正常调用。但是 如果是 update，或者是 insert 不是update 是 传入的时候会有xml
	
	http://117.149.224.15:37780/EIService/EiClientService.asmx
	
	先要解决这个问题，一个是直接问人，还有一个是网上继续查找资料
	
	问题大致清楚
	
	传入的字符串太长
	 
	就这个一个服务这样还是其他服务也这样？
	
	测试一下
	
	还有哪些服务是代码是我可以修改的。
	
	来一个测试项目吧。
	
	温州的问题先放一下，那么现在还是继续处理一下这个上传图纸的功能吧。
	
	没有关系，我添加删除后马上刷新一下目录
	
	其实不用上传一次更新一次
	
	上传同步，然后重新获取就好了。
	
	桐庐
	Compete x 2
	
	ECAAffix
	ECACforUploadTool
	EiService
	Plan x 4
	server=10.33.79.133;uid=root;database=cdk_qmi;port=3306;pwd=12345678a;
	
	那么现在做一下 显示图片的应该就完成了吧。

材料、打开、关闭。
ok  还有就判断文件格式的。
	
	首先把章丘黄岛的更新一下？
	
	然后再进行修改一下？
	
	虽然要修改，但是也要把一些通用的东西改一下
	
	准备更新，这个更新，需要先把脚本整理一下吧。
	
	因为涉及到泸州的，所以把泸州的也整理一下。
	
	泸州的需求先不管。
	
	那么：
	1.整理数据库脚本等
		他们泸州会更新，不要紧，先不管，先执行脚本好了。
		
	2.更新黄岛，然后
	
	还好那个资质材料只是给泸州加的。
	正式上面还没有更新呢。
	
	更新吧，章丘黄岛。
	
	http://221.215.102.2:8085/ECAReportServer/ReportService.asmx
	
	现在更新了章丘黄岛的。
	
	泸州的可能有问题。
	
	have a rest.
	
	泸州的也ok了。
	
	那么说现在文档来说的话
	
	那么看一下目前的文档需求的话，就可能只剩一个
	导出意见的问题了？
	
	还有就是泸州的翻译，已经到了瑞哥的脚本那了。
	
	那么现在去解决一下？
	
	查一下什么原因？
	
	安装包：
	勘察设计企业内部管理云平台（浙江）
   http://www.ccir.com.cn/
   勘察设计企业内部管理云平台（浙江）安装程序
   C:\Users\94748\Desktop\安装包
	
	脚本基本写好了。
	下面就是
	
	搞一个存储过程，发布一下服务
	再编写一下程序就好了。
	
	杭州和泸州有两个字段不太一样，关键我不知道什么时候去把杭州的给更新掉了。
	怎么说呢，以后说不定会忘记这玩意，所以现在还是想着把他统一起来吧。
	这个问题现在影响不大，后面处理
	现在的首要任务是先把
	
	本地上面试试
	
	要各地市都支持
	
	而且需要加一些筛选条件。
	
	那么我还是给他做个展示的好了。
	展示，然后导出。
	
	有一个项目阶段表。
	
	然后有两个sheet 修改一下sheet的名称，然后最好少弄一个sheet。
	
	先做台州的。
	
	查询字段一会再说都可以的吧。
	
	V1.那么现在最主要的还是翻译成sqlserver版本的
	2.看如何设计存储过程进行筛选比较好。（是先查询后筛选还是先筛选后查询？ 先筛选后查询比较好，以为每次一开始就查询所有服务器的压力比较大）
		那么我如何传入需要筛选的 东西，然后进行查询。
		想查询空的，
		想想语句怎么查。
		举个栗子
		
	V3.调试显示和导出的excel是否对应。 
	
	IN_bdate
	select xx  from tbxxx
	where date>= IN_bdateFrom and date<=In_bdateEnd
	
	可能需要使用动态拼接语句？
	
	那个时间的问题实在不行就使用一个union来实现列转行，而且最好是先提前问清楚是否是这样的,有没有一个最终时间还是得问一下郑易。
	
	可以的使用动态拼接语句
	
	V1.还是先翻译吧
	
	一个一审、一个通过、一个一审就通过。
	分为两种，一个是一审就通过了，一个是一审
	如何不重复？
	我能不能直接合并到同一个表
	
	我需要查询什么东西？
key +	两个字段：1一审时间 2.通过时间
	(key)1一审时间取多个键的最小时间？2.多个同行的最大时间。
	
	查询项目的一审结论时间和最终通过时间
	我查询出Serverprjnum 和一审时间 
	然后查出Serverprjnum 和最终通过时间
	然后如何合并
	
	V 绍兴短信url:
	V http://211.140.163.201:9080/OpenMasService?wsdl
	
	V看一下如何修改sheet名称
	
	那么接下来差的就是语句和筛选了。
	
	储存过程拼接
	
	先把语句写出来吧
	
	next:
	1.EI 杭州 上传图纸 报 Subsquel More than 1 row 本地库
	v2.杭州添加负责人设计人过多 导致的字符串过长问题。
	3.
	
	主管部门登录 ，项目信息模块。人员信息模块。
	
	今天调试一下 大概是什么问题
	
	分析一下，更新的没有问题
	那么我试着替换一下会不会有问题？
	
	格式排版先不管了，
	先 把 比较重要的逻辑做出来好了。
	
	F章丘、F黄岛
	D温州、D衢州
   、V绍兴、V湖州、V舟山、 F义乌、D宁波
杭州 桐庐 
  Z金华 V台州 F嘉兴
	   D丽水 
	
	宁波没有 cdk_pms.dbo.pms_censorcontract 表
	
	V台州、V-温州，v-衢州，V绍兴，v-嘉兴，金华，V-湖州
	
	V章丘、V黄岛
	
	V舟山、V义乌
	
when I'm free. 
	two things:
	Oracle translate
	process of translation:
	Rui's root
	learn MVC, 
	
	只能人员和附件材料。

	还是先学mvc吧。
	
	处理一下后继续学习mvc
	
	问题也处理了一下，现在继续学习mvc吧。
	
	导出意见的模板好像是分了两个
	一个是页面的一个是意见内容的。
	
	孟哥，更新了，现在试着把自己的编译一下 试试，看哪些需要更新，然后再处理一下 模板的问题。
	只影响到了规划审查模块。
	这个模块需要更新。
	
	用了三个表：
	
	tbCensorInfo
	tbSpecCensorInfo
	tbCensorIdea
	
	看一下需要哪些字段吧
	tbCensorPrjInfo:
	PrjName
	PrjCode
	CenSorShipName
	DesignCorpName
	EconCorpName
	BuildCorpName
	
	tbCensorInfo:
	CensorName
	ZhuShenRen
	CensorResultName
	CensorEDate
	
	tbSpecCensorInfo:
	specname
	UserName
	
	tbCensorIdea:
	specname
	UserName
	
	还麻烦每个字段找？
	要不直接看一下他查询的结果。 我这边有没有不就好了。
	
	现在我基本所有的技术点都有了。
	那么我现在需要怎么做？
	
	4个表是已经确定的。
	
	我有一些表其实是已经知道的。
	
	比如说？ tbCensorPrjInfo
	
	应该需要的字段照理都是有的。
	
	看一下好吧。
	
	台州有个问题,估计是服务问题。
	调试一下吧。V
	clear
	-->明天早上之前把 这个导出模板功能实现。
	
	执行一下脚本，
	查看一下查询出来哪些数据库，然后修改一下自己的脚本，看一下能不能获取到相应的数据
	只要投入进去，总会知道的。
	不要太浮躁，
	
	照理来说该有的参数我都有了，那么现在就是查询脚本的问题了。
	
	我写查询脚本的时候顺便把实例写上去。
	
	注意参数。
	
	不管他什么的了，只作为参考好吧，
	要什么脚本都自己写好了。
	数据库脚本而已。
	
	写脚本，待参数测试好吧。
	
	要么全部修改成他的脚本？
	重新添加成储存过程。这样也不会报太多的错。
	考虑到以后的扩展，只需要copy一下他最新的然后按照方法修改一下就好了。不用仔细地研究透他的数据库脚本和打印的逻辑
	
	要么在自己的脚本里面搞？
	一个一个地调试。
	研究透他的逻辑，然后再一个一个地修改。
	
	我的时间不应该花在别人重复的工作上，能引用的尽量引用好了。
	
	所以就是完全copy他的脚本就好了。
	然后修改成自己能用的方式就好了。
	
	这tm的才叫做迭代和优化。
	脚本写得不好，那么现在就好学会迭代啊
	学会进步啊
	会更好的方法就用啊
	
	现在有点累，但是我已经找到方法了，休息一下。
	ok cool
	融合一下脚本
	，只要能打印就行了，管他那么多干嘛。
	
	X我现在能做的，就是把封面搞上去
	
	需要的只是PrjNum CensorNum
	
	copy吧，管他啥脚本呢
	
	sqlserver版本基本ok
	
	--> 那么就还剩mysql版本的了。
	
	可更新，更新的时候把
	参考一下他杭州版本
	clear
	clear
	选择sql都有了，服务也Ok了。
	那么下午就开始更新吧。
	
	V义乌、V金华、V湖州、v台州、V舟山、X绍兴、、、
	
	v丽水、F衢州、V温州、V宁波、X章丘
	F嘉兴
	
	保险起见，先不更。目前知道的宁波就有点问题。
	是查询脚本执行有点问题。
	看一下 还有些什么任务。
	除了oracle的翻译，好像没有什么新的任务了。
	
	AAAAAAAAFFFFFFFFHY
	
	cb9baf65-3fae-4e37-af46-cf6745c96f64
	
	http://60.191.224.180/ECAReportServer/ReportService.asmx
	
	福       
	
	xie'dai
	
	现在开始联调 泸州oracle：
	 
	1.首先把自己的eiservice布置上去，可以查询到唯一的一个项目就好了。
	
	2.其他的服务应该不怎么影响。
	3.布置ReportService上去，照理来说既然都支持，那么就是需要翻译瑞哥的oracle脚本就好了。
	脚本一个一个的来也是可以的。
	只要是能调通。
	如果不难就无所谓了。
	脚本参考哪的呢？
	都可以的吧，现在杭州的mysql找了看看,
	不要太紧张，知道接下来应该怎么做的时候，就稍微休息一下，不要把自己搞得太疲劳。
	
	先解决用户的问题吧。
	V1.ideaBelong
	123233
	X2.
	
	27929068-1
	
	修改ei依赖地址
	
	我明明更新了procedures
	
	大部分的 储存过程装填完毕，待实际测试。
	第一个ok
	
	下面将这个修改一下
	http://www.lzstxt.cn/ECAReportServer/ReportService.asmx
	
	现在还差些什么？
	
	1.服务
	2.储存过程
	
	那么一步一步地来试试
	
	使用瑞哥最新的代码，来布置服务
	
	想想在哪里布置比较好？
	
	如果说调试，那么肯定是使用本地的比较好，毕竟远端的很麻烦。
	不要怕本地麻烦，重新编译好了。
	
	逻辑我不用改，只需要测试通不通
	
	本地测试无法进入断点，算了，直接在服务器上面测试好了。
	
    现在的问题是，如果那个factory不好用的话，可能就需要
	1.用自己封装的？  
	2.进行修改？  
	
	下面呢？
	已经测试了，确实不是一下就能成功的
	报缺少参数错误
	看一下瑞哥的服务代码，看能不能调，然后使用瑞哥最新的比较好。
	
	代码也不是很难
	
	看一下他的DBHelper怎么操作的？  如果不支持，那么其实也可以像郑易一样混合使用。
	
	怎么样？ 看一下 郑易的吧
	没有使用特殊的方法，看一下为什么会报错，怎么解决这个报错
	
	V导出excel   
	
	字段  
	
	V项目 rowguid 
	人员 唯一标识
	
	蛮好用的
	那么现在开始调试瑞哥的脚本。
	
	瑞哥也是用的这个方法，为什么会报错呢，所以看一下情况
	
	使用最新脚本调试
	
	现在使用最新的代码来 写reportService应该是没有什么问题的。
	我只需要对它进行修修改改调通就可以了。
	下面就可以开始一步一步地来了。
	
	我要不要考虑兼容的问题？
	暂时是不需要的，如果以后有这个需求，我可能会考虑更新ReportService为最新的，那个时候才考虑兼容？
	
	没必要，直接现在用一下郑易的直接兼容就好了。
	
	毕竟只是用的deHelper  
	好用就用。
	
	接下来：
	使用郑易的dbhelper然后调通。
	
	照理来说应该通了。
	现在一个一个地调储存过程吧。
	
	14个
	
	其实8个
	目前差一些字段和表
	最好是给他们从建模里面添加。
	还有需要调试。
	
	那么接下来：
	翻译reportService里面直接使用sql的语句。并调试。
	如果都能通，那么进行全部的测试。
	
	考不考虑后面修改的东西？
	
	调试的试试再进行修改好了。
	
	有没有动？  也没有一个svn
	
	看来好像并没有修改Report的东西
	OriginSubPrjGuid并不是所有地市都布置了，衢州的布置了的，但是目前一条数据都没有。
	
	所以使用以前的Report应该没有什么问题。
	
	桐庐支持上报工具
	
	果然他只修改了一个AssignParameterValues
	所以报错是应该的，
	那么我还是不要用他的dbHelper了，
	自己修噶调用就好了。多传一点参数就多传一点，无所谓的。
	多传的话，那么说 每一个参数都需要对应上。
	想想怎么可以简便一点。
	有一个out，
	我不应该动dbHelper 我使用多态来调用好了。
	直接使用多态好了，以后需要的话，再进行修改算了。
	麻烦就麻烦，没有关系的。
	不要太相信他修改的东西，你还需要读一遍。
	
	章丘的需要更新EiService，记得提醒封文龙。
	
	今天调试重点是sql语句部分
	然后修改一下项目状态以后
	继续调试一下上传图纸等。
	
	"HZSGT\".\"TBSUBPRJCATALOG\".\"ID\
	
	\"TBDRAWINGINFO
	
alter table tbdrawinginfo add(
isForXF number default null
,isForRF number default null
,isForCG number default null
,isForYL number default null
,isForCJK number default null
,isForGAJ number default null
,isForKCSJK number default null
)
	576  1

	ECA_getcensorprjprogressinfo
	
	ccir_getcensorprjprogressinfo
	
	4QrcOUm6Wau+VuBX8g+IPg==
翻译工作基本完成。
	那么下面做什么呢？
	1.继续优化？
	2.查看一下哪些bug需要修复的，照理来说都不是很多的感觉。而且也不是非修复项不可的。
	3.继续学习mvc
	4.可能还是继续学习mvc比较重要吧，而且入职马上就到了1年了，应该给自己一个总结。
	
	
	不要自找事情。
	
	还有一个上传设计院凭证的储存过程有点问题。名字太长。
	我先完成了吧，反正到时候也差不多的。
	
	保存基本信息看有没有问题oracle
	
	桐庐的问题解决一下。
	
	V绍兴导出意见。
	
	今天先处理一下桐庐的问题吧。
	然后上传材料的 我先只获取信息，他们网页端自己研究一下如何获取blob文件，这个还有点麻烦的，所以我这边只需要先获取资料就好了。
	我看一下我的储存过程可以获取哪些东西。
	都当做他的fileindex为空好了。
	
	我一直显示 调用 'ECA_GETCORPCERTFILESINFO' 时参数个数或类型错误
	我数了一下参数，个数是对的，类型 也是对的，调用是否正确呢？
	照理来说名字也是对应的，
	还是会报错
	let it go  暂时不管这个Bug了，真tm神奇了。
	
	难道是名字有问题？
	那到是有点可能的哦
	反正都是加了IN_
	加个屁，当然也发现了一个隐藏的知识点，slqserver在调取的时候如果addwithvalue没有加@他好像会自动补上去，所以说为什么黄岛地区的这个函数没有报错。
	而且，只有out参数的时候，好像也不太管用。也报相同的错误。这tm又是什么原因呢？ 不知道。
	假设我还真是只有一个的怎么办？我好像有一个，过去dataset的
	唯一的疑问就是，只有一个out表的时候，我执行这个getdatatable结果还是出错了。因为两个错误的堆加加上一个知识点的不知道通透，导致了这个问题没能一下就给排除出来。
	我很久没有这么头疼一个Bug过了。一定要吸取一下教训，实在想不出哪一步出错的时候，应该采用小黄鸭调试法，一行一行地解释给小黄鸭，它就能帮你理清思路，一定要学会放松，别紧抓着不放。没有这么难的东西会让你头疼这么长时间，所以如果出现了头疼这么长时间，就不是问题的问题，而是头的问题了。所以这个时候就应该学会放松一下你的大脑，并派出小黄鸭。
	我是通过了分析，把（自以为）小概率都给分析进来了。才找到了问题。
	
	下面处理一下 桐庐的问题。
	
	http://115.238.32.56:8088/ECAReportServer/ReportService.asmx
	http://115.238.32.56:8088/ECAReportServerMysql/ReportService.asmx
	http://115.238.32.56:8088/ECAReportFileServerMysql/FileServer.asmx
	添加赋
	pdf  
	.ck
	V资料文件|*.pdf;*.zip;*.rar;*.7z;*.ck
	桐庐先不管了吧，有问题叫他们反馈我再处理好了。
	
	合格 项目  发起 变更审 主要是把图纸传到某个阶段，也可以是下一个阶段也可以直接是变更审阶段。然后可以看到图纸就行。
	
	想一想这个逻辑吧。
	如何实现添加一个审查阶段
	首先我这边倒是没有什么问题，
	那么主要还是ecaupsdk那个有没有什么问题。
	他的审查阶段是从哪来的。
	
	看一下
	cdk_sys都有tbdic，而且都有 变更审的东西，
	
	既然所有的都有这个变更审，那么我也不需要徒填了，
	那么只需要在传入的时候， 传入一个变更审？
	还是说从系统获取？
	我唯一的限制可能就是在查询项目的时候，有一个查询限制，是无法查询到变更审的项目信息的。
	而我增加变更审的东西，只是为了上传图纸让图审能够看到。
	其他的东西，像目录编制什么的应该，应该都没有才对。
	我初始化页面有些什么东西？
	
	顺便把 泸州的变更审加上去好了。
	毕竟是统一的功能，也就是所有地市都要有的。
	主要是属于上报工具这边的。
	记得什么时候提交一下代码。
	
	就现在吧。
	
	想什么想，直接盘就是了。
	
	界面和大概进去的做好了。
	
	现在考虑两个问题：
	1.他对查询是否有什么影响？
	2.他上报图纸是否上报到变更审，他传材料是否上传到变更审，他能不能操作其他阶段的图纸，他能不能操作其他阶段添加的单体人员等信息？
	
	现在开始测试。
	
	在这之前，我还是先整合一下查询项目的sql语句好了。
	
	写得实在太乱了。
	
	不要害怕，去弄一下就好了。
	那么现在 我的查询语句已经优化了。
	
	现在试着看一下这个变更审 到底有没有影响。
	我现在想在合格项目里面，让他出现变更审的项目
	我之前查询最大项目，现在是最大项目+变更审项目
	我用最大项目来Left	join 变更审项目的话，会
	
	现在我需要做什么？
	V1.我需要把原来的修改正确，1246会查不到项目
	1234566可以查到
	2.将第三个查询不区分变更审
	执行了：丽水、义乌、金华、湖州、台州、舟山、绍兴、嘉兴、温州、衢州

	V--> 舟山附件上传服务有点问题。 clear
	--> 章丘  导出审查意见是因为服务器上不去没有更新。
	V--> 数据库脚本的翻译。clear
	V--> 温州上传材料失败。杜说有可能是 文件太大了。clear
	V--> 看一下他 修改 岩土是怎么回事。 哪个库？哪个表？sys  表是哪一个?clear
	clear
	tbSpecCensorInfo
	V--> 嘉兴的显示不出项目名称，不知道他项目名称储存的字段是哪一个。
	这个可以不管他的clear 有些确实为空
	--> 测试一下变更审的上传文件是否会跑到相应的上面
	不要紧慢慢来吧，
	看一下代码吧。
	
	V更新上报工具吗？
	
	V更tm的 章丘的服务器还连不上，wnmn
	V等章丘的服务器能连接上了再更吧。
	
	继续oracle版本的翻译，看一下他们提出的问题，具体是些什么
	clear
	
	-->杭州/导出问题图纸有问题，泸州的也有问题。
	但是这个问题先等他那边解决了以后，我这边再行修改。往后直接使用郑易的接口来获取。
	导出意见的储存过程没有翻译，搞一下吧。
	
	ff732025-ae62-4b14-8659-9ec3c6673ca7
	913702001635757573
	
	上个周末有一个问题是 勘察看不了意见的问题，这个问题是一个通用的意见，也是需要回复的。
	
	更新：
	桐庐V 杭州V
	泸州V
	
	宁波V
	黄岛V
	章丘V
	绍兴V
	衢州V
	嘉兴V
	金华V
	温州V
	丽水V
	台州V
	舟山V
	义乌V
	
	湖州V
	
	导出意见，需要翻译储存过程
	查询项目阶段，无效数字错误
	补充沿线场地现状地下设施埋置情况的说明。
	序号	审查专业	审查意见	审查人员
	
1	岩土	1、报告中提供的抗浮设计水位偏低。
2、报告中未对场地的构造破碎带的发育特征、性质和规模做出分析判定。对场地的建筑抗震地段的确定未考虑场地断裂带的影响。
3、报告中A-8#楼下无剪切波速测试孔，不符合《建筑抗震设计规范（2016版）》（GB50011-2010）第4.1.3条规定。
4、报告中对场地内大口井的水类型判定有误。
5、报告中缺少图5-1；表4-2中部分数据有误。
6、报告中对建筑场地类别的划分依据有误。
7、报告在“场地地质构造”中对场地的地质构造特征描述有误。
	张敬志
	clear
	
	sia Chandelier
	500hundreds away

--> 打开意见的时候没有默认显示一审。
	
	这个网页还需要慢慢看一下。
	今天晚上去运动一下，明天开始晚上捡一下mvc的东西。然后顺便把网页做出来。
	这可是关键时候，加油!
	clear
	-->审查阶段的相关问题。
	
	LastCensorName 我应该直接从第二个查询查出来。
	this CensorName
	如果我的lastCensorName没有呢？
	我反正都是 “”  ，而我的CensorName是有的啊
	所以不改了。
	管他的呢
	那么现在逻辑就是 
	lastCensorName为'' 
	CensorName 有值、 
	
	V我只有LastCensorName 不为空，而且 LastCensorName V等于CensorName的时候，才显示上报按钮。
	
	V图审是否确认又是另外一回事。
	clear
	
	-->那么我现在就有两个东西了。
	不行，我得先把数据库翻译的完成好了。
	先搞翻译吧。
	今天先把Oracle知道有问题的两个储存过程翻译调试一下。
	
	没有的字段再加上就好了。
	其他的遇到问题再说吧。
	当你知道下一步应该怎么做的时候，可以适当休息一下。
	
	select * from tbcensorprjinfo
	;
	for update
	
	1
	
	update tbcorpbasicinfo set "CaseResult" = 1 where "FullCorpCode"  = 'test1'
	
	C15FFEBC26274FCE8608C76CE709E9A4
	一审
	785
	
	V1.首先我应该直接在服务器上面测试，服务器上面有点卡的话，那么等闲下来的时1候再测试也可以的。目前测试出来的问题的转移字符的问题，加上后继续测试。
	
	2.还有一个是清单，看一下清单有多少东西。
		3个东西，不是很多。
	3.尝试做一下mvc的demo。
	4.记得把上报的时候发送短信加上去。
	
	
	调试一下，先把sql语句单独弄出来，一句一句地查询一下。
	
	V现在开始调试一下查询审查阶段
	
	Vprint的那个 需要导表 tbCensorBadInfo 
	我只需要的是表结构，不是需要数据。
	
	V导出来调试一下应该就可以了。
	
	V那么下面再试一下 
	clear
	
	1.MVC-->给重庆，人员信息、用身份证号，和身份证号后六位
	再做软件、不影响正常上报。
	功能:上传的图纸，相关人员确认图纸。
	只过滤图纸表、选择一张图纸、点击确定、然后标识图纸 0是未确认、1确认，绿色为确认的。
	红色为未确认的。
	
	是给重庆做的，所以应该使用oracle 数据库。
	使用mvc做，前端的东西如果太花时间就先不用做得太好。
	主要把功能实现起来。
	
	V2.泸州需求。3个比较简单的。
	
	下面就可以专心研究一下MVC的了。
	
	趁早把短信更了？
	哪些地市有短信？
	ls
	wz
	
	zs-V
	huz-V
	
	jx-V
	tz-V
	sx-
	
	qz
	节点的呢？需要做进去吗？暂时不管应该也可以的。比较查询的时候好像是根据状态来的？
	不对，有的是根据node表来的，有些是根据那个来的，所有node表也是需要的。 
	所以明天把节点的也弄上去一次性更新了
	点一次上报就会发送一次短信？
	这样合理吗？
	不合理又怎么办呢？
	如果上报过了 能不能给他弄成不再可以上报？
	
	那我岂不是要多一些判断？
	管他的发送多个就发送多个，反正接收的也是图审
	现在开始考虑一下mvc的事吧，复制一下登录界面。
	
	1.登录框、
	2.选择项目框
	3.
	
	徐张飞所
	030159
	VE3op5cCUBTcKY8pWTNnVg==
	
	现在已经把表导到模型了。
	
那么现在呢？
	
3个页面：
	1.登录页面
	2.选择项目页面及审查阶段
	3.确认图纸页面

现在试试如何查询数据库的值。
	先有Model再创建Veiw及其使用
	
	从前端获取到是否存在 IDNumber
	V如果存在，则显示绿色，如果不存在则显示红色
	已经可以从数据库取到数据了，
	那么现在来说
	1.获取文本数据
	2.尝试使用比较好的查询方式。
	
	现在尝试获取文本框键入的值，
	post到 Controller 然后在数据库进行对比 返回 是否存在 该用户
	
	现在我要做什么？
	
	我需要实现登录框
	
	流程：获取登录框的文本，然后
	点击登录按钮，验证账户密码是否正确，如果正确打开新的页面，如果错误，给个提示。
		那么我怎么进行验证呢？
		使用下ajax？ 可能Controll的方法不太好使。
		Controll 的定义是什么，Controll用来干什么的?
		为什么要用Controll来搞验证的问题？
		这不太合理，Controll是用来获取 页面的倒是应该可以理解。
		所以应该是验证成功以后，使用Controll来转到对应的页面。
		明天搞一下登陆验证的问题。
		H   
		明天使用js脚本来做一下登录验证的问题，能用Controll当然也可以用，
	
	不要想着使用那种 不太符合逻辑的做法了。
	
	多参考一下其他的方法、尝试着写一下js脚本。
	这个是必不可少的。
	ajax也是必不可少的。
	
	也可以参考一下以前的登录逻辑。
	
	13 26 /12  20k.18  3
	
	整理一下逻辑，
	首先是登录框，然后呢？
	登录后给user一个赋值，
	
	主要我如何获取文本框的值还没有知道呢
	
	不要再按照自己的逻辑去写代码了。
	
	正确的逻辑是
	主界面：是Index
	然后登录界面。LoginIn
	然后首先进入的是主界面，登录界面submit后，把值保留在Sesssion里面、然后刷新主页面的项目等
	
	然后点击项目以后打开新的form还是跳转呢？
	后面再说吧。
	对这个东西不太了解的话
	
	首先我的主界面应该是查询项目界面。
	
	不要考虑太多
	能做的就单独做
	
	310105196611161215  161215 
	
	奥卡姆剃须理论，不重要的先不管好吧。
	
	既然未知错误，那么还是不要用他了
	
	慢慢来好吧。
	休息一会，
	我不需要参照别人的东西，
	
	别人的东西都太花了，自己一步一步地建立好了，只要理解了，学会了方法，那么再试图理解别人的东西。
	
	不要半途而费
	
	既然登录框写不下去，那么我从Prj开始写怎么样？
	
	我现在要开始做的:
	1.新建一个项目
	将EF把模型导进去。
	
	2.通过查询数据库来初始化PrjView页面。
	
	Index? 什么的 ，根本不用管他吧。
	
	下面 相办法渲染一下 PrjView窗口
	
	用什么渲染？
	
	左边是项目名称及审查阶段，右边是该项目名称该审查阶段的目录？
	不太合适吧。
	
	还是用两个form好了。
	先做出来后面要改再改好了。
	现在费力地去设计没有什么意义。
	
	既然网页端不支持的话，那么就把ViewModel 搞成支持的 还是使用ViewModel不就好了。
	
	下面就是放一个链接，将项目对应的编号传送过去
	然后显示 PrjDrawingInfo 界面。
	
	第三个页面，确认图纸页面
	
	请问你知不知道接下来怎么做了？ 
	先把页面布局搞定，然后再看一下使用什么方式进行打开窗体，
	最后做一下 确认和下载图纸的一些实际功能就好了。
	have a rest.
	
	其实我也可以吧prj也当作是form 用来submitV
	
	两个问题，一个是调用 ActionResult/一个是准确得到该行对应的项目guid和审查阶段。  然后调用Action来传入相应的参数。
	
	我现在已经实现了从前端调取后台的Action。 那么请问，我又如何打开新的窗口呢
	
	讲真这种方式根本不太好，我还是直接使用 值来打开新的窗口好了。
	不要经过action。
	
	
	或者我依旧坚持使用submit，但是，我将正确的值传入 到Action。
	
	终于通了，
	下面就开始设计我最主要的页面了。
	也就是 ConfirmDrawing的页面了。
	
	分成两栏：
	左边栏 用来显示 目录。右边栏，用来显示图纸的具体信息。
	
	左边栏：
	专业名称。
		单体名称。
	
	右边栏：图名、图号、审查阶段、设计人、专业负责人、预览和确认图纸按钮。
	
	
	我点击左边的单体以后，右边动态生成table的数据。没有问题吧，应该没有问题。
	
	算了，不要用太复杂的东西，
	
	尽量地简单化。
	
	左边把项目的专业和单体名称列出来，
	专业 list<string> 单体 dictory<专业,单体>  点击一下单体，列出subprj对应的图纸。
	一步一步来吧。
	dic是可以的。
	
	一切从简，不必要的都不需要。
	
	下面开始前端的渲染，
	
	然后再接下来需要做的，就是 预览和确认图纸功能。
	
	有时间给他处理一下桐庐的问题吧。
	
	休息一下，下面是遍历drawinginfos，然后为table动态插入行。
	
	V泸州mysql设计院信息报错的问题。
	
	一个项目会有两个相同的专业，只是因为设计人不一样。
	这个问题不用管。
	
	明天研究一下@符号在 前端页面的使用
	下面要做的自动填充table。
	V想想怎么去实现这个功能。
	
	V填充好了以后，就实现具体的预览功能和确认图纸功能。
	
	整个demo也就基本完成。
	
	设计人、和项目的关系。
	设计人登录能找到项目，但是却不是该审查阶段的设计人。
	
	33071919750911231X
		 下面、使用ajax来调用后台的
		 
		 先做预览图纸的吧。
		 
		 还是先做确认的。先做确认的吧。
		 
		 我要更新的是Model
		 
		 所以要从传值过来的时候就要刷新。
		 
		 
		 下面开始做预览的功能。
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 <a href='PrevDrawing?drawingservicename ='7204f636-b4ab-4b2a-9e5d-1cf828f8c06b.dwf'>预览</a>
		 
		 
		 PrevDrawing?filename='LM-1 大厅B立面.dwf'&fileservicename='7204f636-b4ab-4b2a-9e5d-1cf828f8c06b.dwf'
		 
		 
		 
		 
		 
		 
		 
		 
-->重庆需求：

1.上报提示修改为：本单位（或个人）在“泸州市建设工程施工图联审信息系统”中提交的所有资料及信息均真实、有效，上传DWF格式施工图与PDF版图纸一致。若提交的任何资料或信息存在虚假或违反国家及泸州市勘察设计企业信息报送和动态管理办法等有关法律法规规定的情况，本单位（个人）自愿接受泸州市城乡建设行政主管部门及其他相关部门依法给予的处罚。同时郑重承诺：依法诚信经营，切实保证工程勘察设计质量，严格遵守国家及泸州市工程勘察设计市场管理的有关规定。		 
2.需要的表单及字段。
3.
	
	
	
	
	
PrevDrawing?filename='LM-1 大厅B立面.dwf'&fileservicename='7204f636-b4ab-4b2a-9e5d-1cf828f8c06b.dwf'
	
	遇到了一个超链接自动转码的问题，
	两种解决方案，
	
	
	
	
	PrevDrawing?fileguid=' 7204f636-b4ab-4b2a-9e5d-1cf828f8c06b
	
	格式错了 shit!!!
	ok 现在格式也对了，传值也可以了。
	
	下面读取配置
	
	关键是他的图纸是通过另外一个
	
	http://www.lzstxt.cn/ECACensorFileServer/FileService.asmx
	
	文件下载的也ok了。
	那么下面。
	
	看一下他需要添加的几个表单等，看一下字段和表怎么建。
	
	18.3.0 Oracle
	EF 6.1.3
	
	Oracle.MDA 4.122.18.3
	Oracle.Web -
	OracleMDAEF 6.122.18.3
	
	现在卡在上面地方了？
	
	在使用EF导入oracle到模型的时候
	失败，配置连接字符串等后点击下一步闪退。
	
	现在我有几种解决方案？
	
	1.继续捣腾vs2013，然后将所有的东西都卸掉重装，各种捣腾
	2.换台电脑。
	公司电脑没有vs2015.
	而且也没有数据库
	再试一试吧。
	
	先把上报工具需要的表单做一下。
	
	其实逻辑上并不是很难，
	但是就是字段非常地多。
	
	而且他需要 分类别地显示。
	
	那么意思就开始分类别了。
	那么就需要多传一个参数。类别的参数，反正以前也是打算分一下的。
	
	那么现在重载一下，如果是重庆的，
	
	整理一下有多少字段相同和不同？
	
	然后看一下如何修改，能不能在同一个页面呢？
	
	这样看来的话，他们的那个表到底麻烦吗？
	我觉得现在比较重要的还是确认图纸的功能
	难吗？感觉不是很难吧？
	
	我现在如果能把之前装的tool卸载干净的话，我这边应该也是可以用的。	先试一下vs2017行不行吧，如果行了，那么我也应该不太需要太多的了。
	直接编译一下，放在服务器运行应该就得了。
	
	看一下服务器上面却的字段和储存的方式。
	
	ccir_eca 
	
	如果默认
	
	0913
	
	一会再调试好了。
	V现在先给他看一下杭州的问题。
	
	FC6696A9A09D4C538DF3FEF8242DDB8C
	
	"0ee1007a-34ef-40e1-a699-aab1d72a141f"
	
	C15FFEBC26274FCE8608C76CE709E9A4
	43072619951002223X
	370886554545655445
	
	
	"bf726c01-dba7-469c-8874-0d0f7b905bdd"
	
	修改没有成功，那怎么办呢？
	
	
	"17c42574-8f32-4ced-97bd-b0af5c87d38d"
	
	确认图纸修改 不太好使。
	那么应该怎么办呢？
	
	看能不能换一种修改方式？
	
	写一下log看一下。
	
	这个周，
	
	这个周作息时间正常一点。
	1.重庆的字段。
	2.网页端为什么登录不了，看一下是什么情况。
	
	kill session 他们也没有做。
	
	一个一个地来吧。
	
	我打印一下。表。
	
	我如果是1 是时候会显示转换错误，但是如果我是 6的时候会显示一些信息？
	
	这可能是数据有点问题。
	
	艹tm的数据库有问题。
	怎么办？ 叫他再重新导一下吧。
	
	数据库是真的有问题。
	有些数据可以有些数据不行，
	我应该怎么办？
	
	1.从服务器重新将数据库更新一下
	然后本机开发。
	先让他重新导一下？
	
	吗
	没有必要重新导，我只需要的是把自己本地的模型更新一下就好了。
	
	motherfucker 我根本就没有弄清楚表是哪一个，
	看来我现在报错的都是hzsgt的。
	玩nima啊。因为对oracle登录数据库不懂的原因吧。
	
	那么就是由两个问题照成的
	1.数据库模型不统一照成的转换为decimal报错，其实也可以具体看一下是哪个字段？
	
	
	2.
	那么现在剩余的问题就是登录账户的问题了。
	
	我已经厌倦了他们乱挖坑。
	
	我去填这些坑是我应该做的事吗？
	
	记下来吧。统计一下。
	
	这个问题，暂时不予解决，当然解决了可能会学到一些oracle的原理和知识。
	
	下面还是先处理一下登录界面的吧。
	
	感觉应该不是很难吧，随便处理一下好了。
	感觉还行
	可以学一点东西。
	
	要么今天先把网页完成了。
	
	然后再探究一下oracle登录的问题。
	
	早点下班回去处理一下。
	
	继续做网页的吧。
	无法进入断点是什么鬼情况。
	
	现在报错连连，我还是把它恢复一下吧？ 
	然后再慢慢地重新架构一下？
	
	now,my situation are not very well.
	
	maybe longtime work,maybe havn't got a good sleep last night.
	
	am i busy? just fine.
	I real havn't much mood to deal the work stuffs.
	
	so, just have a rest. solve those problem lately.don't be so hurry.
	
	先不用管环境的问题吧。直接将代码复制过去进行调试一下就好了。
	
	我是从13版本copy过来的代码，我并没有进行调试。生成成功后就直接放在了服务器端。  所以这个项目的有些配置可能不是很清楚。
	
	有些是可以加载的，有些是无法加载的。
	或者说我根本就没有在vs2017上面进行调试？
	我直接放了上去。
	
	我试着发布一下试试？
	直接发布到了服务器，那么现在去服务器上面调试一下就知道了有没有改变。
	
	本机调试有问题，那么使用服务器总不会有错误吧。
	
	what am i fucking doing?
	waste mytime with the fuck vs environment?
	what cause this?
	how to deal with?
	
	so,I have prove it.it's not right on my local but successfull running on the service.
	what about the next?
	I need to debug on my local, absolutely need. so the problem are turn to how to debug in my local environment?
	
	first at all, Did I need the data?
	need but not necessary.just import it!
	5 tables 
	fuck off, the most important thing is how to debug local.the date are not really important. Occam
	
	now I can deal this bug.
	
	do not make things complicate.
	
	放服务器上面去调试一下吧。
	现在问题是每次加载的特别慢。
	
	我本地可以测试这个逻辑吗？
	如果不可以，那么我直接放服务器上面去好了。
	手动打印调试。
	现在也面不报错了，先简单调试一下，然后放在服务器上面进行调试。
	
	返回500错误，还有为是自己的ajax post路径错了。结果不是。
	所以还是要调用一下后台打印 错误来调试一下。
	
	下面我需要处理些什么东西呢？
	
	确认图纸的功能是好了。那么接下来，
	既然阳哥那么说，不太灵活，是不是因为ef导入的原因？
	所以不敢是从哪个账户登录的，表应该可能是什么cq打头的那种？
	
	这个问题我已经反应给阳哥了。他回应了这么说的，所以呢？
	我现在需要做些什么？
	
	1.考虑一下该网页的灵活性。
	2.要是可以考虑一个前端开发就好了。慧文不就是在司职前端吗。这个架构只要好好地弄一下，还是可以把每个人的工作给独立起来的。
	
	3.目前的工作重心应该是给他们做一下重庆的系统。
	重庆的系统包括确认图纸网页端和
	
	1.一个系统可以支持各地市，同时也可以支持重庆的个性化需求。

2.所在地市放左边去：
3.设计人员，承担工作，换成字典表。根据字典表来读取。
clear
clear

-->4.
目录增加一个字段，材料表里面，目录里边，这个字段，必须要有，初始化材料，材料的字段必须要有值。
首先添加一个是否是必传项的字段，然后在上报工具读取这个字段，并给该字段打上红星？
然后上报的时候检测一下，该红星目录下面是否包含文件，如果没有包含，不允许上报。

think about what you gonna do after work:
V1.hotel
V2.some daliy using.

首先我需要标记的，

大概懂了，首先的话这个不太重要，但是我这边先把口子给出来。   维护是指一段时间内，我的目录是可以维护的，必填项也是可以维护的。
这个一段时间会是很长一段时间，所以，在主表dic里面。添加上这一个判断。

然后控制的话，

现在查找一下 是如何存入file的。
他是通过直接在material 里面直接

那么我直接在上报的时候，进行一下逻辑判断就好了，
判断一下哪些目录下面没有 文件的

有两种情况

-1目录  ->  目录 ->文件 
-1目录  ->   文件

有点像树的遍历了。
广度优先。
只要找到

我需要在 数据库里面实现？我可以直接在数据库实现吗？

我不需要顺序，我只需要的是 知道是否存在就好了。

所以用一个循环就好了。

用一个while

然后来查找

怕不是把真个目录给删除掉了。

要做就要做好，所以下面光是有目录是不行的，一定要有文件。

我有两种判断，流程：
select essential(-1)

(loop)foreach son in select essential.sons
if sons.count = 0
contine;
if son has file
return true;

if son has subCatalogs
foreach subCatalog in subCatalogs
set subCatalog goto loop
...
...
...
...
...
oracle 有递归的
按钮弹出  两种 SJY/TS
1c for bolicl
1c for zhongkkqc

审查机构确认是否 

有种情况没有考虑一下

如果我查出来的

我查询出来有没有catalogtype=2的还不足以判断。
我需要详细地核对具体是哪一个 必填目录下面或者下下面或者下下下面没有文件。

我先查询出需要的目录，然后呢
再查询  我卡在了这
我已经可以把文件都查询出来了，关键是。我现在需要知道每一个必要的父目录下面都有没有 文件。

所以我的查询应该是，查询，所有count(filetype=1)=0的essential目录。 如果 存在，那么将不能继续往下面执行。


-->
5.节能设计表、

6.做成一个单独的dll。如果使用单体guid初始化，单独窗口来修改和展示。

既然他们说那个维护的控制先不做那么就先放着好了，因为还有点难。而且阳哥叫我先处理一下这个。
那么我先做节能的好了。

应该只用建两张表吧？
一张住建、一张公建

一切从简，今天把两张表完成了。

有些什么字段，写出来让他们使用建模来建。

页面设计方面，一切从简，格式后面再进行调整就好了。

先把整个功能做上去。

clear

1.让他们在建模添加这些字段。
2.目的是先做一个页面出来，那么快速地画一个FORM
  然后修改一下服务
  ，然后储存过程。
  
  
  
  奥卡姆剃刀理论。
  
  
  第二层，已经有了prjguid。
  相当于单体列表，
  第三层 相当于单体具体。
  
  
  
  
  dic 先本地解决，不用创建新的表。
  
  下面是取名，给每一个需要使用到的控件取名字。
  
  名字取好了。
  
 V 1.调整一下dgv
 
  2.开始初始化和保存字段等操作。
  
  还差
  
  3.看一下文档，将简单的修改一下。
  
  4.发布版本，提交svn。
  
 现在开始修改一下简单的东西。
clear

文档上面简单的东西都处理了一些，现在需要照着文档把所有东西做完。
快速处理吧。
把能修改的东西全部都给修改好。

-->数据统计工具
  
  ID号有空白的，有重复的。
  末尾几条有多数据空白的
  有报审号为空的
  有相同记录重复的
  
 
 一个问题一个问题地来。
 唯一标识为什么有空白的？
 VA:因为有这个项目，还没有进行安排人员操作，可能是因为刚立项或者其他流程，没有走到安排人员这一步。
 
 V有重复的：这个是初步推断是重复数据，看一下为什么会有这么多重复数据
 
 V末尾几条有多数据空白：A：因为没有安排人员。
 
 V有报审号为空的：数据库本身为空的，有可能是因为专项？
 
 还是上服务器查询一下比较好。
 
 空白的去掉。
 V不要着急，饭后处理。
 clear
 
  -->整理一下，手上还有多少需求：
 重庆需求：
 v1.节能的模块还差额外三张表
 V2.修改终止审查
  终止审查字段用现有的 CensorStateNum ，状态为004时标识该项目终止审查
  
	tbCensorIdea.ServerSensorIdeaNum
	tbCensorMessageDetail.ServerSensorIdeaNum
	tbCensorBadInfo.ServerSensorIdeaNum
	
 X3.工程性质未获取到（网页端）
 4.修改提示内容（未给出提示内容）
 5.意见项目模块可以看见图审回复状态、确认状态两个字段。需求描述得不是很清楚，需要知道字段
 6.意见回复模块可以知道（消防审查）的子项类型、违规类型，这些是什么？
 7.上报的时候进行判断，必传目录下面是否包含文件。如果其中有一个不包含，则无法进行上报。我可以查询出来两个东西，一个是必填目录，left join 一下他的子目录。。。慢慢思考一下吧。有点复杂。
 V8.义乌的选择建筑等级、
 9.差字段导致意见导不出来。
 这个问题严重吗？不知道会影响什么，但是我已经提醒了。记录一下就好了，后面再说。
 
子目录的子目录。。。
 
 -->那么我现在能做的 是节能模块。 今天周二，三天把三张表给搞定吧。
 确实有很多重复代码，不能作为搬砖的随意复制粘贴，最好考虑一下尽量少的代码来完成。
 没有关系、我只是写代码的时候合着写，但是架构上面，其实没有什么改变吧。
 
	看一下不就好了

	尽量使用参数控制。
重复代码是没有意义的。
clear
-->1：图意见画完、
下面需要他们把表字段添加上然后根据字段面层名称给 界面命名。
	然后开始撰写逻辑。


2：创建两个表结构，叫他们建模添加。
3：服务
4：储存过程
5：
 表直接叫他们自己创建吧。
   
   表还差一点。
   表他们根本没有建多少。
   
   我也无法取名字对吧？
   
   所以还是有点小卡进度。take it easy。
   我先尝试做做其他的？
   
   最近状态不是很积极，是不是有段时间没有做运动了？
   clear
那么我先处理两个问题：
	V1.修改查询项目的语句
	
	V2.增加审查结束的。
	
	3.处理一下如何在上报之前判断是否有。。。。
	
搞东西搞快一点。不必要的都不需要。提高效率

V现在基本修改完了，放在服务器上面一下调试一下试试
done，已经可以判断终结审查的了。
管他的，能用计算机处理的，坚决不使用人工处理。
所有字段命名完毕，现在可以开始撰写逻辑。
下面知道怎么做吗？
把add 和Modify封装一下。尽量让代码简洁一点。
用参数来控制就好了，干嘛还有写多余的呢？
不要考虑太多优化和设计的，先把功能做出来再想着如何去设计和优化。
不要思考地太多而不做，想好了就去实现。

 -->提示：
 本单位（或个人）在“泸州市建设工程施工图联审信息系统”中提交的所有资料及信息均真实、有效，上传DWF格式施工图与PDF版图纸一致。若提交的任何资料或信息存在虚假或违反国家及泸州市勘察设计企业信息报送和动态管理办法等有关法律法规规定的情况，本单位（个人）自愿接受泸州市城乡建设行政主管部门及其他相关部门依法给予的处罚。同时郑重承诺：依法诚信经营，切实保证工程勘察设计质量，严格遵守国家及泸州市工程勘察设计市场管理的有关规定。
 
 -->现在遇到一个问题说是参数个数不匹配的问题。
 
 只有使用二分法来进行查找了。

我能不能写一个小程序来进行查找？

试试 
clear

--> 他们比较着急 设计院新增字段的问题。
	先看看需求考虑一下，不一定马上就要开始码。
	
	1.终止审查，显示未回复天数
	2.图号_图名 命名规范
	3.给他们也没有详细反馈。
		那么先把简单的修改了吧，最后再做增加字段的。
	4.对于设计院的回复，图审机构需要对设计单位回复意见确认。 需要知道字段，是跟着项目走的。与审查阶段无关。
	V5.图审对4张节能达标表的查看。
	
	V6.杭州导出意见没有图审电话。
	
一次性上报 研究一下他的逻辑。
一次性上报，多次上报后会删除那条数据重新上报，可能会导致死锁。
	有可能造成死锁的原因
	我多条线connect进来
	
	然后delete一条数据
	我又插入一条数据，但是这条数据库跟delete的数据库有点紧密相连。（删除是依靠servernum，插入会插入相同的servernum。  所以我在执行插入的时候，会不会被delete的同时修改影响到。）
	本来就是同一张表，同一个判断条件。
		-->
		考虑一下他为什么会有一个delete操作。
		可能就是因为没有这个唯一码，我的每一条数据都不是唯一的，我的数据块倒是可能依照了项目的某个列，列唯一。
		他本来就是本地数据库上报到服务端，所以根本就没有查重，直接是非常简单粗暴地清空，然后再提交。
		相反，瑞哥的commit change就做得太好了，（当然不知道数据库的查询语句具体是否比较好）考虑到了服务器端的压力，以最小的代价来将本地的数据更新到服务器。所以服务器端的操作是最轻松的，客户端的操作才是大头。
		而cs架构就是为了胖客户端来减轻服务器压力。
		所以啊，对服务器的代码撰写人员是有一定的要求的。做事不考虑你搞服务器端，影响的将是整个使用服务器的用户，还会影响使用服务器其他模块的同事。他做了一件好事，就是四处留名，让所有人都    。现在看来就是一个donkey，写一些垃圾代码还把自己名字留着，还真没见过such dumber 开发。
		
		
		
	多线程对同一张主表进行 查询 删除 插入操作。  导致的死锁。
	
	解决思路：1、大部分死锁都是因为代码逻辑不严谨导致的。
	所以如果可以从根本上面修改一下更为谨慎的代码逻辑，可能这个情况会好很多。
	2、可以尝试对死锁的程序进行解决，这一就是堆叠，为了解决bug来撰写新的功能，优点是只需要考虑目前的Bug，不用动摇以前的逻辑。
	
	最好的方法当然还是读懂逻辑然后进行相应的修改。
	肯定了，必须要安装这个方式来修改，不然怎么叫优化。
	
	-->那么我现在需要找到它逻辑容易造成死锁的原因，然后使用一些逻辑控制
	
	原因1：mysql查询、插入、删除时间慢过长。  在这个漫长的查询时间中，又有其他的线程同时对这个表的相同数据进行操作。那么也就导致了死锁等原因。-->了解一下查询过慢的原因
		查询过慢的原因：查询方面使用 储存过程、函数、触发器、试图等 对象直接达到预想的目的，可以理解为自己查询自己，而使用程序查询，涉及到打开关闭这些很多操作，为程序查询自己。所以会慢一点。
		2.
	内存和cpu都是很够用的。
	
	想一想阳哥对这个上报函数的描述：
	很多删除的。
	他是想取代掉删除的。
	
	我取代掉了删除的是否真的达到了优化的目的呢？
	应该是有优化的。不然一会delete一会又insert
	我就应该使用唯一标识
	tbCensorSubPrjInfo
	tbPrjDesignEconUserInfo
	qmi_tbProjectEconPeopleInfo
	qmi_tbProjectWyjzInfo

	2.上传的逻辑，如果我要干掉delete
	那么我只有先把唯一ei需要传过来一个唯一标识查询出来，加载到内存，然后判断一下是否存在，如果存在则更新，不存在则插入。
	
	1.把很多的查询都给它建立索引
	2.搞清楚 一行语句包含对同一张表的删除插入，是否会造成死锁。
	
	上传图纸、上传材料、
	
	点击回复的意见
	
	上传附件的时候、
	
	ei里面提交一个项目的意见
	
	EI、上报的时候会比较卡、
	上报、
	合格书生成的时候会卡、
	出图系统、项目的图纸比较多的时候会卡、
	
	删除和修改、
	
	上传人员、
	该进程已经被锁死、			重启一下就可以了。
	
	大概记录了几个会比较费时的数据库操作。
	
	语句过多的时候，都采用牺牲线程
	
	能用查询来代替 delete或者update的时候，一定要使用。
	
	今天继续优化？
	还是看一下字段怎么加上去？
	看一下字段吧，  项目的单体的？
	
	优化sql语句、
	
	删除insert和update
	
	
	insert into tbPrjDesignEconUserInfo(,c1,c2)      values(@c1,@c2);
	
	select 会不会比delete快一些？
	
	mysql select + update  是否比 delete+insert快一些？
	
	那么现在就这样修改设计：
	从ei上面传入一个唯一码，
	然后
	
	没必要：
	这样设计：
	里面有delete和insert的，全部使用replace语句替换、
	然后有循环插入的，重新拼接语句，让语句一次执行。避免重复执行。
	
	如果他在本地执行了删除插入操作？
	
	所以唯一码应该是必要的， 
	比对唯一码、现在执行三种操作。
	先比对服务器据库里面的唯一码有，本地没有的
	删除这些。
	然后直接使用replace Into？
	相同对替换。不同会新增。
	
	
	1.唯一码相同：replace
	2.唯一码不同：
		
	
	-->先把自己的update修改一下。
	
	目录编制 无法找到表2。
	
	V我回复意见的可以了。
	杭州桐庐应该没有问题了吧？ 
	我修改一下 试试 
	
	那么现在 试一下把孟令飞的上报优化一下。
	
	更新、插入、删除。
	如果直接使用我的方法、有则更新，没有则插入。
	再加上本来就是语句的优化，所以速度会飞起的。
	那么我现在注重优化语句。
	唯一的是，需要一个唯一标识符。
	
	那么就需要知道，他的这个
	1.是否有唯一标识符。而且如果是guid,那么它生成的时间是怎么控制的？所以，不delete的话。还有点难？
	想一想他的这些特性，
	都是把表清空，然后覆盖进去。
	所有的参照，都是以本地数据库为准。
	那么本地下载的时候，是否会从服务器上面下载下来？
	为什么会出现冗余的数据需要删除？
	看一下他这个流程。
	下载到一个全新的项目 -> 然后补充上报->然后本地进行了修改->再次进行了补充上报（覆盖了上一次的上报，所以有一个删除上一次上报的操作）->
	
	那么还有删除掉的呢？  
	我肯定需要比对一下。服务器上面的和这里的。
	所以关键的还是
	
	明天调试一下。
	
	一个是把这个字段碰一下。
	
	主表有singlekey
	tbCensorSubPrjInfo只有一个 subprjnum
	tbPrjDesignEconUserInfo 只有一个PrjUserNum
	
	
	主键
	
	先用第二种方案、
	
	只优化数据库语句。
	
	一条一条的来、
	insert into tbCensorSubPrjInfo({0})           values({1})

	阳哥说的唯一是  因为报的多了进行了堵塞。
	主键冲突。
	阳哥说的问题是主键冲突、这个问题是因为读取到本地操作后的结果。
	应该直接在数据库进行操作就不会存在这个问题，也就是让数据库自己生成主键就不会出现这个错误。
	
	他是
	insert into tb ()values(@) 
	我可以修改成：
	insert into tb ()values(),(),()
	
	如果mysqlcommand 内部封装的是把  @ 替换成 value的话
	insert into tbCensorSubPrjInfo(SERVERSUBPRJNUM,RECSTATENUM,SERVERPRJNUM,BASETYPENUM,PRJSIZENUM,PRJFUNCTIONNUM,BUTTOMFIREPROOFLEVELNAME,ANTIQUAKELEVELNUM,FUNKHOLELEVELNUM,SAFELEVELNUM,STRUCTURETYPENUM,PRJTYPENUM,PRJLEVELNUM,SUBPRJNAME,INVEST,AREA,BOTTOMFLOORCOUNT,ISLIMITED,MEMO,PJRSIZE,BUILDHEIGHT,ISSUPERHIGHBUILDING,FLOORCOUNT,ROOMSTRUCTNAME,BASETYPENAME,ISCENSORXF,ISCENSORRF,ISCENSORFL,ISCENSORFLTYPE,BUTTOMAREA,BUTTOMFIREPROOFLEVELNUM,FIREPROOFLEVELNUM,GREENLEVEL,ADDRESSAREA)           values(@SERVERSUBPRJNUM,@RECSTATENUM,@SERVERPRJNUM,@BASETYPENUM,@PRJSIZENUM,@PRJFUNCTIONNUM,@BUTTOMFIREPROOFLEVELNAME,@ANTIQUAKELEVELNUM,@FUNKHOLELEVELNUM,@SAFELEVELNUM,@STRUCTURETYPENUM,@PRJTYPENUM,@PRJLEVELNUM,@SUBPRJNAME,@INVEST,@AREA,@BOTTOMFLOORCOUNT,@ISLIMITED,@MEMO,@PJRSIZE,@BUILDHEIGHT,@ISSUPERHIGHBUILDING,@FLOORCOUNT,@ROOMSTRUCTNAME,@BASETYPENAME,@ISCENSORXF,@ISCENSORRF,@ISCENSORFL,@ISCENSORFLTYPE,@BUTTOMAREA,@BUTTOMFIREPROOFLEVELNUM,@FIREPROOFLEVELNUM,@GREENLEVEL,@ADDRESSAREA)
	
	我应该能执行 
	text= insert into tb (a)values(@a1),(@a2),(@a3)    
	parameters.addwithvalue(@a1,v1)
	parameters.addwithvalue(@a2,v2)
	parameters.addwithvalue(@a3,v3)

	那么可能就是如何去拼接字符串的问题了。
	
	sys_maxkey 他用这个是用来干嘛的
	如果两个人在 没有更新 sys_maxkey的时候，同时select 了一下这个表。
	那么
	
	那么现在的问题是 先解决一下这个 duplicate key的问题。
	我为了保持插入pk 后能即时更新sysmaxkey表的值，
	我是使用的触发器，after，怎么可能会有比自己内部的运作更快的呢？
	本来insert的时候就是锁了表的，触发器没有完成表是不会解锁的。
	所以这个可以，
	那么下面是如何保证 插入进去生成的key和 服务端保持一致的问题（当然需要先知道他是否使用了这个key，最多应该只有挂在单体的人防会使用，就是看一下就知道了。）
	
	确实是有挂靠的。
	那么我还是使用一个唯一键不叫合适吧？
	我以为没有单体的guid是建模造成的，原来是上报的时候没有生成，是服务里面造成的。
	孟令飞
	
	瑞哥的代码是因为封装太好，而且没有bug，只是没有注释，是难以下手新增。
	而孟令飞的代码是因为重复太多，堆砌太多，根本为了自己写的时候懒得动脑，bug遗留不做处理。除了给后来人增加工作，是没有什么好学习的地方，警醒后面的人千万不要把自己的代码写成这个b样，在系统知识上面该学习的时候，还是要认真学，认真研究，少让后人问候自己的家人。
	
	我还是使用唯一码来解决这个问题吧。
	上报的时候，在服务端生成唯一码传到服务器，
	这样就能保持一致了。
	
	正好这个guid是后来自己生成的。
	
	单体人防的搞定了，还有其他的了。
	运用同样的逻辑即可。
	只有清明节回来解决了。
	
	先解决insert，再解决更新的问题。
	懒得看了。
	
	下面怎么做？
	
	将其他的上报的函数也做一下修改。
	
	还是看一下 这个 UploadCensorProjectInfo 3 4 吧，能揉在一起的揉在一起。
	敲柠檬的重复代码，
	
	先在本地测试一下上报的。
	
	现在已经更新了设计院的，还差勘察和联合设计的。
	
	继续优化一下吧。
	
	那么我可以暂停一下。先问一下。重庆字段的问题吗？
	
	分为4个类型的。
	
	以前的浙江应该是没有区分的？
	
	因为在数据库里面，表都是同样的。
	
	我作为前端来根据项目类型显示不同的页面，是符合逻辑的。
	
	其实这个工作不是复杂或者困难。
	是因为为了兼容，我得重新增加或者修改好几个页面来录入。
	工作量比较大。
	等阳哥说他说他过来了再碰一下。
	
	那么现在我可以先暂时处理两件事：
	1.上报之前判断必传材料的问题。只做了一半，
	V2.继续优化杭州QMIService的问题。
	
	我继续优化吧，本来就是一次优化怎么还分开做呢？
	就算维护麻烦，休息一下继续完成吧。
	
	那么下面试一下，判断必传材料的。
	
	我要查询什么？
	我要查询是的 是必传项的父节点下面没有文件。
	
	我能不能反向查找？
	
	我查询该prjid下面的所有文件的根目录，在查询该项目根目录，存在右边集合有的左边集合没有，那么就具有未上传的根目录。然后查询这个未上传的根目录的名称。
	
	V1.使用递归根据项目的文件查询根目录。
	select row_guid,filevirtualpath,prow_guid,connect_by_root(catalogname) rootname,connect_by_root(isessential),catalogname from tbprjmaterial
 where prjid =764 and catalogtype = 1
start with systemcatalog =1
connect by prior  row_guid= prow_guid
;

	然后再查询该项目为isessentail为1的 
	
	2.然后比对是否存在 第二是 不存在于第一个的。
	select catalogname from tbprjmaterial where prjid =764 and isessential =1 and systemcatalog = 1 and row_guid not in (select connect_by_root(row_guid) rootrow_guid from tbprjmaterial
 where prjid =764 and catalogtype = 1
start with systemcatalog =1
connect by prior  row_guid= prow_guid);
	
如果行数大于1
	if count(*)>0 then
	
	select wmsys.wm_concat (catalogname)as names from tbprjmaterial where prjid =764 and isessential =1 and systemcatalog = 1 and row_guid not in (select connect_by_root(row_guid) from tbprjmaterial
 where prjid =764 and catalogtype = 1
start with systemcatalog =1
connect by prior  row_guid= prow_guid);
	
	
	
	begin
set @NewNum =(select max(serversubprjnum) from tbcensorsubprjinfo)+1;

end
	首先完成上报前未完成目录的问题。
	
	然后处理一下重庆的个性化的问题。
	
	重庆使用继承，该封装的给封装一下成为基类。
	
	先把简单的处理完吧。
	V终止审查，    X显示未回复天数(是根据什么来的？是根据审查阶段来的？每一个阶段的延期不一样。延期表设计有问题，未按需求设计)
	a little tired. when you know how to do in the next, have a rest.
	查询最大审查阶段的CreateDataTime.然后放进去就好了。
	
	V1.必填项标红星？
		哪些是必传项，我先弄一个试试，然后使用最简单的方式达成就好了。
		红星的话需要重载自定义控件，比较麻烦，暂不处理。
	V2.上传文件不符合图名_图号 格式。
	3.意见回复表需要添加一些	消防审查的单体类型，子项类型、违规类型等。
	
	V把这个处理了就开始处理重庆字段的问题了。
	:
	V需要看一下这个表的数据是跟着什么走的，跟detail又有什么关系，是放在上面还是放在专业上面还是下面比较好。
	就一个查询语句的问题。
	
	
	4.
	
	字段字段是最重要的。
	
	重庆的项目、单体字段。
	
	下面开始做重庆的字段吧。
	
	首先是基于现有的模板进行继承的。
	
	所以首先得对自己的 架构进行剖析，
	1.比对字段差异、逻辑差异
	2.简单的重构，便于继承
	3.开始完成重庆的独特界面。
	
	在重构的时候尽量使用多层。
	然后，考虑一下，如何直接使用baseform的this，来CreateInstance，尽量不重复地初始化基类。
	应该还是架构的上面有点问题。
	我为什么会继承？  我继承的只是结构，但是我实例的时候，该初始化的时候还是该。这样讲其实也能说得通。
	但是我重复地传入相同的参数，来对baseForm进行初始化，这并不应该。
	所以这个时候就需要把重复的参数，变成自己的CreateInstance？然后使用static保存起来？那么就单独地去封装这些重复的参数？
	
	我一个baseForm其实是分为很多层次的。
	目前是使用的多态。
	但是其实是分层？
	
	我对baseForm的定义是什么？
	他作为基类有一些什么特性？
	
	我现在要做的，
	是将baseForm分层。
	
	第一层：
	CityName初始化、
	第二层使用 另外一些比较特性的关键字来进行初始化。
	
	我初始化第二层的时候，是基于第一层的来继续下面的初始化的。
	我初始化第三层的时候，是基于第二层 来继续下面的初始化的。
	
	试一下，我初始化一次了以后，我不再修改
	
	继续将所有的修改完全。
	
	避免重复代码的做法是正确的。
	
	V还差规划审查的需要修改。
	不是很多，可以稍作休息一下。
	
	重庆的字段。
	
	看一下有多少
	
	逻辑：
	
	首先我的页面，
	哪些页面需要修改？
	
	1.项目基本信息页面
	2.单体页面。
	
	3.上传材料。
	上传材料的就算了吧。比较是sdk。
	
	其实也就是2种页面，
	然后分类：
	分为多少个类型？
	4种类型的项目
	
	然后比对一下字段差异
	然后将公用的字段封装起来搞一个basePrjBasicInfoForm
	这个Form又继承自baseForm
	
	然后单体的类，也是相同的操作。
	
	尽量也不要写重复代码。
	
	建筑工程、装修工程、市政工程、岩土工程。x2
	再加 消防、防雷、人防。
	11个页面。
	
	能用自动处理的坚决使用自动处理。
	不然你一个一个初始化，花大量时间撰写重复代码，根本就没有什么意思嘛。
	
	页面只是作为数据的渲染。
	所以渲染的时候自动渲染比较方便。
	
	如果是重庆的才走单独的页面，其他地市的还是使用原来的老页面好了。
	
	if u feel tired, just have fun with yourself, have a rest.
	slow down, do not hurry.
	
	趁这个时间，我先优化一下查询项目的审查状态的东西吧？
	
	想着如何去比对字段的差异？
	用excel表格？
	
	有一部分是提取的，这个不用管，
	还有一个部分是差异的。
	
	首先我需要增加一些字段来录入这些信息。
	
	*新增字段
	
	同样的表肯定是必要的。
	我应该考虑一下这些字段最终都流向哪了。
	猜的话，一个是合格书？一个给图审看？给建筑单位看？展示？
	
	所以我这边添加了字段，那么
	不要先问，先了解了再问。
	这个其实无所谓的，
	
	两件事：
	1.优化（暂时不予优化）
	2.11个页面
	
	特点:
	1.都是从服务器上面查询下来的。
	2.如果我按照一般的思路的话
	
	那么我需要做的，
	
	我能不能在oracle上面使用 insert into table(guid,columns) values on duplicate key update =values
	
	但是
	1.我还是有一些字典表的。
	2.
	所以，应该不行的，因为还有一些逻辑控制，所以并没有那么简单。
	
	我之前的几张表都是使用的 储存过程的方法，其实我这边也是可以这么用的，在撰写存储过程方面其实，没有那么困难。
	所以就是搞一个单独的类，prjbasicinfo class来封装基础的信息，
	然后呢？ 我如果进行差异更新呢？
	我之前用了一个add type。
	那么我跟你这个type 在储存过程里面进行差异更新可以吗？
	absolutely yes.
	
	所以我储存过程的逻辑没有改变。
	
	那么现在考虑一下本地：
	我有没有便捷的方式去
	没必要考虑了吧，其实字段也不是很多，
	也就是所有的字段。
	。。。
	获取的时候也是获取所有的字段然后比对页面如果有相同的，那么就绑定起来。
	
	我有一些字段是通过字典表的，我更新时候使用的字段和获取的时候得到的字段字段名称相同吗？
	
	我使用了left join dic的方式给相应的字段取了别名，所以上报的时候应该也是一样吧。
	看一下不就知道了，如果有不一样的呢？
	能不能修改成一样的呢？
	能的吧。
	也就是一个展示用的名称字段，这个地段有可能是对应字典边查询出来然后取的别名。
	所以这个别名是可以一样的。
	
	所以 sdk对txtbox继承的ecatxtbox还是有点道理，如果能用的话，应该还是可以提高效率的。
	不要在乎这些，主要目的还是为了分层，既然需要写多个字段，那么写就是了。
	
	明天开始 封装 class，然后一个一个完成一下11个窗体。
	
	先整理添加字段。
	
	先做基本信息的。单体的先不管。
	
	字段给他们添加还是蛮好的。
	分摊自己的工作量。交给他们处理说不定做得比你自己更好。
	
	我还是将base独立出来了。
	
	那么接下来呢？
	
	在如何根据传入的参数来确定，初始化的页面？
	
	这叫什么？ 
	
	分析一下，我根据传入的参数不同，然后初始化了不同的子窗体。然后我会用到 但是在外面看来，都属于base的，所以我用的时候，会选择直接调用base自己所带的东西。
	vitual?
	还是说我直接就知道我需要调用的哪个页面，只是初始化的时候会用到base。  所以问题就在于，
	我调用的时候是否关系他是具体的哪个页面？ 
	
	如果不关心，就是使用传入参数的方式来，你自己决定调出哪个具体的页面。
	
	而我在使用的时候，都是当做base来使用。你具体的我不关心。这个编程思路是正确的。
	
	参照一下瑞哥或者是书这个是如何实现的。
	
	我应该可以直接根据参数来CreateInstance
	
	Return， 看一下我具体的需要调用到子类的什么函数。
	这个函数应该是所有窗体所共有的。
	
	应该可以了的。
	
	
	get的和update的字段数量不对应，所以不能那么用。
	那么也就是分别使用SaveDate了。
	
	我本来就已经把所有的tb放在了，base的all里面，
	但是这个tbs和update的并不等同，而且每一个子forom有不同的tb。所以并不是一个稳定的tb。
	什么最为稳定呢？
	当然还是通过固定的，dic才是最稳定的了。
	
	上报的时候使用DIC来进行上报。
	然后固定储存过程。
	先将这个BaseForm及其子窗口做出来再将吧。
	
	做出来后更新，Oracle。
	
	如果非重庆，走的原来的逻辑，所以并不影响。
	
	而单体的表就不一样了。
	单体的表特殊情况特殊分析就好了。
	
	今天继续处理一下11个form。然后试着把周三空出来，问一下是否能请假。
	工作不会缺这两天的，所以把握一下。
	
	如果有这个字段，并且这个字段的的readonly is false。
	并不可靠
	那我用一个比较可靠的方式试试？
	用tag？V
	
	
	
	ei上面    
	后台
	
	储存过程使用一个，
	damn it.
	
	那么怎么做比较好？
	我尝试获取储存过程的参数？
	
	一种是手写、一种是根据储存过程获取。
	
	我现在在纠结到底选择哪一个、
	
	不要搞得太麻烦了吧。
	我只是懒，但是如果麻烦的话，那就达不到偷懒的目的了，所字段手动加上去就好了。
	
	储存过程本来就是我这边控制的。
	
	下面我需要做什么？
	
	1.先修改储存过程好了。
	2.然后手动添加静态字段。
	V3.修改代码逻辑。
	4.调试。
	
	浙江版本没有图审的反馈内容。
	没有添加显示的地方。
	首先需要找到对应的字段，然后，可能要涉及到代码的修改，可是怎么更上去呢？这是个问题。
	
	因为我现在的版本在开发重庆的新特性，所有就完整程度来说并不是很完整。
	
	但是应该不影响，所以先解决这个问题吧。
	
	只要不影响现在上报工具的时候就好了。
	
	那么找字段是怎么找呢？
	
	问一下？  I not really wanna talk to such fucking son of bitch, so, Find it by Urself,do not mess.
	找一下，然后更新上去，
	
	项目无法上传图纸的，阳哥也一直没有回复，反正首先是这个db是有问题的。 所以先不用管他怎么上传不了。
	毕竟问题不卡在我这。
	
	16种更新语句 排除掉
	设计填写岩土的3种、
	勘察填写设计的3中、
	
	还有10种
	
	不如这样吧，反正我的IN_参数表是一定的。
	那么这个IN_参数表就是要把所有的都包含进去、
	然后，我在本地的时候，通过UserType来修改一下tb的名称。
	
	我更新的时候，就不用变了？
	其实我该写的更新语句还是要写的吧？
	cao
	联合设计只需要填写一个项目负责人。
	
	我想我的更新语句到底tm的用哪种方式比较好，尽量避免写一些无用的代码吧。
	
	他们的不同就只有项目负责人不一样。
	现在应该只有储存过程上面的问题了，那么我就直接使用语句拼接好了。
	
	execute immediate sql
	
	以前的逻辑是只有 design和econ的联系人和电话、根本就没有联合12的。
	
	我有哪10种更新查询？
	
	abcd
	1234(类型)
	
	a1 a2 a3 
	b1 b2 b3
	c1 c2 c3	字段不一样。
	联系人不一样。
	d4
	
	我需要些3种不同类型的
	字段不一样的update语句
	
	然后设计院写全  联合12只更新项目联系人
	所以我还需要传入设计院的type吗？
	我怎么能知道这个设计院的type？ 
	我倒是可以把设计院编码，也传到储存过程，进行判断。
	传吧传吧，mgj
	已经很慢了。
	天呐我到底怎样才能提高我的工作效率啊，玩nm啊，搞几个东西这么慢。我真是受不了了。
	1.小目标、直到完成目标稍作休息或者其他奖励
	2.如果被打断的话呢？ 照常处理好了。阳哥的任务是强制中断、主线任务是8个form、其他的属于后期优化的，如果有错误的情况暂时先不予解决。
	毕竟现在系统也算稳定、如果出错毕竟少。
	3.不要钻牛角尖，不要过度进行冗余设计，简单完成是最好的，后期优化后面说。
	4.take it easy。做第一个遇见很多问题是很正常的，花时间去思考也是很正常的，后面的会快很多。
	
	明天来撰写存储过程，先用最快的速度完成，优化是后面的事。复制粘贴好吗？少量的复制粘贴就不计较了吧。比较这个也算是懒的一种方式。
	
	现在我遇到了什么问题？
	我明明执行了储存过程成功，结果没有更新掉，但是我在测试的时候是可以修改成功的。
	
	这是为什么呢？
	
	休息一下，一会再看，我真是bed a dog
	V
	现在可以了的。
	那么说，下面呢？
	
	V看一下绿建星级为什么没有保存成功
	
	现在建筑工程的已经好了，测试一下。
	已经完成了建筑工程，
	那么下面还差哪些？
	
	V1.还有其他三个专业对应的窗体及储存过程。
	好像都完成了，下面测试一下就好了。
	
	2.等待刘山琳把勘察和岩土的需求具体撰写给我。
	3.可以开始做单体的了，
	单体的做了以后，还需要做人防的？
	慢慢地思考一下单体的和人防的怎么去做。
	
	单体的需不需要也使用同样的逻辑？
	字段有点多，但是我是可以用相同的逻辑的，
	那么就是根据不同的项目类型来添加不同的单体信息。
	如果存在则更新，不存在则新增。这个不影响的。
	
	那么就是需要添加一些字段、然后四个页面、一些简单的逻辑、
	可能会考虑到 保存并添加下一项、这个难吗？
	应该问题不大，反正都是从外面调用的。
	
	1.先整理字段、没有的添加。
	无从得知这个字段有哪些，服务器上不去，但是不影响本地代码的撰写不是吗。
	
	1.have a rest, then go on the work.
	I didn't not really want to do my work right now ,maybe I havn't a good sleep last night, make my feel not so good, so ,do some easy thing to lunch.
	
	2.I havn't no aim during the recent days. No Plan. fuck off.
	No plan ,just make a plan.
	first at all, find the stuffs.
	
	
	
	
	4.
	服务器可以上了，但是好累，不知道为什么，可能是没有休息的原因
	所以休息一下再处理吧。
	
	我有必要把以前的单体窗体推翻重做吗？
	
	反正改了改了的。
	
	以前就是些冗余的东西。
	为什么要搞得那么复杂呢，真搞不懂。
	既然搞不懂，那么就推翻重做好了。
	
	反正有的是时间，而且相对于以后来说会方便很多。
	以前根本就没有什么架构的逻辑。也不懂得封装、既然现在要做，就做得干净一些。
	
	抛弃掉以前的老方法，不要害怕出错。
	
	注意力分散是CPU都在运行些什么：
	1.My head feel heavy
	2.work is boring, make me wanna sleep.
	3.tire.
	4.recent day feel not so good.
	5.
	
	
	两种情况，一种是先初始化？
	有必要吗？根本没有必要吧？
	反正每次初始化都是清空后添加的。
	
	所以我只需要 每次都做一下相同的操作，然后再后面保存的时候再进行判断就好了。
    初始化基本都差不多的，但是上报应该兼容原来的。
	所以上报依旧是走原来的流程保持不变，
	
	那么下面怎么做？ 
	先把初始化这两个tb的做了。
	然后尝试使用原来的还是新增的？
	使用新式的初始化吧，
	上报使用原有的。
	
	就这样，
	那么下面需要做的就是完成初始化。
	
	对于琢磨不清，拿捏不定的，采用原来的方式好了。
	
	那么现在我已经修改完了以前的单体了吗？ 不太确定需要测试。
	
	假设我已经搞完了。
	
	那么下面可以开始做重庆的了。
	
	先测试一下，我现在重构了。
	
	功能逻辑应该没有改变。
	
	我也可以再写写？
	
	毕竟后面还有什么修改暂时还不清楚。
	
	我怎么就决定把所有的都给改掉了呢？
	
	好像是因为一个什么原因吧。 如果不改，这么定义将不太好。
	所以给修改掉了。
	
	不管了，改了就改了吧，反正跟着定义走是不会有错的。
	
	那么人防的需要修改吗？
	
	先不改人防的，先把：
	V1.测试一下重构后的单体模块是否正常运行
	
	2.下面开始做4个不同类型项目的单体窗体。
	
	为什么会觉得比较繁杂？
	因为对需求不清晰，然后对已存版本的改动有点大。
	工作量是非常大的。
	我现在不遇到的技术难点，而是遇到的都是业务逻辑上面的问题。
	而且逻辑是非常不清晰的。
	所以对这个没有太大的兴趣是可以理解的。
	
	
	3.再然后做对应的 消防、人防、防雷字段。
	
	一步一步地来。别着急。别想太多。
	决定好了就开始做。
	给自己一些理由去决定。   
	
	现在他们有一些需求需要处理，如果我要等这个版本开发完全的，那么这些问题的时间会有点长。
	那么我提交一个相对稳定的版本后直接修改好了？
	毕竟维护好现存的版本比较重要吧？
	
	有一个
	39316438-3930-3730-2D36-037302D36306
	133091
	f6ad4aef-e26f-4e84-9cea-53679fc7f9d9
	SubPrjName="aaaa"
	44844f1e-17e8-4e42-b0a7-b2e938c7be0b
	
	--> 接下来：
	V1.修改一下项目基本信息的储存过程。
	
	2.然后继续添加单体的
	页面字段等。
	
	3.考虑一下人防防雷和消防。
	
	真是忘了这个 结构形式 是在哪出现过的。
	真的忘了
	一个点一个地来吧，
	
	写了你吗的个需求。
	
	我还得一个一个地弄清楚。
	
	是你吗的改叫法，还是你吗的新增的。
	
	这是我应该做的事吗？
	做你吗个鬼。浪费时间。
	自己拿过来不分析不理解，还要我去分析理解一个一个地去问搞清楚。
	该思考的都是我来思考对吧？既然不想动脑，行啊，都由我来动该怎么定我来定好了。
	
	不要太在意以前的字典是怎么样怎么样的，反正这个字段影响的地方就这里？
	不太好吧。以后
	没有的就新增，这么纠结干嘛。
	现在卡在哪了？
	要不要把消防人防防雷的挂在单体里面？
	还是问清楚比较好。
	
	那么如果这样设计，那就好办了。
	
	我现在先把几种类型的单体做完。
	
	然后再像做节能一样的把这个完成。
	
	下面把AESUb整个流程调通。
	下一步做什么？
	
	字典表，查询出来的字段需要吗？
	不需要这个字典表是需要上报的字段的，跟那个没有关系。
	先看初始化有哪里不对，再看上报的吧。
	
	OK调试一下。
	可以自动初始化了，
	下面试一下保存的
	
	保存的话，需要知道需要保存的字段表
	保存的字段有哪些？
	不就那几个吗？列出来的。然后额外的还有吗？
	并没有多少吧。
	怎么做比较好？
	我的目的是使两遍的参数对应上
	我可以先把所有的给删除掉，然后右而左边没有的再添加上
	不必要的都不需要。
	
	21
	下面，调试一下这个页面，并把储存过程放上去。
	
	不要想太多，你想今天把什么处理完？
	1.储存过程
	2.AE单体页面。
	3.5个页面。
	烦了就休息一下。没有关系。
	既然是计划，写在cpu里面吧。
	
	因为不踏实，老是想着一下就完成或者什么简便的方法。
	
	不要害怕现在这种混乱的状态，通过跟阳哥的交流，应该走以前阳哥的那种流程。
	所有新的需求，如果不是很急的Bug,通通由上面安排下来，记住阳哥的一句话，不要稀里糊涂地干活。
	这个文档的记录是比较杂乱的，研发的工作记录应该是清晰的。
	
	  项目基本信息也应该使用通用脚本更新。
		不应该传入type。这个跟prjtype没有什么关系。
		
		害怕置空吗？
		不怕的，置空就置空
		优化是后面的事，暂时先不管。
		
	tbprjstructuretypedic
	
	首先我直接修改单体的名称不行。
	
	CreateInstance的时候，难道属性不会初始化？
	应该会的啊，
	那么我每次都CreatInstance的时候为什么 guid没有变？
	他要么应该是一个新的guid，要么应该是string.empty才对
	因为他会有一个初值，是个很奇怪的现象。
	感觉像static一样的特性，我先初始化再实例化的一样。所以这个初值在第一次初始化的时候就给了。 而且会写进form.designer文件里面。应该是加载的时候
	这个在编译的时候就有了。并不是在运行的时候才生成的。
	有点意思。如果要弄懂估计得先弄懂vs的编译原理。
	
	下面呢？
	已经完成了AE的单体，那么再完成一下其他四个好了。
	V顺便叫他们把字典表完善一下。
	 
	->下一步：
	给字段命名，然后将新的字段添加进dic。
		有些字段是以前有的，那么在以前的窗口也是可以找到的。或者通过储存过程来查找也是可以的。
		
	然后修改对应的储存过程
	然后进行调试。
	
	先把窗体都做出来吧。
	
	窗体都有了，
	那么下面
	1.存储过程？
	
	2.窗体的一些字段逻辑。
		先做这个吧。这个需要一遍调试
		所以先写存储过程。
		通过调试来 知道对不对。
		
		撰写获取的。
	现在开始测试。
	
	take a breath.
	
	这样，如果我把几个窗体调通了之后再更新吧。
	
	现在有4种那么我就先测试4种好了。
	
	V建筑工程、
	V装修工程、V市政工程、V岩土工程
	勘察

tbCensorTypeDic
CensorTypeNum
	1.修改一个勘察的来测试一下。
	2.看查询勘察的逻辑是否完善。
	3.勘察也有单体。所以如果是重庆的 ，把勘察单体放出来。
	后面的一些列逻辑估计得改一下。
	这牵涉到：
	ecaupsdk工程里面的逻辑，所以，并不是很简单是一个问题。
	而且现在并没有勘察的项目。
	所以先abandon?
	有点麻烦，先abondon。
	
	那么现在的测试结果怎么样？
	
	还行，直接更新好了。

	更新一下。

	接下来：
	1.重庆的勘察项目的单体及相关逻辑。
	2.重庆的消防人防防雷等页面。
	
	劣币驱逐良币。
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	如果还这样吧情绪带入到工作中来，就tm去996吧。
	真是个臭弟弟
	当我在大声说话的时候，我只是想展示自己有在工作，其实这个时候是更本没有效率的。
	也并没有认真在工作。
	越是没有什么越会显现什么。
	企图用这种显现去误导别人。
	这种是好事还是坏事？
	这个可以利用来鉴别实际，然后主动这样的话，对自己的影响是好的还是坏的？
	大声地宣布自己在工作
	是为了什么？为了别人知道自己在做事，心安理得？收获到高于实际的回馈？
	对，是收获到高于实际的回馈。通过这种方式。
	
	真的再也没有什么理由能不让你不出去面试了。
	
	环境怎么会不能影响你呢？ 如果你本来就是一个觉察细微的人。 那么唯一的解决方案不是去改变环境，而是改变自己，让自己不受环境的影响。
	
	有时候你会主动需求一些环境来改变自己。你为什么没有去做？为什么在简单的实践以后就放弃了？
	
	首先那确实不是你的本质，但是并不妨碍你去接触。
	相反你去接触你比较习以为常的事的时候觉得非常地正常。这可能还是与自身的习惯经验或者内心的Robast有关系的。
	在工作中严肃一点总是好的。不管是对于工作效率还是独立思考。
	
	有可能是我把问题想得太简单了，完全实现一个整体的并不是那么简单的事。
	踏实一点。
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	-->BaseTypeName PrjLevelName 字典表不完善
	
	clear 
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	

	
	
	V--> 注册地址  需要加上法人联系方式、然后把注册地址修改成企业是注册地址
	
	省市县（区）
	
	那么我第三和第一都是确定的，那么第二也就很好确定的。
	
	然后下面的问题再说好了
	
	
	
	项目报审所在省份，
	企业注册地址，那么就需要一个全国各个省份地市。
	。。。
	
			重庆市XX区
	四川省泸州市XX区县
	山东省济南市章丘市
	山东省青岛市黄岛区
	
	
	
	根据地市的编号 获取到  对应的省市、
	再获取到对应的  地区
	
	输入一个对应的6位编号
	先查找
	Region如果找到了，标记 type=1234 4
	
	如果没有找到，查找
	
	字段：
	Province  city    county	 region type 
	山东省	  济南市  章丘市
	山东省    青岛市  黄岛区
			  重庆市  8个区县
	四川省    泸州市  n个区县
	广东省	  惠州市  5个区县
	
	
	,370181
	,370211
	,500000
	,510500
	,441300
	
	先查找是区县的情况
	
	if exist(select * from tbRegionDic where regionnum = @AdmCode)
	select 
	
	代码基本撰写完毕，下面需要继续处理的：
	1.将存储过程修改到正式服务器，然后使用正式服务器进行测试
	2.考虑地市的差异，可以翻译成oracle版本，也可以暂时修改mssql版本的，然后限制地市为章丘黄岛，重庆暂时不做处理。
	3.如果测试没有问题了进行发布、但是一旦发布了以后，就将影响：
	重庆、泸州、章丘、黄岛、惠州等几个地市。
	但是如果做了地市的限制，那么即时是发布版本也只会影响章丘黄岛。
	需求虽然是写的黄岛的，但是我其实已经考虑了所有的。
	可以后面再更新其他地市。暂不不予考虑。
	
	还有一个法人代表联系方式
	V有RegionNum  
	
	
	
	
	
	
	
	V下面继续修改、法人代表联系方式和RegionNum
	
	我为什么不敢继续往下面改并进行更新？
	因为怕项目串？
	X1.主要就是因为修改了baseForm，我上次测试过，不同的项目会切换这个prjguid，还有什么问题吗？
	
	V2.还有一个得看一下黄岛的储存过程。为什么不把AddType给注释掉了。
	
	没有关系，那么暂时先修改黄岛的吧。
	
	后面有时间再更所有的
	那么就暂时更新了吧。
	不管了。
	clear

	clear
	V现在处理了变更审和企业进本信息维护的问题，然后呢？
	clear
	clear'
	clear
	clear
	clear
	clear
	clear
	  
	-->手上的活还有多少？
	1.重庆勘察相关的代码逻辑修改和撰写。
		需求不是很明确，
		是我不明确还是他们的需求文档写得不明确？
		可能是我不太明确吧。因为涉及到的东西有点多。修改起来覆盖的代码范围有点广。但是也还ok。
		时间有点长，也还ok？
		短暂的时间是可能修改出来的。会比预计的多个好几天。
		
		
		
		
	2.重庆消防人防防雷三个页面。
	这个应该也还好，毕竟是属于旧的代码逻辑所以不会太难但是会有一点点耗时。
	3.重庆设计人员登录页面。
	这个是全新的东西，并没有相应的逻辑。
	难度是个未知数，反正我已经进行了重构，那么添加这个管理权限无非是添加一个 if 重庆/if 权限1
	主要耗时可能并不是逻辑设计，而是影响范围。
	
	我三天的时间可以处理些什么东西？
	
	最好保持你的每一个点都是完整的。
	这样你就可以一直保持很快就可以脱手的状态。
	
	how do you feeling?
		feel headache first,
		second,not very will.
		havn't done a pice of work,that waste your time.
		funny?not so funny
		
	prentent some good looking?
	do not hurry,do not make mistakes,
	spell mistakes,or granmer mistakes.
	What fuck even ,I do not fucking care about it.
	how was your work?
	fuck,I didn't wanna do anything.
	so don't do it ,you have a cold, you just take pills, that ok, so  what is the most important, body. spirit.
	when feel not so good, don't use then, just easy.
	that is ok?
	so think about how many days will you cost to finish two ,fuck ,I don't fucking care.
	
	did they know that,maybe know ,maybe not ,I I didn't fucking care about there main.
	I'm learnning something, Also I catch a cold.
	clear
	
	V-->	变更审屏蔽掉
	clear
	
	V-->他们要求设计院的登录和既可以是 单位登录，也可以是项目负责人、设计人等上传、
	上传的时候给每一张图纸再增加一个上传人的字段。
	重庆需求。
		人员的接口是从那边四库要的，那么我们库里面会去弄一些账户管理等、包括账户管理这些，意思就是我们这边，然后企业上报的时候还需要插锁等。
	有点复杂吧。还涉及到锁的管理的话，这个应该跟郑易也商量一下。
	
	目前勘察的应该是没有什么问题。
	
	因为根本就没有勘察的单体放出来。
	勘察应该有单体吗？
	你给个表算什么东西？
	对业务熟悉吗？
	而且照理来说有些什么高度什么的，一看就不怎么合理。
	
	所以这个还得由阳哥来定夺。因为涉及到业务的问题。
	clear
	V-->那么下面做消防人防防雷的表吗？
	
	对的。
	
	以前只有的人防表。因为有人防单体。
	消防和防雷只是几个字段作为储存。
	，但是现在不一样的是，消防和人防的，可能也得搞成一条一条的了
	
	咨询一下，他这个消防、防雷等，是不是根据单体来的，是不是 和单体是 1对多、多对1还是多对多或者1对1，以前的1对1，那么现在
	
	现在基本可以确定他整理的字段，完全就是跟着表照搬了一遍。
	
	那么我可以像EC一样去处理，完全可以的。
	
	然后有一些多选的，是否使用下拉框的形式呢?还是使用多选框。
	随意一点吧，最好还是跟之前的差不多，我就不需要使用更多的处理了。
	反正都是单选。
	what fucking ever
	以前有人防单体的。
	
	那么现在怎么搞呢？
	以前的人防单体是挂在单体下面的。  有一些公用字段，不过这些字段都是直接挂在单体下面的。
	然后单用字段，就是人防单体。
	
	下面怎么开始做？
	
	画界面、字段命名、
	
	先让他们把字段命名一下吧。
	
	消防人防防雷、
	先来消防的。
	
	表名：
	
	tbCensorXFInfo
	(
	XFNum
	XFGuid
	ServerPrjNum
	CensorPhaseName
	SubPrjGuid
	SubPrjName
	
	xfsy
	
	)
	
	tbCensorFLInfo
	(
	FLNum
	FLGuid
	ServerPrjNum
	CensorPhaseName
	SubPrjGuid
	SubPrjName
	
	GCXZ
	npjlbr
	
	
	)
	
	I only want to have fun, learn to ride learn to run
	
	reddit
	
	tbCensorFLInfo
	
	
	
	
	?
	看一下以前的防雷有些什么字段。
	
	现在字段名进本有了，现在需要做的就是画一张表应该就好了吧？
	跟着把逻辑什么的修改一下。
	
	画完了，
	V现在根据字段名称来为相应的控件命名，
	现在开始处理逻辑 
	
	有些什么逻辑？
	无非就是初始化 cmb的初始化 tb的初始化 gb里面rb的初始化。
	一事一议，所以我这里都使用了这种方式 ，那么就使用这种方式就好了。
	
	下面，把cmb的项都添加上去吧。
	之后开始撰写初始化和保存的逻辑，需要新增储存过程和服务。
	absolutely.
	
	fuck you I did not fucking care about it.
	
	还差保存的。
	已经查询和保存的储存过程服务等。
	
	所以我到底需不需要一个字典表呢？
	
	如果我不需要这个字典表，那么我的输入参数全是靠控件的命名，但是其实控件命名不是一个非常可靠的东西。
	所以输入的参数，还是需要靠字典表。
	
	所以，先搞一个字典表好了。
	
	现在试着保存的时候自动录入数据生成xml文件。
	
	下面撰写一下添加消防的储存过程。
	take a breath.
	
	储存过程已经撰写完毕、
	
	现在需要：
	1.布置服务，然后在主界面添加按钮打开测试口，然后进行测试。
	
	如果消防的可以了，快速完成人防防雷的。
	或者就先完成消防的。
	
	2.需要完成，重庆上传图纸权限等逻辑控制。
	将会涉及到的工程：
	1.登录：
	2.图审：
	3.sdk：
	这三个工程会影响到。
	正好、修改勘察的也会影响到sdk。
	
	消防测试基本通过。
	还差人防和防雷的。
	人防的估计要单独设计一下，如何和以前的兼容。
	防雷的使用相同的逻辑即可。
	
	既然比较着急内部图纸管理的。
	那么现在起优先处理那个功能好了。
	至少要让他们看见一点东西。
	
	心态摆正，拿出效率来处理这系列问题。
	
	我其实已经有了这个表了，也就是 tbCaseUserInfo
	但是目前我这个表，主要是和四库的一些字段一样的。
	
	我其实是有企业的人员的。
	
	先把需求过一遍。
	一切从简。
	1.登录
	我现在基本用的是几个
	FullCorpCode/
	那么先我需要新增一个，
	用户的身份证号码。
	
	登录完毕以后、
	显示哪些模块？
	
	身份：
	单位账户，项目负责人、
	专业负责人。
	
	项目负责人倒是知道，在主表里面。
	
	专业负责人又怎么知道呢？
	
	我登录人员的时候，获取项目还需要知道项目的 项目负责人和专业负责人。
	这样才能知道是不是可以操作这个项目。
	
	首先我可以使用那个表吗？
	
	也就是 添加的项目参与人员可以登录账户。
	
	需要知道他的承担工作吗？
	需要知道也没有关系的。
	
	关键是，需要知道这个人员的所有相关项目。
	登录可能跟 图纸确认的那个有点类似？
	但是那个是已经有了图纸的，只是需要确认图纸而已，而且还分为多个审查阶段。
	而这里面，应该没有分审查阶段。
	所以首先查询出 个企业相关的所有项目，然后再筛选出该登录人员的参与的项目。
	
			 单位账户、			项目负责人、		专业负责人。
	三个角色:
	模块功能：可以管理登录人员。
			上报项目					确认项目信息
			上传管理所有图纸			上传管理所有图纸	上传管理本专业图纸
			目录编制选择的人员应该都是从项目参与人员里面选择的。而项目参与人员又是从企业进本信息人员维护界面来的。
			
	所以决定好怎么做了吗？
	
	首先我登录用户，只要是在tbcaseuserinfo表里面的都是可以登录的。
	exist。
	2.然后获取该人员对应的扮演角色的项目。
	怎么个获取发？ 首先获取该人员，所在设计院唯一码对应的所有项目，第二在这些项目里面筛选出项目负责人身份证号等于该人的项目、
	再查询一下设计院所有项目中，的项目参与人员、中，扮演专业负责人的。
	如果项目负责人，则赋予其，项目负责人权限、如果是专业负责人、赋予其专业负责人权限。
	
	这个权限可能根据不同项目不同、
	我先查询所有的，然后进入项目的时候再赋权限。
	
	我可以试着重新写一个服务，是根据corpcode+ IDNumber的方式来
	通过IDNUMBER和CorpCode查询出项目的guid，以及该IDNumber扮演的角色。
	然后将之合并到查询出的所有项目。
	不存在的移除掉。存在的增加列 PersonType.
	
	所以我还是得写一个新的储存过程来获取项目信息。
	
	查询数据库的时候，查询与该人员有关的项目。
	作为项目负责人、作为专业负责人。
	
	没有关系，很多东西都是需要新做的。那么就去新做好了。
	
	下面，先完成两个服务及储存过程。
	1.人员登录的服务及储存过程；
	2.人员相关项目的服务及储存过程。
	
	下面先处理这个吧。
	
	我已经知道怎么做了，那么下面稍微休息一下吧。
	
	现在对于这个确认图纸有比较好的重新的架构吗？
	
	考虑一下现在上报工具的架构。
	
	我里面确实有很多If CityName的判断来控制页面的显示，但是这样来说的话？设计合不合理呢？
	如果较少的页面改变我直接用了加载时的页面改变，
	如果较多的时候我直接使用了CreateInstance，使用CreateInstance肯定是合理的。
	
	其实照理来说我的这个架构也是合理的，其中有一些公用的属性都是用了UserInfo等封装起来的。
	会有重复肯定的。
	但是应该没有什么问题吧？
	
	我虽然不是参数化地创建？
	
	难道还有更好的解决方案吗？
	
	独立出来？
	
	怎么个独立法？
	
	我不可能是所有的单独来一套的，所以我这个架构吧，其实是能支持目前的需求的。
	唯一比较复杂的就是sdk，这个可以根据我具体的需求，进行具体的分析和修改。能用的用是最好的。我应该不会对这个sdk有太大的架构修改，可能控制的仅仅是只读还是可编辑、上传图纸框多带上一个User的IDNumber。
	我本来上传图纸的时候就有带着User的IdNumber，需要做的应该是，上传删除的时候判断一下该专业的专业负责人，是否为该用户。
	这个应该可以写一个独立的函数来进行判断。
	其他的逻辑应该还是没有改变。
	
	那么现在这个系统还有什么难点呢？
	
	要实现该用户是否被挂起，那么在企业人员维护表里面查询该用户的状态即可。
	如果状态为被挂起，那么该用户将不能登录该系统。如果是转了设计院的话，没有关系，我查询项目是根据企业的唯一码和人员IDNumber来查询的，所以不会查询到以前的。
	
	如果要看以前的，那么直接用企业这个账户查看就好了。
	
	现在一切从简，先不做挂起这些功能。
	
	首先我企业添加的人员都是在 tbCaseUserInfo ,我已经有了储存过程可以获取单个人员信息，
	但是我这里登录的人员不应该是tbCaseUserInfo 里面的人员，更应该是参与进项目的人员。
	所以我还是需要做一个相对复杂一点的查询、也就是查询输入的IDNumber，在项目中是否有出现。
	这样也就更加符合了 我企业在项目里面安排的该人员，该人员即可在上报工具中进行登录。
	
	在项目中参与的人员分为两种、项目负责人和专业负责人。
	
	目前在项目负责人这里只存储的项目负责人的联系电话和姓名。
	
	看来我只需要在tbPrjDesignEconUserInfo 里面查询就可以了。
	然后在根据项目还可以查询出该人员在该项目所扮演的角色，都是通过项目参与人员来的。只要是项目参与人员里面添加了该人员，那么该人员就可以登录系统。至于注销什么的后期再说了。
	
	那么，现在根据人员来查询项目就变得非常简单了。
	
	439768198910233341	91510000201848358J	赵宁		1	001	结构		主要设计人,项目负责人						e61a62bb-985c-4cdf-8291-2bb8ba1f924c			
548927188519853342	91510000201848358J	徐康		0	001	建筑		专业负责人						941b6f26-bbc1-4b9c-a874-832c5398ffc8			
430624197805295316	915100004507513971	甘东科		0	001	勘察		审核人员,项目负责人						73d32f56-436f-46ef-9531-abf75c8cdfa5			
16631	128328		1116		370888654488965585	27929068-1	刘乾坤		0	001	结构		设计人员,项目负责人						fb9389ca-8caf-4b47-81f9-58147294e178			18988755445
16632	128331		1134		370886554545655445	27929068-1	章斡恨		1	001	建筑		项目负责人						bd0ff039-cd99-4bdc-a344-4892f60230ab			13155586845
16633	128332		1135		388965544554455447	27929068-1	张万科		0	001	建筑		专业负责人,项目负责人						2c18d3b1-ec6c-4706-9607-1651faf33dcb			13188855885
16634	128333		1135		370886554545655445	27929068-1	章斡恨		1	001	结构		专业负责人,项目负责人						0a67ea9a-3abe-46b3-9d6c-efb8cfd9f829			13155586845

	4.24测试节能详细信息
	370888654488965585 项目负责人
	388965544554455447 专业负责人
	
	目前到筛选项目都走通了。
	那么下面，
	需要分级控制了。
	
	
	V1.勘察和审查意见管理的需要筛选
  	2.然后分级控制
	
	确认信息需要添加一个字段来进行记录。
	
	该字段跟着什么走？
	
	我二审了我还可以修改项目的信息吗？
	好像是没有限制的。
	照理来说我本来只需要传图纸就好了，但是其实我是可以继续修改信息的。
	
	V项目基本信息页面
	V项目参与人员页面   企业V
	V项目单体信息页面	
	目录编制页面
	添加图纸
	添加材料
	V节能设计信息
	V消防防雷人防
	
	先确认一下需求，然后再根据需求设置一下权限（目前好像都是可以的）那么跟企业账户登录的区别就非常小了。
	最后再想想如何记录一下上传图纸信息，那么这个功能基本就完成了。 累了，休息一下好了。
	
	现在就差对V目录编制、添加图纸、V添加材料页面的控制了，
	所以现在找到两个地方的权限控制进行修改，然后再做一下上传图纸记录一下上传的人员。
	
	看来这个控制还不是很好找，测试一个项目试试。
	
	现在做上传图纸时，记录上传人员，及上传人员身份证等
	
	而且对于专业复责人有专业的限制。
	
	V也就是要设置只有一个专业是可以编辑的。
	
	应该可以了，那么就只剩最后一个步骤了。
	
	上传图纸的时候记录上传人员、上传人员身份证号。
	
	这可能跟标记联合审查部门有点关系，所以一会参照一下逻辑。
	
	现在还差两步就可以完成这个系统了。
	1.标记上传图纸人员。
	2.项目负责人确认项目信息后企业账户才能上报的控制。
	
	我有两个地方可以添加这个两个数据列
	一个是在创建之前，也就是在添加row_guid的地方。
	这个地方是通用的一个row_guid。并不一定所有的row都是这个row。
	
	一个是在填充数据的地方，也是就是在这个绑定的页面。
	填充数据一定是图纸row。所以在这里才比较合理。
	
	在哪比较合适呢？
	
	既然说放在窗体里面那么久放在窗体里面吧。
	
	跟Row有点关系。
	所以在查询的时候，就把两个字段查询出来，叫什么比较好？
	在表tbDrawingInfo，UploaderName UploaderIDNumber
	
	项目负责人确认字段叫什么?
	IsPrjManagerConfirmed MConfirmedDate
	加在那个表比较好？
	我第一次确认后
	每个阶段确认一次。
	那么哪个表比较好呢？ 当然是阶段表了？
	首先我刚立项的项目有阶段吗？
	有个屁啊，所以阶段表不是很可靠，新建一个表？
	有可能考虑的就是新建一个表了，
	我也可以搞一个触发器？
	
	isUpload字段每次图审审完了会重置？
	
	应该不会，isUpload好像只是给
	查一下数据库是否存在 未上报但是
	不存在 所以这个是否上报主要第一次的。
	上报是在哪个表？
	ifFirm是哪个字段，其实这里没有isFirm是添加了审查阶段，就算是有了isFirm。
	实在不行还是添加一个表吧，这样做其实也算是合理的。
	不要怕麻烦。
	怎么去设计这个表呢？
	想想这个isMFirm 具体是出现在什么情况下的
	第一次上报前，上传完图纸，补充完项目信息，主要控制是否能点击上报。
	二审，上传完图纸，然后
	tbCensorPrjInfo
	这个审查阶段前的。
	怎么搞怎么搞？
	单独一张表，确认图纸？
	我每次上传都有一个isFirm 
	我只要是新传了图纸，我都需要确认
	这样设计合理吗？
	应该也算是合理的吧。
	所以不用新建表，直接放在
	
	confirmERNAME
	CONFIRMERid
	tbdrawinginfo
	
	
	
	一个阶段一个阶段地确认不就好了。 
	所以我点击一下确认、图纸
	
	需要写吗，需要的。
	服务不一定要。
	储存过程肯定是要的。
	
	最好再来一个编辑是否
	
	那么现在来说的话，应该只差最后一个控制了。也就是上传图纸标记上传人的身份信息。
	
	休息一下。
	
	如果这模块大致完成了，那么下面就继续做防雷和人防的两个窗体及对应的储存过程这些了。
	
	不要紧，休息一下慢慢来。
	提交意见回复：
	审查意见模块无法编辑的情况：
	1.图审确认回复了；
	2.当前选择的审查阶段不是最大审查阶段；
	3.最大审查意见，但是没有意见的时候；
	4.合格项目的时候；
	5.重庆登陆账户非企业的时候。
	
	既然服务器上不去，那也就没有办法的事咯。
	
	那么现在先休息一下
	
	现在参与的项目：
	重庆上报工具、惠州上报工具。惠州倒是好说。需求比较少都只是要求添加几个字段而已。
	真是想不通，为什么没有备份这个储存过程到本地。
	
	防雷的好像可以了。
	
	下面就差最后一个人防的了。
	
	不要为不清晰的需求的马上撰写代码。
	这有可能照成一系列冗余的工作和负面的东西。
	
	下面看一下人防的？
	
	yes,必须看一下。
	
	如何去设计这个东西？
	
	还是应该来两级表？
	
	第一级叫什么看一下字段，
	
	项目-子项-人防-人防单体
	
	所以这个人防表叫什么名字比较好？
	
	然后tbRenFangSubInfo挂在人防上面。
	
	tbCensorRFInfo
	
	人防字段这么办？
	为了区分，肯定是要重新命名的。
	
	看一下单体的保存并编辑？
	有用吗？
	
	不知道，估计得试一下?
	照理来说应该没有用才对。
	
	设计缺陷。
	
	好吧，确实是没有的。
	
	毕竟在初始化完成以后Guid已经更新了。不再是以前的那个guid。
	
	所以我只需是做就对了。
	
	修改一下字段名称。
	
	直接存字段，如果字段不存在的话，就选到其他，并且其他的文本框展示所存的文字。如果选到其他，就存其他文本框的内容将。
	
	既然是新建的表，我是否应该沿用以前的字段命令？
	
	如果我不沿用，而是使用拼音首字母的命名。
	
	这样合理吗？如果要我出手命令这些字段，那么他们应该有他们应该有的名字？
	IDK,which One will be quick? 还是不要混合好了，使用统一的命名。
	
	以前能用的尽量用以前的好了。 是讲的人防单体窗口。
	
	我现在只是把以前的单体下面的少数（现在变成了多数）字段独立出来了而已。
	想一个比较好一点的字段名称吧。
	
	RFInfoNum
	RFInfoGuid   Info 
	Censor
	that's good.
	
	183.230.224.160

	需要添加三个字段
	clear
	接下来：
	-->先完成基本人防信息的基本上报
	然后再做人防单体的逻辑。这个逻辑应该和上一级的逻辑差不多的。
	
	在有了基本人防guid后根据这个guid来获取绑定的人防单体信息即可。
	
	并没有什么难点。
	
	y ·查询	    
	
	<root><XFInfo RFInfoGuid="bc325a67-541b-4210-945a-aac7ba97ef90" PrjGuid="B09FE3598ACF4DA1BE2BE110AB2C8D8E" censorPhaseName="一审" SubPrjGuid="aff0a2e7-ebe8-4ab1-aa0e-190f5d558e98" subprjname="ab sbnghgh" zsyt="0" psyt="" gcgm="" ztz="" sjgm="-1" rfgczjzmj="" yq="" eq="" sq="" ssfw="" sszxjzmj="" rfgclx="-1" fhdj="-1" zstbrs="" symj="" ybmj="" ywfkbjt="0" crklx="" crksl="" jbtwz="" /></root>
	
	下面人防单体的吧
	
	能用以前的就用吧。反正这是重庆的需求。只需要把以前的同时保持备份不丢不就好了。
	
	下面需要 修改存储过程。
	
	然后再在RFINFO里面撰写一下dgv逻辑。
	
	休息一会吧。实在有点累。
	
	V现在人防的就差防护等级
	clear

	-->
	
	
	目录编制无法找到表1
	
	这是由 Table[0] Table[1]造成的。
	缪说过段时间就好了 。安装操作来说这个由于
	
	有些什么特性：
	一般发生的  就宁波出现这个问题、检索项目、被什么死锁牺牲品。无法找到表0、无法找到表2、无法找到表1。
	等个20分钟30分钟就会自动愈合、点目录编制的时候、
	
	上报的时候死锁、
	库
	clear
	http://220.191.238.239/PlanCensorService/ccir/CompleteMap/GetUnionMapCorpPrjInfo?CorpCode=420
	90
	31years old
	29years old 
	
	不要迷信吧，别管了。
	
	--> 现在手里的活又开始多了。
	大致为：
	1.上报工具需求；
		上报工具重庆需求：上报工具惠州需求、上报工具泸州需求、上报工具亳州需求。
		只是问题比较复杂。而且很多不太具体。
		
	2.竣测合一需求。
		既然是阳哥提出来的，那么先处理这个吧。
		
	X3.其他还没有具体提出来的需求。
	4.ei遗存问题。
	
	I'm get fucking tired.把svn代码下载下来后休息一下吧。
	
	Url:http://220.191.238.239/PlanCensorService/ccir/CompleteMap/ GetUnionMapCorpPrjInfo ?CorpCode=420  
	
	如果使用同一个服务器，同一个数据库，叫联合开发
	如果使用不同的服务器和不同的数据库，叫接口。
	所以我们是采用对接的方式。不要想着他们服务器的事情。
	
	我对竣测合一的需求一点也不清楚，架构和对接的逻辑我也一概不知。
	他们需要些什么东西？
	我怎么知道？
	
	采用的mvc，但是基本是只是使用了Controller提供 post服务。
	
	V根据corpcode获取项目
	
	这边需求不太清楚，但是感觉这个目录应该是默认的，如果是默认的，那么查询的时候就需要执行储存过程来进行查询。
	在没有查找到的时候就添加上去。或者写触发器也可以的。在新插入的时候，自动新添目录。
	
	V1.重庆测试 
	2.泸州测试，看一下测试怎么回复吧。
	3.竣测合一等待回复，需求不是很清楚。
	V4.重庆测试通过以后，直接给他修改服务配置？还是先编译一个版本出来。
	如果报错再说吧。
	所以先给他编译一个版本出来？
	那就先编译一个版本好了。
	
	或者等测试通过以后直接修改配置给刘山琳？
	算了 ，还是编译一个版本吧，真是无奈了。
	
	http://www.lzstxt.cn/CQCensorServer/CensorService.asmx  http://www.lzstxt.cn/ECACensorFileServer/FileService.asmx  http://www.lzstxt.cn/CQCensorServer/PltManageService.asmx  http://www.lzstxt.cn/ECASignatrueFileServer/FileServer.asmx  NULL  NULL  NULL  NULL  NULL  http://www.lzstxt.cn/CQCensorServer/CensorService.asmx  http://www.lzstxt.cn/CQReportServer/ReportService.asmx  http://www.lzstxt.cn/ECAReportFileServer/FileServer.asmx  http://www.lzstxt.cn/CQEIService/EiClientService.asmx  NULL  NULL  NULL  NULL  http://www.lzstxt.cn/ECACensorFileServerAffixDownload/FileService.asmx  NULL  NULL  NULL  401  3
	
	http:// 172.30.33.54 /CQEIService/EiClientService.asmx

	-->惠州记录节点信息。
	
	既然要做，就做好一点吧。
	
	现在有Add的储存过程了，我只需要在相应的时间点进行调用就好了。
	
	现在看一下字典表，有多少地方是需要我调用的。
	
	然后再一个一个地处理一下，让他记录进去。

	V有个字段没有保存上，看一下怎么回事。
	
	勘察单位勘察成果已完成
	设计单位施工图设计文件已完成
	联合设计单位1施工图设计文件已完成
	联合设计单位2施工图设计文件已完成
	
	勘察单位已反馈修改成果
	设计单位已反馈修改成果
	联合设计单位1已反馈修改成果
	联合设计单位2已反馈修改成果
	
	只有两个字段、
	单一职责的话，我应该独立出来，单独写一个储存过程，而不应该嵌套到其他那去。
	所以 
	撰写储存过程，然后在同样的服务进行调用。
	
	储存过程里面调用储存过程。
	
	今天不可能做完了，所以先把思路理出来，然后明天再看一下吧。
	
	首先撰写存储过程进行一些判断，查询到项目的prjnum等信息后，调用储存过程 addnode。
	
	然后放在Uploade的服务里面？
	
	项目报审的话服务是： UploadCensorProjectState
	回复的服务是： UploadDesignReplyState
	
	good job，然后在这个服务里面调用一下插入节点的储存过程即可。
	我要不要做重复上报的判断呢？
	当然是需要的，
	我第一个UploadCensorState也是判断了isUploaded =null，才会进行修改，所以上报只会记录第一次上报的时间。
	
	然后第二的话，
	我没有做is null的判断，但是可以在这边做。
	我需要在这边做吗？最好吧。还是做一下比较好，这样的话，就避免重复插入节点，然后我最好把reply也做一下判断，不要每次都变成最新的。这样时间就和第一次上报的时间保持了同步。
	
	记得有时间提交一下代码。
	
	这个好像跟阶段有关，那么就不能在那里面调用了，只能单独撰写服务在同样的地方调用了。
	
	既然惠州服务器有人，那么就先不争抢这个资源了。
	
	提交一下代码吧。
	
	Am I free now?
	seem right.
	
	contine to learn 23 design models?
	
	以后重庆数据库有差异的地方，尽量还是另外保存吧。别替换了。
	惠州这边，我不可能维护两套的，我要么是使用旧的版本，要么直接根据最新版本进行修，不能基于以前旧的版本做差异修改，不然会产生分支而导致混乱。
	
	所以直接复制hzsgt的试试？
	
	节点我已经添加上去了，有几种法方式？
	我还是直接去服务器上面测试好了
	
	好消息是已经通了，坏消息是，网络太差了，还差一点逻辑需要撰写 
	逻辑已经撰写完毕，现在只需要，我节点记录第一次有问题吗？
	应该没有问题，不然他会重复插入。
	这是合理的。如果其他地方修改了date，那么是那个地方没有做date is null的判断。所以问题不在我这。
	
	所以说呢？
	替换掉吧。
	
	现在节点的基本完成了吧。
	clear
	
	我今天是否能把这些字段搞上去？
	
according to the department founding principle,  the implementation engineer is main role, developers are sup。
so a lot of thing they can deal they deal, I shouled not make myself too busy, do not handle things too much.
	
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
		
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	V-->泸州要求添加目录编制的专业、
	
	WS_Report_GetPrjSpecSubPrj
	储存过程

	
	tbSpecCatalog
	clear
	
	-->惠州的上报工具里面，设计单位项目概况的那个位置能加个人防等级的字段不
	
	
	















	
	
	
	
	
	
	
	
	
	
	
	
	
	