-->
v1.新电脑开发环境配置
	先把LookUp等配置了，sdk
V2.测试任务二
	首先需要装一个LookUp，我可以现在自己的电脑上面试试。
	这看起来我只有dll文件，但是没有配置相应的addin
	现在我需要找到对应的结构，然后找到所演示的元素
v2.首先将本机开发环境装好

3.小任务三个：
	V1.Revit可停靠面板
	先把第一个实现了再问一下其他两个是什么吧，
	
	2.新建工程面板
	3.添加路线数据面板
	
	我现在已经把大概的逻辑处理了
	那么这个看起来需要做一个实际的效果
	那么我需要会一点wpf的知识。
	
	   <Image Stretch="UniformToFill" Name="imgAdd" Source="E:/NealWork/Codes/BIMTest/HYBIM.Bridge/bin/Debug/Btn.png"></Image>
	wpf的页面布局有点迷，
	但是其他页面是可以使用Show操作的，
	
	接下来：
	V1.处理一下刷新DataView
		V数据改变后如何刷新
	2.将剩余的一些界面完善
		已经简单完善了一下，这个最多只是布局的关系不太熟悉
		
	V3.试着链接一下本地的sqllite数据库。
		现在找找之前开发的sqllite代码，看能不能直接使用。
		V1.dll文件
		V2.dbhelper
		3.为当前的模型创建一个数据库
		使用可视化的工具创建好了
		我需要创建哪些对象？
		1.User，感觉不太需要
		2.PrjBasicInfo
		3.PrjMarkSection 
		4.
		除了一对多的关系，目前的都先放在同一个对象里面好了。
		我需要来一个viewmodel吗？
		如果你到时候需要重复地修改字段，增添，那么毫无疑问你需要规范一下你命名。
		view不可能完全和view
		
		5
		
		现在的情况是什么？家里面的电脑远程连接不上
		那么问问好了，
		有没有对sqllite的封装。
		
		有的，也已经下载安装了这个sqllite，加入工程，实际地操作一下好了，再下载一个可视化工具。
		加入dbhelper类中去。
		然后创建一下表什么的
		将面板上面的数据保存到数据库中去。
		
	4.既然从sqllite使用ef创建不了，那么现在先手动创建一下好了。
	5.现在试着连接一下sqlite数据库
	6.我先去数据库添加几个数据吧。
	7.现在我的数据库是通的了，下面，完善对form的添加、更新、删除逻辑。
		我可能得使用row_guid的方式去添加，
		使用id的方式极为不靠谱。
		为什么不靠谱？因为如果多个客户端同时操作，有非常小的概率去改变这个id, 因为这个id是由数据库自己生成，而如果是row_guid，是由自己生成，而且唯一。所以在添加的时候，插入一个row_guid。而后面的操作，可能都通过这个row_guid去执行查询出来，最好设计的时候，就直接绑定这个row_guid好了，这样的话，也不会混乱。没必要绑定id.
		已经将row_guid加入逻辑。
	下面：1.完善添加项目逻辑并测试
		2.问一下文档3的需求是什么意思
		3.将作为最终版本的细节调整，包括数据完善和页面优化等。
		
		我的节奏是还好的，
		但是对于整体进度来说，主动性不是很强，
		1.整体方向:
			1.学习revit的使用
			2.熟练一下wpf的开发
		比较看外观细节，这些东西是需要处理好的，既然效果图已经是那样了，那么需要做一个一模一样的出来。
		
		少一点时间在研究上面，先将大致的框架内容完成。
		
		今天先处理入数据的问题。
		项目的数据录入不完善
		所以完善一下录入的地方
		基本已经完善，但是有些输入细节需要控制
		数据录入没有问题，现在看看最后一个文档。
clear		
-->研究一下他根据cad的dwg图纸，来填写相应的表格的需求。
		V1.序列
		2.
		V3.最近工程指数据库所有项目。
		V4.我的工程指具体打开的工程。
		V5.右击空白处弹出右键菜单，多留几个空白栏，
		
		V6.明天处理一下，最后一个模块
			有些什么功能点？1.右键双击面板
							2.右键菜单栏
							3.将blob类型的文件直接存储到数据库
							4.读取excel表格的数据（读取的算法还得根据excel表的设计来写，而存入数据库的也需要根据具体的数据来进行设计）
							5.
		
		V7.打开新的，默认的是项目的基点
		
		修改的比较小的细节有点多，今天一天肯定是无法全部完成的，所以修改一下比较大的逻辑就好了。
		所以小的细节先摈弃，先把主要的功能做出来。
		
		1.首先这个treeview
		我使用Get函数来生成一下，那么当我改变数据的时候，我是不是得重新生成一下呢？
		看看有没有blind，如果有blind，那么我只需要处理绑定的数据就行了，如果不是呢？
		那么每次都自动生成，提供一下公共的刷新函数。
		静态的就行了
		没有必要动态，只是每次改变都刷新一下就好了。
		那么现在我的问题是如何后台生成这个TreeView
		现在我已经可以显示出名称了
		那么下面，
			1.按照文档组织方式重新组织一下显示。
			V2.如果是多级的如何处理？
			
			V现在的问题是如何处理这个PrjInfo
			C和前端的关系
			一个工程下面有多条路线
			路线可以通过读取一些文件过去信息
			那么就需要新建一个路线的对象了，
			
			V现在实现右键菜单
			
			大致的逻辑是完成了，下面是需要细化的：
			TODO:
			1.完成myprjs的expandall。
				我可以试着先展开一个节点
				
			2.提出的意见修改细节。
				1.标段设置 （能标记），不使用弹窗，直接在面板上修改。默认读取 工程基点默认为项目工程基点，也可编辑。
				2.将读取的jdw使用二进制文件的方式存储到数据库
				3.存储路线的时候，将本地文件的路径存储下来。
				4.将资源文件、配置路径等，使用相对路径和可配置的方式处理。
				5.如果可以上传到svn。
			3.路径不换行
			4.路径不用存，直接将文件，
			V5.K120+500  表示 120.5千米，主要判断后面的数据。每条路线在项目中是唯一的。如果是一些额外的命名，起始只是为了不和主路重名（匝道）
			
1.添加标准梁型
	v1.使用WPF画
		网上看起来是有案例的，他想要的，肯定是通过wpf直接绘制的，动态显示。
		那么可以试试，这个是一个周的任务，可以研究一下。
		
	~2.使用revit自带的画，然后将窗口贴到面板上面
	
截面类型标准梁名，自动生成。
	1.标准族库可通用
	2.
-->早上的时间我能处理什么？
	1.先找到任务的难点及其可行的解决方案
		1.首先最难的当然是这个根据参数来绘制对应的窗体显示
		首先在Grid标签
		我已经在wpf上面找到了绘制的，那么如果我需要快速完成这个任务，那么我就需要直接使用绘制的方式，也需要构造一些公共的函数去绘制参数化的图形，
		比如说标注。
		那么，先不管了一些小细节了，先尝试着把线绘制出来。
		如何绘制？
		首先找到一些基本点，也就是不会太改变的点作为参照点，其他的都根据这个参照点来进行调整。
		 
		这个绘制的数据结构应该怎么处理呢？
		定义的函数先不管这个问题，先修改这条线的长度，如果不对劲，那么再讲依照的线条也进行修改，这个跟这个函数没有关系
		先绘制两条线试试
			1.cantileverlength 悬臂长度
			2.梁顶宽
			有3种方式来找到修改的列对应的变量
			1.修改无法排序，然后根据固定的Index
			2.获取当前行的对应第一列的名字，然后根据名字来判断对应
			V3.每一行的value，给起一个单元格名称，然后根据这个单元格来获取对应的名称
			那么，当修改的是相对的值又如何去改变，比如，我需要计算才能得出另一条线的长度
			我如何给这条线命名？所以，名称应该还有一种情况，也就是拥有计算公式的情况，比如说：
			现在这条rest的名称应该叫做,		梁顶长减去悬臂长	这样，我需要修改它的时候，首先判断它的名字，名字里面有+-号那么我就去拆分它的名字，找到名字1的长度，找到名字2的长度，然后重新绘制长度（计算得出） 因为有多级依赖，那么每次都带一个()号作为一条完整的线
			这种命名方法是否会重复？
			
			我还不如这样，将绘制好的图形将其point，记录下来，如果有其他线条以此为参照点，那么每当修改一个地方的时候，就把这个参照点改一下。
			那么现在，我试着看看这个点，是否是参照类型的。

			我如何去将公式定义出来，然后每次修改后都去计算？
			先固定几个修改公式，后面的再考虑重构吧
			现在的情况是什么？ 
			现在完成了简单的参照，
			那么下面：
			V1.将剩余的线条和参照画出来
			
			现在我已经确定了一些需要添加的参数，首先把他的部分参数干掉好了。
			初始化放在默认值里面吧
			
			现在我已经把必要的参数定义完了，
				V1.默认值
				2.没有什么好不好，只要能计算出来就Ok，反正是值引用。
				绘制基本完成
				现在调整一下垂直方向的文字位置
				3.现在调整一下具体线的标注方向
				V4.绘制基本完成
			
			
			V2.定义path为一个path组，将标线带上。
				标线有哪些可变？
				1.文字的方向：都是相对线条来说是从左到右的， 标注位置，上方，下方。
				V2.是否含有标注，
				V3.标注与原线的间距
				V4.Point 本来就是一个值类型，所以没有用了，那么我可能只有将Point改变成引用类型，这样才有可能实现参照点，装箱
					所以并不奇怪，
				问题：
					V1.我现在无法将Point变成引用类型，那么我完成了修改参数值对线实体的长度修改，但是我目前没有也针对标注的修改，如果直接修改麻烦吗？当然修改某条线的长度，目前我是直接改的已存在实线的长度，所以我应该讲函数分割一下：
						V1.如果分割？
						提供一个根据实线绘制其标注的函数。
						这个简单
						同时我也需要提供一个清除已绘制标注的函数。
						或者说，根据Path，重绘制标注的函数，如果曾经绘制过，清除以前的，然后绘制新的。
						V2.或者我直接这样处理，改变的时候，同时改变标注的一些参照点，我文字换了，长度换了，重绘更方便还是修改方便？当然是重绘了，不是吗
						因为我已经将绘制的函数写出来了，有啥必要再做个修改的呢？
						V3.没有关系，现在就先保持实线修改，标注重绘的方式吧。
							那么我现在好像已经完成标注的重绘
				V5.向尝试绘制一个闭合的三角形试一下
				6.下面绘制一下文字
					V可以通过修改文字的Margin来实现文字的移动
					左上角为0,0，如果我可以获取边界，那么我就可以得到文字的底部中心点，
					试试获取文字的底部中心点
					首先我已经获取了文字的左上角点
					如果不行，那么我只能通过文字的长度来进行计算了，
					字体大小我倒是可以获取
					21.5个字符=150 
					21.5/2 = -150/2
					长度=22
					想居中，那么就的X-150/2
					
					2.我已经可以旋转了
					3.下面开始绘制，
					V4.绘制的长度怎么得出？当然是通过直接计算坐标得出
					V：目前我已经基本完成定义了，下面就开始绘制。
			V3.封装一下，直接使用重绘
			clear
		-->2.完成对数据库的建立，新增了实体对象。
			对表的设计有问题
			一个项目只有一个上部和一个下部，
			一个上部包括几个标准板块
			而页面只是作为展示，大概内容
			这个设计还未完全完成，那么先设计一部分好了。
			下面：
			1.完成对标注图库的模型建立，新增数据库表和字段
			XTOD:提供一个公用的解析类，传入查询语句和类型，将查询出来的数据解析为相应的类的实例。
			后来直接使用了DataRow的方式，也挺简单的。
			现在完成了一些编码，可以试着测试一下。
			
		V-->3.他周五需要一个东西，那么我花一点额外的时间去给他处理一下这个。
			1.首先我所了解的目前该项目的进度情况：
				1.他已经完成了部分的模块的，这个模块函数，输入图纸，将对应的表格输出出来，都是由程序完成的；
				2.他现在需要完成输入另一个图纸，然后生成对应的表格；
					1.首先无法简单逻辑使用程序得出他需要填写的数据
					2.我不知道他对图纸有没有能抽象出来的想法，
					我现在倒是对填表有一点抽象的想法：只考虑需要填写的数据，然后将数据编程一列或者一行，这样填写进去，就格式而言这个看来需要细化
					现在对图纸的抽象想法，目前还没有研究他的图纸，我电脑上面连个cad都没有，
					现在是这样的，首先他绘制目前看起来并没有标准
					所以如果需要识别他提供的原型，需要通过知道一些绘图规则，这个并不是看一眼就会的东西，我需要参考一下许工的代码。
					3.这个对我目前来说确实有点难，我需要看懂结构，我又需要知道表格数据。
				3.对时间要求比较紧急
				4.我能处理什么？现在熟悉程度来说，我对两个都不是很熟悉，所以我只需要辅助一下他，探究清楚，对图纸进行比较完善的分析，然后抽象出函数，探究一下可行性的方案，然后参与进一部分代码的撰写。
				5.如果需要处理这个，首先要对这个结构熟悉，但是他说结构的话，熟悉起来还是需要花一点时间的，而且我现在没有门道去熟悉这个结构。所以暂时结构依赖给许自强，我这边倒是可以处理一下excel的事。让他专心地思考一下识别墙体结构，然后获取相应数据，
				我来完成填excel表格的代码。
			2.目前进度未知，但是已经到了时间，我只提供了一个cad的函数。
				下面主动和王茅交流一下
			
			如何识别结构施工图
			如何识别平法识图
			如何识别梁钢筋
			墙钢筋
			
			V3.提供一个函数，输入一个ID号，然后找到其对应的填值区域，然后将值填充进去。
				V1.首先我需要知道如何去读取excel表格
				V2.我需要看一下格式确定都这样的?
			
			
			clear
		4.
		
	2.规划一下这个周的任务，
		1.这个周任务完成是必要的，但是也需要把一些必要的细节完善一下
			1.技术点有存储blob文件。
			
			我也有可能会转换成服务器数据库的模式，而不是使用本地数据库了。
			着急肯定是不着急的。
			
	3.《WPF编程宝典》
	
明天处理两个东西：
		V1.绘制截面
		2.完成数据库对象的建立和添加等。

		
优化项：尺寸界线，尺寸线，尺寸标记，尺寸界线跟被标注线存在距离，有绘制规范。目前只做距离
clear clear
--> 接下来两~三天的任务：
	1.完成任务需求4的分析和完善
		1.添加标准梁型的数据库部分
			这个viewModel应该是静态的吗？
			不应该，应该一个View对应一个ViewModel,当然我可以提供一些公共的函数，但是这别弄混了
		2.分析一下需求的页面及操作等。
-->使用程序的方式，将柱子放进revit原点。
	FamilyInstance 
	是由FamilySymbol生成，
	而就是FamilySymbol指的就是Class，而这个Class，是有具体的文件来保存其定义。
	所以如果是对族定义的 static类型，可以在FamilySymbol的属性列表里面找到，
	如果定义的是实例类型，那么可以在FamilyInstance里面找到。
	
	绘制所有的东西，都需要先定义一个族。
	如果不定义族，可否直接绘制一条线？
	看起来并没有方法可以绘制，因为是3D的吗？
	
	如果你需要添加一个参数，使用FamilyManager.AddParameter()；
	familyInstance.GetParameters()函数可以获取参数

clear
clear
-->接下来的任务：
	1.将之前的项目完善一下，
		1.存入.rvtd到sqlite数据库
		2.其他winform的小细节
		3.代码重构，提高自己代码的建模能力
		
		
	2.使用代码的方式去创建族、构建等测试。
	3.将现有代码进行一下重构。
	4.导出Excel
		规范自己的文档，不要修改原来的函数。
		
	5.剖面视图出图自动标签
		下面：初始化标记类型字典表
		V从文档中获取
		
		2.遍历已经选择的视图，获取设置，获取视图中心点，
		将视图中的管道、风管、管道系统、桥架 3种类型实例，获取其location，与中线参照点比较并得出位置。
		3.
(1700.03844091475, 677.140443204373, 71.3897474948755)
(1767.32127396211, 677.140443204373, 63.6895407355502)
(1691.59456267977, 662.422453763445, 69.1014309927432)
		问题：
		重载失败，Add无法触发刷新，
		绕过去了
		
		问题是什么？
		无法获取到剖面框的boundingBox，我无法获取剖面框
		因为理解有偏差，
		首先我能获取到指定剖面的上面的所有东西吗？
		2.我是否能找到对于的viewfamilytype?
		如果能获取这个elem，我就能获取到它的包围框
		但是看起来我无法根据viewsection来获取其元素。
		那么我看看这个viewfamilytype是怎么来的
		他是ELEM，然后他的id可以gettypeid可以知道他是 viewfamilytype 继承自ElementType
		ElementType继承自Element 他右一个ViewFamily的属性
		XView好像有一个 ViewFamilyType 属性
		ViewFamilyType有一个ViewFamily属性
		ViewSection 有一个ViewType
		
		剖面从属于viewfamilytype
		而这个也从属于
		所以 ELem居然是细类，所以你才无法向下寻找关联。
		现在的思路只能是，获取剖面上面的所有元素?  因为这个框是属于这个剖面，所以是可以获取的
		我无法得知这个elem有没有细类
		
		这个框是一个实体，这个实体类是继承于elem，
		这个框和剖面的名称相同
		框是属于平面的，应该能找到这个框？ 等等，他确定是属于这个界面？
		当然db是可以找到所有的元素的，
		我现在主要是，看看如何添加这个元素，他是怎么生成的？
		这个元素到底是什么东西
		
		试试能否可以通过当前视图查找到？
		他是通过当前活动的文档来查找的，
		我是否需要先把界面变成当前活动文档？ 
		不太好，
		有一个activeview.id
		所以我只要找到viewid就好了。
		试试
		Id = {3612133}Id = {3612134}
		左-综合支架-G轴
		2.
	    确实有一个同名的，
		确实找到了。
		
		现在已经可以绘制出这个线了，但是如果单独地判断y是错误的。
		因为是横向剖面，所以他所有的Y都是相等的，我这里直接判断它的Z是相等的，这样是不行的。
		
		为什么是倾斜的，因为我只对Y进行了偏移。
		
		我现在是需要做什么？
		我需要找参照坐标系的y，而不是
		我所需绘制的线，是参照坐标系的Y，来判断的，当然最终绘制都是世界坐标系的。（只需转换一下就好了）
		所以：
		1.所有关于坐标值的计算，均使用相对坐标系，
		之所以会重叠，也是因为应该使用相对坐标来进行计算。
		
		先不考虑起始点了，
		先考虑一下引线以及终点
		
		参照一下他的平面坐标系到世界坐标系是如何转换的
		
		无法得知
		
		现在不使用坐标系的转换，尝试着获取定义该平面的 参数 ，看看有哪些，BoudingboxXyz 
		box有个Transform是将box的本地坐标转换为模型坐标
		
		我可以Rotation这个box
		
		目前的剖面都是平行于Z轴的，因为是在平面视图创建的剖面。
		
		所以他的x有可能是世界坐标的X，也有可能是世界坐标的Y
		
		我现在有思路吗？
		好像有的，
		首先，我给的点，是想给在哪？
		是想给在参照坐标系
		而实际定义出来的是世界坐标系的，
		我给的长度，也是想给参照坐标系，
		但是实际是给的世界坐标系的。
		
		那么我需要提供一个函数，也就是将我给的点，转换为世界坐标系的点。
		给的长度，转换为世界坐标系的长度。
		我定义长度，应该使用xyz来定义，而不是一个单端的长度，因为xyz是可以转换的。
		所以，首先处理一下这个转换的函数。
		
		有两个转换函数：
		1.参照点转世界坐标系。
		
		2.世界坐标系转参照点。
		
		看来只有我自己写一个转换函数了，
		
		如何转换呢？
		我需要转换什么东西？
		一个用户坐标
		
		一个模型坐标点
		
		首先我所有的东西都是世界坐标系的。
		
		那么现在我需要自己定义一个坐标系，我如何定义这个在平面上的坐标系？
		我能获取到这个截面的包围框
		他自带函数，将当前的Tranform进去
		那么我搞懂一下如何使用这个Transform
		
		有剖面的transform吗？
		
		有的
		
		
		
		先试一下他给的函数，如果不行，再考虑自己写一个转换函数。
		关键他的参数里面一个UIView，一个View
		那么我试一下他的uiview是否有改变。
		如果这个uiview是承载所有，应该是不会改变的。
		
		选取的线，有些是X相等，有些是Y相等。
		
		(1867.85661693675, 641.444089982486, 75.4258194959418)
		(1857.24105727053, 641.444089982486, 55.3499001292703)
		(1870.00501569429, 641.444089982486, 65.3707349081378)
		
		不要使用view计算，直接使用boudingbox计算试试
		
		这个boudingbox好像 世界坐标系？
		
		横截面是横截面，这个实体框是这个实体框，这个
		
		我现在的问题是什么？
		首先我已经进行了转换
		但是在表面上看来，
		1.我的elbow点有问题：相对于，左右偏移，偏移的角度还不一样，为什么？
			因为我的end点，是在同一个平面上的，但是我的起始点，起始不是在同一个平面上的，是这样吗？
			
			我是上下偏移的判断没有问题
			
		2.我的end点有问题，上下偏移
		
		3.计算为左右对齐
		也就是我的end是同一个。
		
		中心点看似是偏移到中心位置了。
		试试其他视图呢
		垂直了，没有隐藏坐标系，即见即坐标
		因为是文字居中对齐的缘故
		
		所以我现在对齐是对齐的，但是没有设置文字的左对齐和右对齐
		
		1.调节间隙
		2.找到没有拐点的情况，看来其中心点，不管怎么都等改改了，
		3.如何设置文字并非居中对齐，而是左对齐和右对齐
			1.一会再找找有没有直接关联文字，如果没有，那么看能否获取到字体的长度，然后根据长度进行相对偏移使其对齐。
	
		4.
		横向的尾点z不应该是0，应该YZ和起点相等，只相对X进行了平移。
		现在的问题的，就算我是原点，位置也不对，这就很好玩了。
		
		(1663.77818994695, 742.417629868889, 71.2421259842546)
		(1663.77818994695, 741.894600371509, 71.2106462059172)
		
		(1669.24439463602, 742.417629868889, 71.2421259842546)
		(1669.24439463602, 741.894600371509, 71.2421259842546)

		现在的问题是什么？
		1.引线的象限判断有问题
		2.引线的平行轴有问题
			我直接无法绘制一条平行与当前视图的线
			
		3. 如果我翻转了视图，我判断的方向，是错的，但是我计算的点的X方向，是正确的。
			我如何处理这种翻转的视图？
			修改我的判断，我的判断，应该跟着翻转吗？
			我根据的是，相对坐标的X大小来判断左右，他进行了翻转，他的包围框大小没有变，但是我

		4.就算我换了一种类型，也会让位置改变。
		beginPoint
(1673.1002432985, 581.686867023845, 75.4258194959418)
(1673.1002432985, 581.686867023845, 75.4258194959418)
(1673.1002432985, 568.589631669387, 55.3499001292702)

{(-13.211581844, 10.055084588, 0.000000000)}
{(-0.114346490, 10.055084588, 0.000000000)}

{(-0.114346490, -10.020834779, 0.000000000)}
{(-13.211581844, -10.020834779, 0.000000000)}

		V5.左下象限的判断，总有一些漏网之鱼是为什么
		参数命名重叠，调用错误
		6.尾点位置和标记的类型有很大的关系。
		7.也有elbow不垂直的时候
		 为什么会有不垂直的时候？
		 强电  高压桥架 400.0x200.0  FL+3.7300
		 首先，我已经反复调试了，他有elbow吗？
		 如果我删除掉就没有elbow，不删除调试一下
		 {(1865.389972828, 593.150126728, 72.663807588)}
{(1865.389972828, 593.150126728, 74.663807588)}
我现在 elbow居然跟 参照点相等了
这符合逻辑吗？ 符合的，因为我将
也就是我偏移了的，
		看起来最后的结果是跟文字有点关系，那么现在，我试着校对一下elbow对于不同文字的 偏移
		如何偏移？
		首先，看是否可以获取文字的包围框
(1860.13153632162, 599.240204507637, 65.7903706153545)
(1854.13736529583, 599.240204507636, 65.150606835827)

(1862.10020448506, 596.028262250397, 64.8836418935086)
(1854.13736529583, 596.028262250396, 61.1507644805122)

(1872.10988762545, 609.244764462495, 67.4983595800551)
(1865.43009283406, 609.244764462495, 61.3651737649724)

(1859.67713999616, 621.132954277491, 69.6289532925314)
(1852.43241895613, 621.132954277491, 68.9563811140537)

(1861.32198972312, 614.873046620143, 68.3166173345334)
(1852.04199900862, 614.873046620143, 67.6440451560557)
		
先尝试偏移一个固定的参数试试，
(1865.38580141348, 593.150126727893, 68.6679790026274)
=> 
(1865.38580141348, 631.820073659867, 68.3398950131258)
(1871.45338141373, 593.150126727893, 68.6679790026274)
	
(1865.38580141348, 631.820073659867, 68.6364992242901)
=> 
(1865.38580141348, 670.49002059184, 68.3398950131258)
(1871.45338141373, 631.820073659867, 68.6679790026274)

y相差
果然这个水平的偏差跟族有关系，
那么只要我把族进行标准定义，就可以进行固定的偏移
第二种方式是，读取族的类型，根据不同类型族类型，来进行不同的偏移。

为了证明，现在我通过修改族使其对齐
平行的先不处理了，因为这个偏移是由族类型来的，
下面处理一下文字偏移的问题

南北方向的elbow有点问题

1.根据坐标进行一下排序，根据固定的序列使他们的引线不相交。
2.

下面，处理一下：
V1.文字的对齐，他们可以通过调整模板
	首先全部调整成左对齐，这样看能否对齐标注。
	如果可以，可以叫他们创建一左一右，在程序中进行一下判断。
	如果left，那么FamilySymbol修改为对于的。
	是可以的，那么我需要做的，提供录入，如果他们按照我的规则来的话
	1.要么选择一个左或者右，程序自动判断左
	2.要么直接选择一左一右。程序也需要自动判断
	如果选择一左一右，有点丑，但是我又不能改变，族的左对齐和右对齐
	所以还是根据规则来。
	_左 _右
	
V2.排序一下引线。调整
	排序还是有问题
	先从左到右，从上到下，最后再根据区间来辨别，
	
	左右排序好像是好了，
	下面看一下上下的排序
	
	上下的排序都是针对拐点
	记录排序前拐点的位置，
	只排序拐点，但是不影响我拿直引来判断，所以有问题
	我是真的只排序拐点吗？
	也就是只处理拐点与拐点之间，而不处理拐点与直引之间？
	
	还是需要先将所有直点排序在前。
	
	现在是什么情况？
	
	右上是对的
	左上是错误的
	
	我还是需要先筛选直引
	
	判断是否有拐点本来顺序就有问题
	
	将所有的 全部进行排序
	
	看来我纵向的sort有点问题。
	
	明天：
	改造一下纵向排序
	如何改？
	不使用判断原有判断拐点的函数
	
	新建一个函数来判断
	首先， 找出所有重合和不重合的，如果重合（记录一下重合应该在的位置），再用横向的排序，如果不重合的， 而横向的插入点所记录的应该在的位置。 如果这样，当间距非常小的时候，重合的偏移不会影响到其他本来是直的，当偏移大的时候，就会影响到其他直的。
	
    如果不是插入到所记录的位置，那么会发生什么？ 就会有一个超长的偏移。这个超长的偏移会怎么样？ 会穿过其他的吗？有可能是会的。
	循环判断，如果，相同，比较 谁X小，替换一下，所以跟区间还是有关系的。
	也就是 同一个Y，有两个
	
	要先垂直排序，再横向排序
	
	或者我横向和垂直的也可以吗？
	
	我返回的是一个olElemDic
	
	不行，这样还是会造成本应该直引的被偏移。
	
	我如果把垂直的左右找出来了后呢？
	
	1.根据Y把不同Y的排序
	2.同Y的保持横向排序不变，然后放在后面，那么同Y的需要和其他同Y的进行排序吗？
	是需要的。
	那么如何排序呢？
	所以我应该是将，所有Y都进行排序，排序以后，再单独处理，直和拐的。
	X直的放前面，拐的放后面，直的序列和拐的序列保持一样，
	
	或者先处理直的，拐的 再根据Y来处理一遍。好像也不是不可以的。
	
	现在我好像完成了排序。
	现在测试一下。
	右边右一部分是错误的，
	
	右下是完全错误的。
	
	这些错误的，都是拐点的错误。
	
	是拐点的顺序问题
	还是生成拐点的问题？
	
	如果不要垂直排序，四个象限全对
	
	如果垂直排序不分上下，左下正确，
	这个是四点平行的情况，试试垂直的情况
	
	右下右一个点有拐点，调整了Y对齐和gap也让它先了（X顺序错误,是不是我判断忘了转为局部坐标系？），其实它应该是后的，有点特殊，看看好了，
	右上特殊点错误，其他正确
	左上 全部正确。
	
	为什么我排序x能对？因为我没有判断Y
	我直接对X进行了排序，
	
	我的Y为什么无法排序正确？
	因为我考虑了 Y，如果我不考虑呢？
	将从左到右送过来，然后
	
4.先绘制，后调整间距

V5.有标签的，将标签清除
	
3.开发一个认证服务
windows
V6.记录一下本地配置
V7.左右标签还有点问题
	必须全部选择左，有问题
	
V8.打开获取当前视图在面板上。
	
V9.多版本的问题。
	目前就是18版本调用的时候API不一样有问题。
clear
	
-->CDM：
只处理X方向
提供一个函数，
1.查找到编码，
2.然后在编码是上方添加一行，
3.给新插入的一行填充数据，数据可以使用string[] 来填充。

我可以进行抽象的
我只需将Excel到Model参数和Model参数到FamilySymbol的参数映射做好，就可以不用每次都新建一些东西了。

这个map因为涉及到具体类型，不全是string类型，其实好像是也无所谓的不是吗
我需要计算的时候才转为对应的类型。
其他时候全部是string，其实也不是不可以的。
看看那天反射的使用。

反射是通过实例，获取类型的属性，然后设置属性。
首先必要的是，获取FamilySymbol的参数集
然后实例可以通过反射获取
假设新的一次修改会修改哪些东西？
1.会修改族模板，会新增减少或者修改参数
2.会修改excel表格
3.这两个的修改会影响到我对Model，因为Model就为了去适应Excel和FamilySymbol。
我能不能通过FamilySymbol来创建匿名类？
不太现实，我现在只做代码的封装，让各个模块更好修改好了。

重复代码怎么办？
无所谓的，
如果我能通过一定的手段识别肯定可以的，但是目前来看我只能通过人为决定。

还有一个小时，我应该怎么处理？
今天先把梁的调试，
考虑一下，他们在创建FamilySymbol的时候都有一些通用的东西，
比如说？
创建实例都是一个吊样，
这个不就有点像工厂方法模式吗
白学了？

而参数集到反射出来的参数需要创建一个map，而这个map记录了获取的值，

第二个反射是通过

看来控制参数不光是使用  支座数来控制的，每跨梁都有自己的参数的。
所以梁的参数，应该继续添加。这个没有关系。
修改一下数据结构和录入数据的地方就好了。

其他的不太影响。
现在先把建成模型的地方完善了。

每块梁的梁高不一样，起始点应该为：顶点Z -梁高。所以，定点倒是一定的，但是每块的起始点，需要计算一下。

梁的好像基本可以了，现在看看墙的。

1.首先不涉及计算，
所以需要做的是：
1.知道Excel录入哪些数据
2.知道对应族有哪些参数需要设置
	有5个墙型，有些是公共的，有些是特殊的，
	如果是公共的，那么就创建父类；
	如果是特殊的，那么创建子类继承于父类；
3.  
WallColumnl1DirectLoc
WallColumnHeight
HorizColumnWidth

lForwardWallBodyThickness
lForwardWallBodyLength
lForwardWallBodyHeight

A21301-002-0506-005
A21301-002-1311-009
A21301-002-1910-009
A21301-002-3012-011
A21301-002-0815-015
A21301-002-2614-014	
我现在基本完成对代码的撰写，现在墙只剩下他们数据的校验了。

2.板扣梁
板扣墙

~板扣柱
V3.修改族类型，增加code和时间
然后测一下进度模拟
	VCode
	V施工开始时间
	V施工结束时间
clear
-->Id = {(2506207321696)} {(2506207320464)} {(2506207320176)}
LAYER	{(2506207320192)} 
	WR1-03-101-01-002-03

验证的需要些什么表？
首先就是用户表吧

不能使用dbfirst也没有关系的。
服务可以拷贝过来。
那我试着直接拷贝吧。

现在有很多东西是可以使用的。

当然先新建一个项目了。

客户端，需要一个可移植性比较高的登录窗口

使用服务器来post登录的接口
然后返回一个json数据来表示是否登录成功。

现在我需要先把服务发布一个。

	server=localhost;uid=root;database=cdk_qmi;port=3306;pwd=1234.com;
	
现在我已经发布了验证的服务了，测试一下

目前先做成简单的登录窗口

http://hybim/HYBIMservice/Login/index
http://hybim/HYBIMservice/Login/clientlogin?userinfo=

       AppConfig.InitAppConfig();
	   
明天：
	1.完成客户端窗口的创建
	2.完成登录验证
	3.完成注册的服务器逻辑
	4.
	
	userinfo={ "LoginName":"neal","password":"xMpCOKC5I4INzFCab3WEmw==","UserType":"1"}
	
	注册的代码逻辑基本完成。
	
	V现在移植进labletool
	clear
-->新的任务：
	1.需要创建一个工程
	2.完成几个页面的绘制
	3.集成之前完成登录页面和注册功能
	4.记住密码功能
	5.先处理一下界面相关的东西吧，
	
	1.登录页面，
	首先需要按照设计来绘制页面，
	其次，标签的形式，需要找找这个框，应该是一个panel
	
	这个有一个DockPanel，除非你使用userControl，否则无法使用window
	那么没有关系，我使用好这个DockPanel一样的。
	
	小的细节先不处理好了，先做主要的框架
	
	StackPanel是一堆的控件
	而DockPanel是停靠的控件
	
	我其实不应该这么处理的不是吗？
	我应该每个装成一个GroupBox，不能是GroupBox，
	先处理任务是最主要的，其他的窗口修改完善的可以放在后面，毕竟还不是发布版本。
	
	我现在无法修改它的背景色，为什么？因为我使用了模板，我应该定义为静态资源，这样就不用写重复代码了。
	
	我现在依旧无法修改按钮的背景色
	
	不要在小细节上面纠结了，先把大的需求处理了。后面再完善。
	
    现在是点击查看新闻页面，
	如何处理？
	首先我是在开始的时候初始化了page，
	所以我应该定义一个hook一样的东西，如果检测到page的Item点击事件，然后应该初始化一个新的page到frame进行展示。
	这应该是应该一个事件，我如何找到这个事件？
	这应该是一个static的？
	不，应该是属于实例的。
	这个不是Hook，这个只是一个简单的事件定义而已。
	事件的定义应该在哪？在mainwindow，
	事件的处理也在main
	事件的绑定在哪？
	在news的一个公共函数里面
	事件的触发在哪？
	在私有click这种函数去触发，并将值进行传递。
	所以new只需要触发自己的公有函数，和传递参数
	其余的本来就安排明明白白。
	
	不是事件，是委托，不并不是委托，因为不涉及到多线程。
	
	下面呢？
	
	几个页面
	下载的页面：
	下载的内容是后台可以配置的
	那么我只是在前端提供一个固定的模板，
	这个用listbox来实现，因为Listbox里面，每一行又可以装很多的控件，正好符合我的需求
	先把后台弄起来？
	无所谓的
	这样吧，先造后台的数据，然后再绑定，然后再调整前端。
	前端慢慢来
	下面：
	V1.用户注销按钮
	2.现在处理数据库相关的东西
		1.首先是建表
		两张表
		V1.新闻表
			 新闻类型，新闻标题，详细内容，发布时间，guid，通知对象
			
			应该有一个通知表，表中存储 new的id和其通知的userid，
			
		V1.1 新闻类型字典表
			id 和 类型

		2.产品表
		   id 产品名称，产品guid,
		   
		V2.1 每个产品应该有一个等级
		V等级字典表
		V专业字典表
		
		3.修改一下用户表，增加一些字段
		
		V4.用户产品表？不，一个用户应该有一个表来标记自己的产品（产品类型，以及到期时间）

	3.提供接口：
	 1.获取所有用户信息（唯一标识、用户名、手机号、邮箱、公司名称、产品名称+版本+专业、 最近登录时间、ip（每次登录会更新）、到期时间、
	 
	 2.修改以上信息（除了最近登录时间、Ip）
	
	X有续费的需求再加续费的字段。
	目前看来所有的表都已经建好了，
	下面：处理一下客户端需要用到的接口和额外的接口
	
	做下载的功能，
	1.首先我有一个现有软件的包了，我需要放在服务器上面去，
	2.既然追求时间，那么怎么快怎么来，我之前已经有一个fileservice了，那么我现在只需要做一个简单的修改，并将其布置上去不就好了，我已经有了fileservice的代码，找找吧，如果可以，那么我只需沿用就好了，
	
	本地的代码是有的，还比较完善的，
	
	服务器下载文件的需要找一下，
	不是很好找，只能远程去找找了，以前的数据，
	网上找的好像并不需要服务器端处理什么，而是直接url指向需要下载的文件，
	而断点的问题，实则是客户端进行标记，然后每次读取的时候，只是读取一个片段，然后标记这个片段。
	
	这样，先试一下文件下载的，
	是可以直接下载的，
	
	确定，连dll的都可以直接下载的，
	
	那么接下来，1.在数据库里面存储文件的  可以是多个文件吗？ 在数据库如何进行描述呢？ 软件的文件信息，有些什么文件？dll, addin 
	里面还有文件夹的，所有如果单个文件夹下载，不太好，直接存储过程一个压缩包是比较好的，
	然后在本地进行解压一下，
	
	现在找找解压的函数，
	
	先不管解压函数了，可能安装包更好一些，不是吗，反正都是压缩包的形式 
	还是做进压缩包吧，这个无所谓的，反而说不定好卸载一点。
	
	现在还没有关系，先有一个示例就好了，数据库的数据 后面可以慢慢完善。
	并不用展示所有的，
	现在版本好像可以了，那么现在处理下载的
	
	不可能让所有用户都可以访问iis，
	所以这个应该是在服务器端？
	也不太像，先试试能不能在客户端获取吧，
	好像不能，无权查看
	每个文件夹都可以单独开浏览权限
	
	下面：把html解析成一个树状结构，里面包含文件夹和文件名称
	直接next是不行的，同级
	那么使用递归，
	
	我现在有了下载的一个东西，那么现在我只需要，将下载框集成进去就好了，
	先集成一下，如果需要隐藏掉再说了，
	
	下拉式的，
	
	V自动生成application的xml 
	
	http://8.129.183.179/bigz/home/index

	https://8.129.183.179/svn/BigZPrj/BigZCodes
	
	2.   在客户端集成一下
	
	我想实现什么？
	
	实现下载的按钮
	
	我想实现，点击下拉框的按钮，实现对应的功能
	
	如何实现？
	
	首先我鼠标进入到下拉框的时候，自动弹出下拉的列表
	我用一个全局变量来记录可以吗？
	进入的时候，记录一下当前操作的vmModel
	
	然后点击事件，记录操作的tag，
	然后根据vmModel和tag  来进行相应的操作可以吗？
	
	这样勉强能接受了，下面？
	V启动 revt，和卸载等功能，
	
	更新，再说了，
	clear 
-->下面，处理一下用户信息框
	讲真我现在有点混乱，
	其实没有必要这么严谨地使用VM, 有一些东西实例化的User已经包含了就不必要再写一次了，
	
	每次如果注销了，不刷新？这个怎么处理？
	因为我绑定的时候只在第一次进行初始化，那么我有时候不调用page。
	现在看起来我已经有了一个案例可以借鉴了
	他的动画用到了3d，我这边没有必要用到这么麻烦
	我这边需要处理的是，
	需要索引吗，看起来不需要的
	
	因为有多达26张，所有用控件展示也不太合理
	所有最多只提供一个左右的按钮，来指示上一张和下一张，动画效果要吗？
	不需要，反正是循环展示，自动播放？
	整个控件的展示，需要放到另一个线程吗？ 
	不需要的，我可以通过委托来修改控件的内容，
	另一个线程只需要处理一下时间暂停和启动等相关东西就好了。
	
	那么感觉至少需要一个委托了
	
	获取一个参数值，而根据这个值来修改当前展示的页面，然后上一页和下一页按钮 也可以修改这个值， 所以这个值还得不能再委托里面固定死，是一个变量了。
	
	现在的问题是什么？
	拆分逻辑又如何拆分？
	
	线程里面做什么事？
	首先是无线循环，
	使用取余运算，
	然后一直对当前ImgIndex进行++操作，
	然后激活回调函数 
	
	回调函数：改变当前ImgSource为index指定的Index
	最好把之前的释放掉
	这个先不考虑，
	
	v1.下面处理一下当前按钮
	
	2.
	
	V0.安装包制作
	V1.左边按钮去掉边框
	V2.所有按钮去掉边框
	3.下拉， 检测安装状态 
	V4.点一下下拉
	V5.所有按钮 颜色变化去掉
	X6.所有字体大小设置为14 (主界面按钮)
	V7.消息间距
	V8.安装按钮显示在前
	v9.修改本地的登录验证所有人均可登录
	V10. 注册窗
	V11.文字居中
	V12.下拉，做成一个按钮，按钮和下拉分开
	然后，选择了什么，按钮就变成什么，
	
	我现在要做什么？
	我使用Selected事件可以处理吗？
	是可以的
	我只有在index修改的时候才会触发事件，所以我不能通过记录lastTag来判断选择的是哪一个，因为有多行
	现在的难点是什么？
	是选择以后修改值，我应该怎么做？
	我应该还是使用button，然后点击事件去触发，然后将combox关闭下拉
	
	能过寻找
	
	V13.做一个设置按钮，主要配置程序下载路径等
	V14.密码框
		这个反向识别比较困难，
		判断结果为false比较困难，
		1.我找到value为当前输入文字？
		但是文字如果为null 或者""，那么他们依旧相等，所以也不太可靠
		2.分析一下，现在是什么情况？
			1.首先如果我不作任何修改，那么面板显示我这里有提示，但是实际运行提示消失了
			2.如果我修改了文字装饰
			3.如果我修改了Foreground，透明去掉，那么他会显示文字，
				好像就是这里冲突了，
				如果为空，Foreground不为透明，它应该就会显示出来
	
	V1.其他地方不开放注册窗口
	V注册的逻辑已经做好了，
	V那么再做一个修改用户资料的
	
	现在看来带参数启动revit不太靠谱
	因为他只是加载了一个面板而已，
	
	那我如何做一个登录的呢？
	X1.我只能读取本地文件了？
		HYBIM在C盘有一个默认的文件夹，将登录放里面去，那么如果这边下线了呢？
		那么就修改状态值，
		如果不是按正常方式下线的呢？
		那是不是还得记录一个时间？
		
	2.
	下面做一个单点登录的
	
	也就是客户端 本地存入一个cookies，然后每次用这个cookies去服务器端验证，
	所以不管怎么的，都需要有一个放用户数据的公用文件夹，当然登录用户名密码应该不用放这里面，可以放到programdata文件夹里面，
	
	客户端好像并没有类似于Session这种东西，
	
	所以我需要怎么做呢？
	记录用户名密码的地方，和单点登录分开，
	即：首先看看cookies，然后去服务器端进行验证，
	也就每次启动软件，，都会访问物理文件夹，（注销的功能会将这个cookie清除掉），获取cookies，然后调用服务验证，这个写在登录判断逻辑里面就好了，
	
	如果我在网页端登录了，客户端还需要登录吗？答案是肯定的，目前还没有看见过哪个网页端登录，客户端就免于登录的，有吗？ 试试？
	果然，没有服务器端登录，不需要客户端登录的，倒是有客户端登录不需要服务器端登录的。
	
	所以呢，1.客户端找到物理cookies，去服务器端验证，
	2.客户端登录需要保存一个新的cookies（服务器端验证通过后传输回来的token）在本地
	3.服务器端获取来自客户端的验证请求，将验证通过后的token保存到Session，同时返回客户端一个token，
	4.服务器端提供验证token的接口
	5.将客户端逻辑集成到其他工具，这样便实现了客户端之间的单点登录
	X6.那么网页呢？  网页端登录暂时不用我这边处理，不过应该也是有相应的解决方案的。
	
	CMD：
	现在他想做什么？
	抄一下tickness的获取方式，然后将值读取出来，
	
	%%1328@200
	
	dic里面加一个就好了
	所以现在呢？
	我需要做什么？
	
	修改一下类，增加4个参数？
	dic增加4个键 
	
	
	关键我怎么填表呀？
	
	首先我能获取对应的 4个值吗？ 答案是可以的
	我如何填写进excel表？
	
	在转换的时候，会获取到该文件的 编号是 X  还是 Y 
	X的时候，选取4个中的X值填写，Y的时候选择Y值填写
	
	反正都是取两个值（2个再拆分为4个） 
	总共填写的值为？4个 
	所以需要加4个参数就好了，
	
	现在看看取值的时候能否获取到 他的名称
	
	选取的时候能否放在最后去筛选？
	尽管这样似乎不是很合理，
	但是X Y的生成，确实是放在了后面，所以应该没有关系的，
	
	没事的，他这里也有的，所以我在这里来取值也是可以的。
	
	好了，基本逻辑思路大概理清了。
	
	是根据X来排序的
	有6个参数
	X取13 ， Y取2 4
	
	如果这个可以了，那么下面：
	V1.Revit里面的柱 
		有模板，只需要读取excel文件，就好了，然后 
		生成
		设置参数
		
	V2.接口文档
	3.接口：
	  1.删除用户
	  2.登录ip数组，所有用户里面。（分开组织用户信息）
	  3.用户的产品信息也放里面，还有设置修改用户产品的
	  4.
	
	1','2','3','4','5
	柱子，
	
	现在是什么情况？
	我如何进行配对？
	我还是必须要做一个判断 
	也就是 因为楼层范围都是唯一的，所以我这边可以使用楼层标高来进行判断，
	如何判断？
	
	我楼层直接存多少层到多少层可以吗？当然是可以的了。
	所以作为标识，
	
	V录入数据的时候，多录入一个楼层
	
	V然后在FamiliySymbol生成的时候，判断一下楼层和公共设置的关系，如果在公共设置所包含的楼层，那么就进行对应的设置偏移。
	
	现在我需要做什么？
	
	V1.扣减
		1.先检查一下碰撞点
			X选择所有生成的元素，然后使用碰撞检测过滤出来
			
		2.梁跟梁判断截面大小 
		梁扣板
		墙扣板
		
		25.86 63.32
		3.
		4.
		5.
		梁扣板是正确的
		//柱扣板反了
		（梁和柱，不扣）
		墙是扣对的
		两个梁不扣
		
		
	2.C++能实现吗？他现在在研究，但是看起来不太容易实现
	3.他需要录制视频
	
	4.标签工具 
		做一个按钮，给桥梁那个加一个按钮就好了
		
		集成到客户端
		
		X可能是自动弹出上次的框造成的
		V如果要让他不弹出，那么 应该弄一个获取项目按钮来获取项目
		
		这里按钮位置，
		载入族
		现在1.已经存在族的时候 载入失败
		2.使用LoadFamilySymbol会直接失败
		3.在不存在族，使用LoadFamily的时候，能成功，因为载入的可能不属于FamilySymbol
		4.那么使用LoadFamily，然后载入成功后看如何激活族
			Family没有激活一说
			
			那么如果加载成果了，那么下面，找一下这个族，顺便看看自己哪里报错
			
			是因为没有找到independenttag
			我载入了族文件，却没有给族文件命名？
			这是很有问题的
			还好我之前的在活动文档里面找 IndependentTag 而不是当前剖面
			所以整个文档，只要有一个independentTag，就可以加载出来 
			但是现在他想要自动加载
			我应该怎么去处理？
			
			我应该找到正确的姿势去加载标记族文件不是吗
			我是如何操作的？
			我是将文件打开，然后点击加载到项目并关闭
			
			然后就有这个族了
			
			就一个文件名，如果我改文件名，不得变？
			果然是根据文件名来的，
			醉了
			
			所以这个跟有没有给族命名没有关系，因为本来他就是通过文件名来加载的。
			
			那么我可能只能这样了，
			试一下那种替换的加载。
			
			没事，不就是实现一个接口吗?easy
			
			那试试？
			或者第二种方式，找准加载的，到底是个什么玩意
			IndependentTag(缩写...)->FamilySymbol(缩写+...)->Family(管道标记)
			
			所以我的实例，包含于Familysymbol，而又包含于Family 
			我现在直接加载了Family 
			或者就算我直接加载Family 都不应该报错才对
			实际上我LoadFamilySymbol的时候回叫我指定一个名字，这是很奇怪的。
			难道我应该给他指定为“缩写+尺寸..._左” ？
			那么我现在的问题是什么？
			我直接拖动创建了一个 管道标记 ，但是实例创建的时候，是用的下面的FamilySymbol
			这就是为什么我无法创建FalilySymbol的原因，因为我指定错了名称。
			我现在想做什么？
			指定对的名称
			并将族加载进来
			是这样子吗
			
			那么跟他之前的代码有点类似，不过，
			这就是为什么他能创建成功，因为他不是用的族文件来命名，而是族样式名。
			所以呢，我这边只要将他的代码作为小的修改不就好了。
			不过名称得具体一点，xxx_左 xxx_右
			
			然后我激活以后，我还不能直接再在项目里面找independentTag，因为这样是找不到实例的
			而我需要直接查找名称有_左 _右的 
			没有关系，这样来讲，逻辑就对了。
			至于为什么直接加载族没有显示，那就不用管了。
			
			现在既然分析出来了，
			那么1.先把familysymbol名称固定死，如果不存在，然后加载，
			2.不在通过indepenttag来反过来查找familysymbol，而是直接在文档里面筛选，或者，激活的时候加入进去，那么这样的话就会相对固定死。
			3.如果扩展呢？想自己命名？在哪里进行修改？
				1.首先他需要做的操作：
					1.手动将族文件加载到项目，然后我的下拉列表显示他最新加载的族？
					然后给他选择？
					这样的话，还是分离，然后根据名称来过滤了，只要有_左有_右的，那么我就过滤出来加入字典表。
					
					缩写+尺寸+标高-1比100_右
			猜想的对的了。
			那么我现在是固定死还是？
			只要是名字包含左和右的，那么就加载好了
			
			现在看来载入成功了。
			
			那么下面，就是遍历的时候，不是从independentTag遍历过去了。
clear
	5.client 拖动主面板，把下拉框选择框关掉
		只能在拖动主面板那里进行处理了，不是吗
		不是的，我的问题是，已经关闭了，但是视图确没有刷新 
		网上有一种使用委托的方式，可能是可以的，但是太麻烦了留到后面优化好了。
		https://blog.csdn.net/asciil/article/details/81982505
	-->	
	6.提示框加上Log和 “温馨提示”
	V~7.Client 下拉框，状态需要修改
		这个最多安装完后，自动变成运行，
		如果需要自动检测状态的话，那么就得放在下次更新了
		现在着急要，先处理一个简单的版本给他好了。
		
		
	V8.授权时间->有效期
	V9.用户名->改成账号。
	10.如果是这样的话，我需要做什么？首先，存储的位置在哪？
		1.肯定是在系统安装的地方了
		2.那么可能需要使用管理员权限才可以
		3.这个其实跟单点登录有点像
		4.做进里面，我其他的程序也需要以相同的方式进行验证
		5.我做进programData文件夹真的需要管理员身份吗？
		6.
		7.除非清理磁盘或者注销，那么一直给他登录，也就是只用登录一次。
		8.用户数据放在哪比较好？ 
			基本都会默认放置在 C盘的ProgramData文件夹里面
			然后我这边也可以考虑放在安装目录
			ProgramFile一般是安装的目录，
		那么下面，
		V1.统一用户数据暂存物理地址，统一存入C:\ProgramData\HYBIM\userData
			因为是暂存数据，所以不删除也没有关系，或者不存在也没有关系
		V2.如果有，那么打开就直接登录了，如果注销，那么就忘记密码
		现在已经实现了，那么下面 给其他地方也实现一下，然后注销，只能在客户端注销了，
		目前不用做其他模块的注销
		
		现在labletool的看起来应该可以了，
		
		其他的后面再改也可以
		
	clear
-->接下来：
	V1.将其他的dll集成入panel面板
		那么我在安装的时候，需要把那个换一下
		Clinet的安装
		安装的时候，安装pannel，
		然后把所有功能dll都放到panel的安装目录下面，然后Panel的按钮指向dll
		
	反正早晚都要处理，那么现在先把那个登录的处理一下吧，就不使用，	
		
	2.在服务器端发布panel及相应的加密后的dll
	3.对客户端部分界面进行调整
	4.加密客户端并制作安装包发布。 
	3个文件：
		V1.labletool
			加密一下
		V2.panel
			现在这里面有问题，
			一点panel就报错然后程序崩溃，
			我先换个路径试试
			
			所以源文件是可以的，但是加密以后就不行了
		现在应该可以了 
		那么下面，客户端生成addin
		
		V
			
			
		V3.client
		V安装包
	客户端以及第一个功能版本基本已经完成
	clear
-->本周主要：
	1.撰写一些接口
		1.用户产品字符串的接口
			我直接在服务器进行拼接行不行？
			应该是可以的吧，本来应该分开的，但是我查询语句可以给他拼接起来呀
			我只能先查询，后拼接了。
			使用foreach进行查询然后拼接？
			不，不重复查询，查询一次就ok了
			本来就查询的所有用户
			
			如果 每个新注册的用户，都默然有一些基础版的，
			那么我应该如何修改这个逻辑呢？
			1.首先我需要在数据库里面加入一些信息吗？
			如果我在用户产品表里面默认为每一个用户添加，那么我后面就不用处理了，
			第二种方式是，我不添加这些信息，而修改我的查询语句，将查询出一些默认的产品。
			或者给产品加上一个标识是否免费产品的字段，
			第二种应该更为合适一点。
			
			不要怕麻烦，因为这样合理一些，所以没有关系了，
			
			
		2.
	2.集成一些已有的功能到客户端
	V3.将所有的数据库字段，都进行一个规范化
	V服务器端也修改好了
	那么也要修改一下我客户端的命名咯？
	是的，只要有User，就应该改
	clear
	OK
	-->4.
	
	我先处理集成的
	
	通用
	其实我应该把所有登录这些，都封装成一个dll，这样我就无需再进行过多的拷贝文件了。
	首先我是否需要将客户端的登录弄进去？当然是不需要的
	因为本来就长得不太一样，
	所以，只集成小的登录框
	我应该把资源文件改一下吗？这是当然的，最好是改成不是复制的那种，ok 
	先改资源文件吧。
	
	好像改好了，那么下面将其他的整合一下重新搞一下 
	
	生成成功了，需要测试吗？
	先把所有的改造完了再测试一样的
	桥梁的也可以的了
	
	生成是成功了，可是我的appconfig这种资源文件呢？
	
	所以我应该换种方式？
	
	还是说拷贝进去就好了？
	或者设定一定默认值，如果不存在这个文件，那么就写死了。
	V可以试试
	clear
	-->批量提取族:
	1.改造一下面板，
	2.先实现简单的，增加一个树形结构了和为每个节点添加一个勾选框
		看起来已经将用户控件集成进去了，下面呢？
		下面，看看实际获取的东西
		在初始化的时候，将所有族遍历一下，生产viewmodel放上去
		然后再根据勾选获取viewmodel的id，来生成
	
	他之前的逻辑是如何的？ 
	首先选择文件，如果没有选择就为当前活动文档
	然后东拓过滤器，将文档的族实例过滤出来，
	然后保存，
	我那天分析的是：
	族->族符号->族实例
	那么这边是直接将族保存为一个族文件(.rfa)
	
	所以我不需要对他的逻辑进行修改，我只是需要做一些优化，
	如何优化？
	将所选文件中的族，全部展示到
	
	我记得我之前有接触过如何筛选族，不需要根据实例来进行筛选，
	而是直接通过文档查找进行筛选。
	看一下
	是在labletool里面？
	好吧，其实就是FamilySymbol就好了
	
	V1.优化一下这个生成族的，我需要传递什么东西进去？
	
	下面是下部的，界面，看起来需要
	1.绘制界面，2.集成一下，如何把剖面图这种嵌入进去，看看提供的资料，看看如何集成进去，需要考虑哪些东西，
	绘制界面，这个看起来不需要数据库？
	当然最终是为了，好吧，看起来不太需要发送服务器端进行计算，
	 
	现在有这个previewControl，
	但是实现有点奇怪，
	怎么说？ 
	1.这个是在revit文档里面明确提到的，
	2.看看它是否已经包含这个类了？
	看起来不太像，只能是模态化的窗口，
	
	先试试实例化一个？
	但是网上又有自己定义的，
	我需要的关键是什么？
	试着实例化一个？
	可以实例化，是通过app和viewid来进行实例化，然后将这个控件嵌入到自定义的窗口上？
	是的，他们就是这么操作的，
	好吧，果然是这样的，
	那么下面，如何设计我这个下部的页面呢？
	1.首先绘制页面，这个页面因为需要是在模态窗口，所以也是得用外部应用程序事件的方式去初始化以及showDialog，但是这个并不影响，因为我确实是可以独立，需要数据库吗？桥墩是从跨径等计算出来的，那么以为着这个梁也有点类似，从前面的数据已经计算出来了有多少桥墩，
	然后后面的数据都是作为一个桥段而来的数据，桥梁的数据，完全可以得出梁和桥墩的一些简单数据，
	需要保存到数据库，模态和非模态对我保存数据库的操作没有什么影响，因为我的独立的
	
	2.通过右键菜单按钮打开这个窗体并录入数据保存到数据库
	
	3.通过右键菜单按钮，获取数据库的数据，来生成下部结构的模型，
	现在一切看起来都比较清晰了。
	
	窗口创建好，事件定义好
	
	只允许一个
	接下来需要处理的是：
	1.参考一下切换视图的代码，然后选择4个视图：三维{三维}  参照标高、左、后，筛选出来，
	2.还要求实现，如果数据输入改变了，模型也需要同步改变。
	3.
	我先处理页面数据还是视图的问题？
	看起来视图好像更容易一些，
	页面数据需要问一下，哪些是从前面的数据计算得来的，
	4.最后还有模型，不过模型应该蛮简单的，反正也没做吧，
	
	ok，那么就先把切换视图的处理了，
	切换视图：
	1.首先，不是当前文档，需要后台打开族文件的文档，
	2.这里先拿梁做实验可以吗，当然是可以的了，
	
	我可以给他加一些参数
	这是一个Event
	
	他这个Event用得有点奇怪，而且没有实例，
	只是用了一个event.raise()
	来触发事件，而这个事件，也是revitAPI提供的接口。
	
	如果是我自己来改造，我会如何处理呢？
	
	首先是从中嵌入进去，而不修改它的大致逻辑
	
	所以，首先，我选择文件的时候，如果是多个呢？
	如果它同名呢？
	什么同名？首先，如果是类型同名，这是当然的，类型当然会同名了，
	其次文件下的同名呢？
	我如何陈列？
	如果是类型重复了，加入其中，如果是族重复了，那么就忽略掉，这样可以吗？
	感觉不是很好的样子
	那么就通过再分一类：分为不同的项目（源文件），反正我列举出来他可以不选的嘛
	这无所谓的
	所以这个树状的，就是 文件名->族类型->族  来展示，
	然后勾选，然后将所有的
	
	还是不要跟着他的思路吧，因为我确实不知道为什么要使用这个event接口，但是实际上并没有做什么绑定事件的地方。
	难道是因为不想让文件读到内存里面？
	
	那么我将展示了
	
	其实逻辑分析，这里完全没有必要使用到事件，当然你得记住，如果是revit里面的事件，需要继承API提供的接口，
	他有可能是为了实现非模态窗口，才使用，但是测试显示有一个项目是非模态窗口，也是可以使用Application来进行操作的。
	
	所以，接下来：
	1.去掉这种事件的处理方式，
	采用流程：
		1.选择文件后使用application打开文件，然后读取文件里所有的族
		生成viewmodel，这个时候将文档关闭释放掉吗？其实可以不释放掉，如果打开100个文件，会卡顿吗？如果将100
		，那么现在这样，循环打开一个文件，然后再关闭，这样对内存的占用是最小的，所以没有关系，然后考虑打开关闭的时间就没什么必要了。
		因为不管怎么的，都会打开关闭，只是多了一个打开关闭，说不定，
		然后我选择的文件，一次操作只在同一个文件夹，
		clear操作必需有的，
	-->
		正常操作是不需要当前活动文档的，
		所以我只在没有选择文件的时候，使用当前文档。
		最好还是不要讲files 变成一个static的吧
		
		单个的文件中，所有的对象都有一个唯一的elementid，连catalog都有的，所以这就可以方便查询出来了。
		所以ViewModel里面的ID，应该为Elementid
		那么我关闭了这个文档，不就ElementId全没了？
		但是没有关系吧？ 我好像可以使用tostring.来进行检索
		
		图标也可以了，下面就是实际的导出动作了。
		
		现在基本是可以导出rfa文件的
		
		那么下面把路径的东西处理一下。
		
		看起来是应该可以了
	
	V3.集成到Panel
	4. clear
-->批量关联参数
	1.我现在已经集成进去了，
	那么我现在测试一下他这玩意吧。
	因为我没有动代码，所以照理来说，不会有问题的。
	
	然而并不是
	目前调试有两个地方有问题，
	都跟选择有关系
	没有做筛选
	1.选择的时候报错，这个时候应该怎么办处理？
	TRY catch
	这没有关系的
	
	2.代码注释了一部分，如果不注释，大概逻辑是什么？
	选择FreeFormElement Form
	两种类型的族实例，然后遍历族实例，
	然后关联族实例的参数。参数名是通过From获取的。
	关联。
	
	那么他现在想改成什么东西？
	关联参数，关联参数，
	截面需要修改吗？
	如果是作为产品，是肯定的，因为这个界面很容易造成误导，
	所以呢？ 
	1.我需要详细问清楚这个用来干嘛的
		两个功能：1.批量为族添加参数（已经可以测试通过，但是添加值没得用）
				  2.关联族参数（在族里面，载入另一个族的时候，最外层族添加了参数，应该对里面的族的参数进行绑定）
					我不太能理解这个操作，再操作一下试试？
					应该是表层族，关联里面的族的参数。
					多操作试试就知道了
					我现在给表层族添加了一个材质的参数
					并且指定了该参数的值为图层（蓝色）
					但是它的实例并没有修改到这个颜色，我必须要将inner族的材质，关联到surface族的族参数，才会有修改。
					
					首先我需要编辑族，然后，再找到inner族的族样式，然后将,innerF的参数，绑定到，surface族的参数。
					
					如果我需要调的函数有哪些
					AssociateElementParameterToFamilyParameter
					将元素参数关联到族参数，参数有：
					
					document是指的编辑当前surface的文档，给当前文档添加一个属性应该是没有问题的吧？
					没有问题，然后添加上去以后，surface就有了
					那么下一步，找到inner族的实例，将他的参数，绑定到刚新建的族参数上，这样就形成了修改surface族实例，同步修改inner的实质内容了。
					
					那么他这个呢？
					代码逻辑是对的，也就是后者（）为刚新建的族，是对的
					前者为输入的族（和后者同名），也就是我新建了一个参数，使得名称都是一样的，
					然后就把他们都绑定起来。
					j是什么？j是过滤出来的族实例，
					
					所以这个设计本身感觉有点问题，
					
那么我现在需要如何去改造呢？

首先我inner族的参数应该是已经固定的对吗，参数名称已经固定，或者我能否为它添加新的参数呢？
如果按照这个设定，也就是我的新的族，需要新添加一个载入族名称相同的参数，
那么我还选个毛线啊，而且这样根本不通用
他通用的是，添加族，然后关联。
关键不搞明白，我无法进行实际的编码

他应该是要：
首先，图纸上面有很多族，都需要添加同一个参数，
关联又是什么鬼呢？
关联必须是内嵌族吗？

指定一个已经有的名称，最内层，然后开始往外，如果没有则新建，那么我应该也不需要附材质什么的鬼
其实就是copy参数啦。
所以改造一下这个框好了。

首先我选择的时候，是最外层的实例，
然后呢，我需要一层一层地找到这个实例，相对最里的一层包含这个参数的。

为什么family和familysymbol没有这个参数？ 因为 这个参数是实例参数，并非类型参数。
建立一个类型参数测试一下。
看来我验证了，
结论：lookup能找到的原因就是因为，我选择的family，只会展示它的静态属性，那么哪一个是实例呢？有的呀

所以呢？
思路是怎么样的？
首先，选择实例，指定参数名称，然后通过查询，找到最里层的族包含的这个参数，如果没有找到呢？ 那么就不存在编辑了呀，那么需要新添加吗？
如何查找呢？ 当然是通过打开文档编辑族，然后，开始重复打开文档编辑族的操作，如果族实例包含了多个族，不存在，不需要新添加

树状展示，最外层是surface
    1.首先是遍历族，和之前一样的。
	V2.树状结构是属于通用的控件，我将它封装起来，
	看起来已经封装好了，
	下一步，将它集成到最新的，然后遍历当前文档？不选择文档，
	组织方式：
	1.还是以文档来吧
	第一层是文档，然后第二层是最外层族，
	暂时不予支持多个文档的互导吧
	
	逻辑一样的吧，无所谓了
	
	现在我应该能展示这个族了，
	下面，
	
	这个是族的，然后如何获取到族的实例参数并展示？
	
	传递的逻辑是怎么样的？
	首先里面有一个参数，但是外部是没有的，
	从内传递到最外面
	
	看来这里是需要用到递归了呀，
	
组织形式：
	X1.文件名称：
		X1.族类型名：
			V1.族实例（如果有重复，进行筛选？好像绑定不一定需要筛选哦，他好像并不能运用到族里面去，试一下 
			结论：innel族有多个族实例，）：
				X1.族的参数（最外层隐藏掉了）
				V1.嵌套族实例
					V1.嵌套族的嵌套族
						V1.嵌套族的嵌套族的实例参数
						
					V2.嵌套族的实例参数1（参数类型）
					V3.嵌套族的实例参数2（参数类型）
					
				X2.实例参数1（参数类型）（最外层隐藏掉了）
				X3.实例参数2（参数类型）（最外层隐藏掉了）
				
				4.类型参数1（暂不考虑）
				5.类型参数2（暂不考虑）
				
				6.
	但是现实看起来好像是得通过实例才能找到参数？
	
	那么下面像这样进行修改
	不是选择文件了，而是选择族实例
	然后再列举出族实例里面的嵌套族实例
	再里面一点就只是单个的Form
	而且也没有族实例了
	所以，我这里遍历到没有族实例了即可。
	
	首先，选择，某一个实例，
	
	参数永远是跟着族走的
	这样一些看起来就符合逻辑了
	
	现在只是组织，还没有到load的时候，现在需要把参数遍历出来

	分析一下
	首先这里有一个ExternalEvent 
	有一个Event 
	ExternalEvent是在启动函数初始化，并绑定了新实例化的event
	
	然后使用exe.raise就可以触发event 
	
	那么我现在想做什么？
	我想要一个回调函数，在event触发完成以后，我想要执行一个函数
	
	那么我需要使用的是回调还是委托？
	委托的意思是，将函数委托给别人去处理 
	我需要把自己执行的函数委托给谁吗？不需要的。所以这里不应该使用到委托
	其实也可以用到：
	我首先定义一个刷新的委托，谁定义？当然是由窗
	调用委托的是谁？
	调用委托这里应该是event
	承载委托实现委托函数的是谁？承载委托的应该是我的窗体
	
	谁去调用委托？ 当然是事件了
	
	选择完 以后将窗体放置在前面foucus一下
	
	运行的时候，因为没有勾选文档，现在排布只是当前文档的
	所以：根据勾选的ElemId来获取族，
	Family
	首先，找到勾选的最里层的参数，最里层会是族吗？
	不会的，但是第二层可能会是族，那么怎么区分呢？
	首先可以通过类型区分，如果勾选的，看看之前是怎么区分的吧，
	
	试一下关联参数是否可以越级关联
	
	而且其实他的关联操作是反向的，也就是里层的关联外层的
	这样修改外层实例的时候，就会把里层的也同步修改。
	
	不能越级关联。
	但是我也不需要越级关联。
	
	先创建参数吧，
	
	传参的问题
	我现在可以一层一层地打开嵌套族
	但是我先无法判断哪些参数是需要传递的
	
	哪些参数是需要传递的？内部勾选的，如果当前父节点是勾选了的，那么肯定有子项是勾选了的？
	我不知道应该如何去设计这个函数，分开?
	因为是个递归，分开看起来不是很现实
	我现在无法有两种传递方式：
	一种是同步的传递，我只找本层的（子项是否有相应的参数） 他们应该有一个ischecked属性，然后判断ischecked是参数类型还是嵌套族，如果是参数类型，那么毫无疑问，现在就需要传递，
	如果是族类型，那么继续遍历嵌套族的参数，然后将它checked参数，传递到上一层族，再传递到，上上层族。
	
	先不要想复杂了，
	先考虑只有两层嵌套的情况
	
	总觉得我从外层遍历，和内层查找并添加有点冲突
	
	我能不否从内层开始？
	
	如果我从内层的tm开始，那么我也无法打开文档，
	
	所以打开文档还是从外层开始打开，
	我能否分开？
	打开文档从外层，但是添加参数从内层一步一步来？
	也就是最外层的，最后添加，我能否使用一个List<>什么的来先记录一下需要添加的参数，然后这个List<>
	
	先后顺序有关系吗？
	没有关系，反正都是我要添加的？
	但是好像又不是这么一回事，因为我外层的参数，内层不需要添加。
	那么我只能这样，我再用一个表示层级的状态值，来表示该参数的添加层级，然后，层级也需要记录一下当前的层级，如果记录参数的层级，大于目前的层级，那么就需要
	
	192.168.
	现在有遇到问题了，
	什么问题？
	嵌套组的实例，最内层实例会在最外层也实例化。
	
	如果我最内层是实例是2个梁
	
	最外层不但包含最内层的2个梁，还包括内层的实例。
	
	所以这个怎么处理？
	
	我现在需要的是，将这种情况隐藏掉，如何隐藏？
	我都是FamilyIns,
	应该没有关系吧？
	
	首先我到底是否可以跨族关联参数？
	
	关联的操作都只是在编辑族的时候才有吧，对啊，所以跨族关联是不存在的。
	
	没事，我已经筛选出来了。
	那么下面测试一下添加族参数和关联参数是否可以。
	
	我不小心把同级的关联的，这是不应当的
	所以我还是需要有一个分级的，如果两个是同级的，那么就不需要关联。
	
	为什么我无法绑定？
	首先，在第一次载入的时候，添加了，参数，但是没有载入族，我分开操作可能就是可以的，
	
	那么，现在我先尝试着先载入，看能不能找到这个参数
	
	没事，我先载入试试，如果实在不行，再想办法和绑定分开
	反正现在添加参数是可以了的。
	
	This parameter cannot be associated.
Parameter name: elementParameter 
现在又出现这个，是奇怪，一会试试 其他类型的参数试试。

	显示无法
	既然都添加上去了，那么只要有同名的，都绑定好了。
	不管多少层。
	怎么绑定？
	遍历最内层，获取到需要绑定到上一层（族）FM内的参数 的参数实例。我反正都有，我可以从外层绑定到里层，也可以从里层绑定到外层不是吗？
	看看他之前是怎么绑定的
	族实例到当前FM的参数
	对的，内层实例，帮到外层FM
	
	1.我应该通过筛选选中后的，族实例，来做绑定处理，而不是所有的都给他绑定上去
	2.当前文档要不要加这个参数呢？也给加上吧，毕竟是个传递的过程
	3.
	有绑定成功的东西了，但是有点奇怪，我这里为什么好像有点问题？
	首先这个testNew看起来已经添加上去了，但是去没有直接展示，没有，展示了的。
	逻辑应该是怎么样的？
	首先，从族1，族2，梁，都应该有梁已经创建好的参数类型testNew 
	第二族2的实例参数绑定了族1的参数，梁的实例参数绑定了族2的参数
	
	我现在问题是，好像没有载入进去，也及是对族2进行的修改，没有载入到族1里面去。
	
	梁的参数是载入进族2的并且也绑定了的
	
	也有可能是我载入的顺序错了，
	也就是，参数添加上了以后，
	我应该是梁载入族2，然后族2载入族1
	
	我看看是这个顺序吗
	载入好像错了，全部载入到活动文档了。
	The document must not be modifiable before calling LoadFamily. Any open transaction must be closed prior the call.
	
	LoadFamily的时候，需要把文档的transaction关闭 
	是指当前的还是 父级的？
	当然是父级的，不然我这里就不会报错了。
	所以我怎么处理？ 怎么关闭父级的？
	我能不能在递归之前就将父级的事务关闭，也就是 
	
	clear
	V可以了，问题真多，还好都解决了。
	
-->族加密解密
	
	现在先默认一些初始化的值，
	图形界面先不管了。
	我如何调用同一个Command，使得
	还是说加密和解密分开，弄成两个不同的dll，
	你看我又commanddata
	
	首先我的两个族在同一个文件里面的，
	当然我也可以放在两个文件里面
	
	族加解密的，下面只需要：
	加两个面板
	遍历出族，然后录入
		这个族是选择文件的，还是说本文档的？
		肯定不是本文档的，不然，到时候一个一个地去打开文档然后加密肯定不行的，所以肯定是选择文件
		
	三个参数
	
	V为什么看起来解密的不需要参数？
	
	反正都可以了，现在先是试试这个pinned属性到底是干嘛用的
	
	首先，我得学会如何创建这玩意，翻一下以前的教材
	OK，我只是在创建标高的时候没有，切换到视图平面而已。
	
	首先判断自适应类型，
	如果不是，就不加水印
	
	报错就用就用不加水印的添加 方式再加密一次
	clear

-->明细表附参数
	1.首先，读取一下excel表，也就是有一个选择excel表的按钮
	2.然后将数据数据组织一下读取到内存里面
		如何组织？
		首先，很明显他好像是一个datatable，但是它会有一个关键字，keyword
		没有关系，我的第一个键，永远是keyword可以吗？
		当然了，本来他也是这么组织的。
		
		所以呢？ 
		
		最后加一个统计，总共修改了多少个。
		
		看起来是可以了，
		那么下面具体测试一下，并且加上一下统计
		
		clear
		
-->生成里程线
	输入X ，输入Y坐标
	然后读取的X-输入X 读取的Y-输入的Y
	界面加Z坐标
	
	生成一个列表来勾选Sheet
	
	每10个为一组
	
	但是起始和结束会重合
	也就是 1到10为第一个组
	10到9位第二个组
	
	优化一下，先读取sheet，然后再根据勾选的获取到sheet的数据，
	这样确实会快很多
	clear

-->合并族

	1.新建一个族文件
		创建文件的模板应该是哪一个？
		让用户选？
		还是默认？问问
		默认为自适应的公制常规模型，
		copy一下好了。
		不要管什么版本的。
		
	2.获取选中的多个族实例
		
	3.获取族，用族生成相应的实例，到新的族文件，Loc取族实例所在的Loc
		1.传递族参数，如果有参数冲突的呢？
		没有关系，重复的就不再添加，只做绑定操作（能不能多个族实例的参数绑定一个外层族参数？）
		
		因为一个族可能包含有多个族样式
		
		那么我应该怎么做？
		
		我又elem的样式吗？有的 
		
	4.删除族实例
	5.使用新的族文件创建实例并添加进原项目。而该族的Loc应该为0,0
	
	-00000000000000000000000000
	   
	在LoadFamily之前不能有事务
	
	在修改的时候，应该添加事务
	
	+		$exception	{"Document.Create can only be used with project documents. Use Document.FamilyCreate in the Family Editor."}	Autodesk.Revit.Exceptions.InvalidOperationException
	clear
	
-->族可见性拆分
	首先 我创建的实例，就是错误的。为什么？
	所以这应该和外层的赋值没有关系，而是我创建的族本来就有问题 
	所以呢？
	
	我现在需要把 原有的族创建好。
	
	现在是什么情况？
	首先，这绝对不是我想要的
	因为他们的形状看起来太奇怪了 
	是由多个参数同名，然后都绑定了外面的一个参数造成的。
	这样可以吗？  我只绑定文字类型的，其他类型的，我在创建族内部实例的时候就赋值。
	
	parmOri[0].AsString()
	parmOri[0]
clear	

-->别忘了给dll加密，在放到服务器端之前。
	那么下面，先看看服务器上面有些什么
	是有一个Panel的
	那么直接将当前的编译目录下的dll加密
	然后发布到服务器，再测试一下特殊文件的下载就好了。
	
	要不要先测试一下？
	大概是不必要，全部加完密再整体测试一下
	
	修改一下label tool 
	并加密 
	目前看来应该都可以了。
	clear

-->接下来：
	给服务器拷贝一下，包括数据库
	
	1.最近登录时间，是否在线（最近登录+30分钟）     登录的时候，多一个记录就好了，模块指的一个工具算一个模块 都记录下来
	2.使用哪个模块（每点击一个模块，发送请求记录）、统计使用情况
	3.库要分开，做一个测试库
	
OK，我现在好像已经有了测试库，现在试着连一下测试库试试？
V把本地的代码上传一下svn吧
看一下新的一个任务怎么处理，需要多大的工作量

	1V翼缘宽92.5
	1翼缘厚15
	1梁高200
	
	1腹板厚16
	1底板厚30
	
	翼缘根部厚 T 的交点到顶的厚度
	变截面高 底板和腹板的交接高
	翼缘水平段长 L_YYA_W 
	(40-16 )/2
	12
	
	悬臂120
	
	这个是T字的，后面的参数再说吧。
	
	下面：翻译一下自己之前的定义，然后将参数应用进去
	有些是已经有的
	
	下面，再进行翻译好了。
	
	TODO:优化显示画布WPF，支持放大缩小，编辑文字。
	
	已经有了代码案例，这看起来有点难，但是也很炫酷，
	我只需要取其中的一部分就好了。
	
	V梁高
	X右顶高
	X右底高
	V变截面高
	OK，上面的完成了，那么下面把其他参数录入到数据库就好了。
	
	数据库加字段，
	其实蛮快，这样，稍微休息一下，把这一系列完成了。
	
	为什么我的前端没有录入数据的动作，因为我使用了反射
	
	遇到了以前的老参数怎么办？
	删除掉？
	实话有些看起来确实是没有什么作用的参数，命名也有很多的问题
	
	先把这个模型修改一下好了。
	
	现在已经添加进去了，再完善一下。
	
	反射真的是个很好用的东西，
	那么现在看一下数据是否都存入进去了。
	要是我再能使用EF，的DB First，那么就牛逼了
	
	VTODO:给登录框添加一个自动Focus和一个回车键登录的功能。
	
	下面处理图片相关的东西。
	其实我已经给了一张画布，
	那么我现在需要的只是，
	1.根据数据放置几个png图片
	2.绘制一些标注
	3.标注梁型库的展示界面 PrjStandardBeamDBControl 应该也需要做一些改动。
	
	4.还是先处理这个放png的问题吧。
		将线的颜色改变一下
		这个后面处理都ok的
		其实绘制也很简单，
		
		有哪些东西
		左500小桩号
		右500大桩号
		标准跨径，最长
		横隔梁间距，个数，
		顶宽和地宽只做标注
		
		绘制的有两个，1个是横隔梁png
		一个是线
		线怎么绘制的？
		放在哪来着？
		在横隔梁的中心
		然后标注的X与这个线在一起。
		
		ok，慢慢来吧，首先，尝试放置一个Png图片上去可以吗
		干嘛要纠结Png图片的事呢，怎么简单怎么来
		
		那就直接绘制上去好了。
		
		：线粗1、然后黑线没有覆盖出来
		: 左右的偏移距离太小了
		: 正方图颜色变绿
		: 
		虚线 上面最后一个值2/3
		下面后面四个值不要
		
		颜色还是没有变绿
		横隔梁的黑色还不错，
		但是宽度需要变成 1/2 -2
		还有细节的东西：也就是点的精准问题
		上面需要减去9 的样子
		下面可以开始绘制标注了，
		而最后，才是值是录入问题
		有哪些标注
		1.横隔梁与横隔梁之间的标注
		2.横隔梁与大小桩之间的标注
		3.总长标注
		4.大小桩号
		5.顶宽底宽
		因为有些是纯粹的，所以我需要加单独文字的那种
		应该是有的，
		所以只需要算一下点就好了
		但是我文字的显示内容可能也需要可变
		一个一个来吧
		
		docket
		
		docker
		文字总是在线的上方的，出现了这种情况，如果我把gap放大，就没事了
		
		1.1.3 可以换成1.36
		2.总长可以下移0.几
		3.大小桩号的x坐标有问题，大小桩号的值错了
		4.为什么没有找到右桩号，
		4.为什么没有找到右桩号，
		5.而且我换算出来的小桩坐标为什么会有问题呢,没有问题，因为我把边加上去了，所以我应该怎么处理？
		如果都要相对的话，就不能使用1246换算，应该再减去两边200的样子
		
		6.
		固定点找得有问题，
			1.根据比例换算有问题
			2.直接找点吧，不要使用换算了
		1.将标注的起点提高的，gap换成短的
		
	5.下面，将所有参数，都换成可变的就行了，
	基本都是一些标记什么的，
	然后再对控件的输入进行触发函数处理。
	
	有哪些东西
		左500小桩号
		右500大桩号
		标准跨径，最长
		横隔梁间距，个数，
		顶宽和地宽只做标注
	  
	V变截面长度 斜线横距
	V梁端长度 
	V大小桩号
	V横隔梁标注文字
	V底宽和顶宽 移出来
	V背景颜色 V以及线条的颜色
	
	方案设计的这个框，是一个listView
	
	先把几个页面绘制了，然后看看怎么构建相应的表以及字段等。
	
	我先需要测试一下吗？
	也可以先把全部绘制完，然后再考虑测试和建模的问题，
	把难点留在后面处理也可以的。
	现在先有思路就行了。
	
	新增了四个页面，是用来定义桥梁信息的
	~一个项目，有多座桥梁
	
	X还是说，每个桥本身就是一个项目？
	不太可能，虽然这个确实是给桥梁使用的，但是桥梁其实是属于项目的。
	~有桥梁的一些信息：桥梁名称、中心偏距、斜交角度....
	~然后也可以通过导入数据文件来生成这些信息
	~如果是点击新增，那么是直接编辑中心桩号这些，
	没事，我先在上面加上一列，只要点击了新增，则添加一列，
	新增完以后，如果不需要，自己再删除好了。
	
	之前做的标准梁型好像是根据桥梁来的？
	或者根据项目来的都ok,
	
	所以我这个路线，桥梁，梁型，没怎么理清楚
	
	而且里面有很多的字典表，
	
	~添加一个“添加桥梁”的右键菜单，然后弹出第一个窗口
	跟路线的形式有点像的，也就是把所有的桥梁也列举到treeview里面。
	那么是对的，桥梁需要单独创建表单来记录桥梁的一些数据
	
	桥梁表：
	~需要整理一下字段、以及字典表等、
	目前我可能只知道字典表的名称以及一项，其他的可以后面补充
	
	方案设计有一些一览表里面的内容，这有是如何出来的呢？
	问问其他窗体是如何出现的，然后重复的字段是否是同一个
	
	选择桥梁右击
	
	之前用的treeview好像有点烂，
	我可以使用最新的treeviewmodel来进行改造一下，当然是可以的，然后又键菜单呢？
	可以改造吗？
	右键菜单跟选择桥梁后的右键菜单 不一样，
	那么需要做区分，看一下我是绑定个哪一个事件，估计得改一下。
	
	把昨天那个菜单处理一下
	但是它好像不可以选择是哪一个
	我在事件里面处理应该可以，反正我都是绑定的，
	看看他的isexpand属性是绑定到哪去了，
	
	他有一个文件服务，
	直接拿来用？
	这样是最快的
	目前无法远程，家里面的电脑，所以无法得到文件服务的源代码
	
	OK，右键菜单的可以了，
	那么下面
	也就是开始完成数据库的建立，字段的录入了。
	看看有没有什么比较方便的方式，可以直接将需要的字段录入进去，
	也就是中间不用二次生成一个模型？
	
	先把字段都建立起来再说吧：
	V1.表：新增 项目桥梁信息表，桥梁一览表已经ok了，
	V2.布跨设计是针对单个桥梁的吗，如果是，那么可以在同一张表上，后面的基本都是针对单个桥的，所以是可以直接加在一起的，那么就是，我右键菜单，还得把模型的唯一标识给添加进去了。
	
	
	B1 封锚1是左（大），2是右（小），S1伸缩缝
	
	一座桥梁，显然后很多跨，
	所以跨，又是一个表，
	
	上部，下部结构，好像又是一张表，
	
	还有每一跨的参数，还有一些参数是一联的，
	所以，先有跨，再有联，联中包含着跨
	一联有n跨
	
	表和字段都建立好了。
	现在怎么说呢？
	
	首先看能不能找到一个比较好的方式，这样不用读取
	动态类不太好，
	没事我反正是生成的veiwModel，也就是我前端需要些什么必要的字段，我就传输哪些，这样来看，仍旧是需要创建相应字段。
	不然EF框架出来干嘛用的，
	那没办法，就创建吧，
	有没有发现，很多属性，你都想用固定的方法去实现，这个是不是p=np的问题？
	
	就算我可以生成一个动态类，也是不太现实的，因为限制更多了
	那么如果直接使用datatable呢？
	
	首先我可以是一个datarow，
	datarow不一定可以和wpf的databinding直接绑定使用，
	如果可以呢？
	这样data有一个接收修改的操作，
	你是看过的
	毕竟他的data，其实也是一个对象，而datarow，也是一个对象，
	所以绑定是肯定能绑定的，
	这样我就不需要在中间创造太多的模型了不是吗？
	好吧，试一下，
	如何测试？
	首先，从服务器读取出一些，桥数据，
	然后绑定到控件，然后，修改控件上的值，然后，
	
	既然我都用了datarow，我干嘛还用一个类来进行包装了，没有必要
	
	我应该是在ViewModel，那么修改的，也是ViewModel，
	可以让他直接修改datarow吗？
	或者说，我中间再做一个viewmodel到datarow的转换可以吗?
	应该是可以的，这样的话，我的viewModel，只需要展示一些必要的字段就好了
	
	现在有文件服务，但是看起来，有点简单，只是因为他用了web service的方式，
	其实我这边应该摒弃那种方式，
	所以呢？ 
	
	自己撸一套文件上传的服务吧，其中有的：
	1.日志记录
	2.可配置的路径
	3.虚拟路径
	4.http 流文件上传下载
	5.转发功能（也就是文件服务，指向另一个文件服务）。
	6.
	
	所有表格都可以直接编辑
	
	先拿来用怎么样？
	还是自己写？
	
	追求效率，那还是拿来用吧。
	
	那么直接先布置一套测试一下好了，
	
	看来测试的也不好布置，只能自己写了。
	
	原来绑定加一个path就好了
	我也可以直接让他修改，
	
	可以看到，这里已经让他修改了，我现在的问题是，点击确定后，如何得到这些修改，并将修改应用到数据库？
	
	1.当然可以根据对比得到，
	2.每一个DataRow都有一个RowState，然后就根据这个状态来同步对数据库进行更新。
	Datatable.getchanges()；
	最后再来一个动态拼接sql语句，这样就可以通用而且在修改字段的时候，不会再出现核对的操作了，美滋滋
	
	那么下面：
	V1.撰写一下文件上传下载的http服务

	因为这个的Controll不是由api生成的，所有没有current 
	
	上传好像已经可以了
	
	那么下面做下载的
	
	下载的其实就直接，获取到一个byte[]数组
	
	响应这里是直接返回的一个string
	
	照理来说，我其实应该在Respond里面，返回字节流，试试可以吗
	为什么耽搁了我很长的时间？
	1.对http协议的理解不深
	2.因为简单的代码调用，
	 Response.ContentType = "application/msword";
	 必须把这个内容类型设置对了，才可以合理地将文件下载下来，
	 我是如何成功的？使用postman，将responce的内容保存为.xlsx 然后打开发现对的。
	 
	那么下面？ 
	将这个函数改造一下吧，让输入端尽量少地处理，
	V 
	//string a = Common.HYBIMHttpServer.UploadFile("1111", @"E:\NealWork\temp\数字咨询中心工作周报_刘浩_2020.08.03~2020.08.07.txt");

            //string ab = HYBIM.Common.HYBIMHttpServer.DownLoadFile("1111", "数字咨询中心工作周报_刘浩_2020.08.03~2020.08.07.txt", @"E:\NealWork\temp\st\数字test.txt");
	OK，现在已经可以对 服务器文件进行上传和下载了，
	下面协助处理一下服务器运行dynamo的问题，
	
	 
	2.将所有的页面数据录入都使用新的方式来进行架构
	
	传递初始guid的问题：
	
	主要是多个线程操作同一个文件的问题
	
	因为dynamo
	
	消息机制 
	
	我这边生产消息，
	你那边消费消息。
	
	1.提供一个获取消息（guid）的接口
		在哪里提供？
		可以放在数据库,
		放在内存里面吗？
		放数据库吧，反正也是读取一次就丢掉，甚至我数据库可以记录很多东西
		
	流程好像有点问题:
	流程是怎么样的？
	1.上传文件，生成一个guid,服务器端接收到该文件，将guid插入到数据库
	2.运行一个后台循环程序，不断查询数据库，（中间需要暂停吗，最好是不要暂停，那么会增大对数据库的查询压力），查询到guid，然后运行dynamo计算程序，（或者我手动开一个？也就是两种运行计算触发：1.上传文件后马上触发（最新），2.针对异常的（未计算）定时查询触发，计算的时候因为必须要查询数据库来获取guid，所以计算有一个状态标识才对，状态只有两种1.新建未计算2.已经计算过了，那么如果我每次都是最新的会出现什么状况？资源抢夺？反正失败的？不它不一定是失败的，但是没有关系，反正我数据库只是用来记录避免错误的计算，客户端如何避免重复的计算是另一个问题，）
	每次计算的guid都会从接口获取，所以这样才会标识，
	
	或者这样设计：
	1.客户端每次有新的文件上传，启动一次“循环程序”，程序查询数据库，然后如果有多条未计算，循环多条，触发“计算程序”，计算程序调用查询guid接口，guid接口返回计算队列第一条guid并标识该条guid的状态为已经计算，计算程序计算获取的guid，并得出一个文件，计算是需要花费时间的，那么客户端呢？一直等待responce（就算服务器可以发送responce，那么我也需要标志计算结束的状态啊，他会调取一个打印日志的接口，这就表明了他计算结束，那么问题就变成了，我如何通过这个接口，来将文件标志为接口，并返还给客户端？） 也就是我在上传的接口里面，1.需要不断检测另一个接口有没有调用？
							  2.我可以定义一个委托吗？来进行接口之间的通信
							  3.或者我直接调用一个公共的存入guid的容器？如果这样，跟循环查询日志有啥区别，
							  如果想要触发，那么肯定还是得使用委托来进行触发。
							  
							  4.可以肯定的是，肯定都有一个等待计算结束的过程，只是这个过程是等待别人来触发，还是自己不断得取索求的问题了，可得这个等呆的过程占用的资源越少越好了，使用委托肯定是最少的，我只需要一直判断一个值就可以了，所以存入公共的guid容器的区别在于，我并不占用太多的资源，不会做过多的计算。
							  5.好，决定了，就用guid容器来试试。
							  6.
	我数据库需要存入哪些信息？
	guid必不可少
	
	现在先不要考虑太多，用最快的方式，而不是用最高端的方式
	
	什么问题？ 
	1.
	2.
		
		
	V2.提供一个打印错误里信息的接口。
		1.guid和错误日志
	3.
	clear
-->那么下面： 进行实际测试
	首先，肯定得需要在本地进行测试了，也就是模拟一下，计算所调用的dll，然后
	使用postman,可以模拟，模拟好了再写代码
	然后本地服务数据库部分改改代码也是可以的，
	
	客户端调用的时候，一个是调用接口上传计算文件的（试试多个文件），DynamoCalculate然后根据获取的信息，来主动获取一下，计算成功的文件，DownLoadFile
	
	服务器端：配置一下三个路径
	配置一下连接时长，看能否支持超过2分钟的计算时长，
	
	

	需要注意的点：我设置了超时时长为2分钟，但是post传输时长是手动配置的，服务器配置、iis配置、调用代码配置....
	不行，我是上传单个文件的，
	那么我分开就好了，
	我先上传文件，然后再调用计算的逻辑，
	而服务端，计算和上传文件分开来好了。
	
	这个思路测试下来，
	流程应该是通了，
	
	那么现在1.布置到服务器，（测试数据库部分）
	V2.撰写接口调用示例，
		要不要给他灵活配置的代码？
		不用了吧，那么他如何获取到这个post的url？
		这不是我应该关心的，但是我可以提示一下。
		所以我这边，直接给一个 c#的完整代码示例即可,
		调用两个函数即可。或者，我直接用
		
		改造一下，用json的方式传输？
		问问最好了,
		
		那还是使用C#写代码示例好了。
		毕竟是通过c#dll调
		如果是给一个dll过去，那未免有点太过于冗余了。
		
		也没有必要配置地址，直接写死地址就好了。	
	3.接口调用示例好了，现在只差集成入真正的exe，然后调用了，然后我客户端调用，又是另一个方式，
	
	下面需要处理的，早上试着把头像处理了吧，
		存数据库还是存物理路径
		
	9B3EB2BE-7CC7-18E9-82D1-C77293FFDA33
	
	现在测试的问题是什么？
	
	在执行运行程序的时候，一直是卡着的，
	我应该用线程试试
	
	现在的问题是，
	每次我启动运行程序则进入了循环等待，
	也没有显示程序在运行，
	试试本地？
	
	我现在遇到了什么问题？
	为什么？ 
	因为地址是写死的，只能在服务器上面，因为只调用了服务器上面的地址，我去。尴尬。
	所以无法本地调试？
	没事，我大不了在服务器上面也试一下
	
	现在是什么问题？
	
	首先我是本地客户端调用了服务器，然后服务器上面有我本地的运行guid 
	第二，我手动运行了dynamo的exe，
	然后运行成功，并消掉了 服务器上面运行的guid
	
	下面我需要做什么？
	我需要调试一下，为什么我的服务，无法启动该运行程序进行计算,
	
	那么单独测试一下，不放在服务器了。
	也就是检查一下自己的代码有没有写错了。
	
	也就是我这边不用开服务？ 
	单独写个启动程序的，只要能启动本地的，就可以了，
	然后调试依旧调用服务器的接口没有关系
	
	出来132文件，证明没有正确执行，但是exe，执行了吗？
	不是，出来132，就证明执行了，
	
	那下面看看，把代码复制到服务器试试，然后路径写死的看看？
	ok,fine,try it 
	exe放在服务器上面是可以的，那么下面是看看是否需要使用开辟线程来处理这个东西了，
	先不开辟试一下，
	
	现在是什么情况？
	我已经开辟了线程，而且在本地调用是可以的？
	
	现在问题是不是:无法直接post函数，然后运行.exe文件
	在本地可以吗？
	在本地是可以的。
	我调用服务器，肯显然他一直在等待，但是唯一的问题是没有启动exe进行计算，那么我需要如何启动exe计算呢？
	如果启动服务器，如果我尝试使用iis启动，那么启动不了，手动在服务器启动，可以正常运行
	在本地，手动可以，主动post，好像也可以的啊。
	事实证明，
	
慧远工程数据
	现在是这样的，微软禁止iis启动， 

	现在调出来问题好像不在这，
	为什么？ 
	因为我试着加了很多的调试语句进入了程序，发现我的exe启动程序被iis启动了，而dynamocli被我的启动程序启动了，而dynamo.dyn被cli被启动了吗？
	启动了，但是到了加载dll这一步好像报错了？
	dynamo.dll如果没有dll是可以运行的，
	我也试着把内层dll放入了服务器根目录的下一级，看看dynamo.dll加载的原理？ 
	昨天出现了什么状况？ 也就是我第一次启动（使用手动的方式，）会加载内层dll，
	然后第二次启动（手动）会报错，dll已经加载。
	
	那么现在可以验证，我的dll到底有没有加载，如何验证？  
	1.iis启动，然后再手动启动，如果手动启动没有报错，那么iis确实没有加载dll，
	
	我的表象是，iispost启动和手动启动是有区别的，他们的区别是什么？ 文件夹权限？
	既然是通过不同的启动方式，肯定一些参数什么的，有些不同，那么我如何得知访问、启动一个文件，有哪些用户类型呢？
		1.尝试获取一下user的权限这些
		2.不要再看了，如果是命令行带入的，动态加载dll没得跑
		3.下面，直接将debug目录，放出来试试，直接放在根目录，这样会有问题吗？
		既然我的.exe启动程序是iis可以启动了，那么为啥没有显示命令行窗口？
		再试试 
		确实没有，难道是因为线程同步的问题？
		但是我的dll确实没有运行，不然我肯定会打印出来东西的不是吗
		现在执行以下客户端试试
		
		没有弹出来是原因是，因为我的isbackgrand=true，而又readline了，
		有点庆幸的是，我的exe的启动 是system,或者admin
		所以终究不是我的启动exe的权限问题，
		那么还是dynamo加载dll的问题，dll没有顺利执行，所以报错，动态加载后我也没有能顺利执行，所有没有退出来，
		而且他也没有一个已经加载程序不再加载的问题，所以导致，直接抛出异常，所以我的程序等待计算是不行的，其实他到可以分开dll，这样可能会好很多。
		
		首先我想正确地使用dynamo.dyn计算，那么我必须要
		
		还记得我的启动文件夹吗？
		当然了，他显示的是在哪？ 在dymCli的根目录，也就是我在dll里面的时候，他的运行根目录是在dll
		这里动态加载的原理将的是，会将dll加载到一个虚拟的空间，成为调用进程的一部分，进程中的所有线程都可以调用（通过地址）
		而动态库所分配是内存是可以供多个进程使用的，
		我现在无法加载dll吗？不是的，不管什么方式，我都可以使用到这个dll，毕竟已经加载了，
		首先取消启动程序的加载dll
		
		现在还原回去，服务器无法返回
		
		
	到最后发现就是
	
	现在问题来了，为什么我运行了计算程序没有返回，而是还在等待状态呢？
	连数据库都显示成功了，那么我就不再内存里面等待好了，
	他有可能发生的是，在服务器上面调用的时候，post进入了排队的状态。
	而本地反而没有排队。
	连手动都排队？ 没有这么狠吧，我只要调用就打印日志试试
	头大，好像真的是在排队，
	原来是修改了.exe的问题，那么我现在还需要测试iis启动程序吗？最后测试一遍吧，反正代码是有的，
	现在确定了，是不行的，iis调用.exe确实中间就有一个环节会出错，
	那么现在怎么处理呢？
	当然是新建一个循环程序了，循环访问接口，然后将服务器暂存的guid获取到，如果有则启动计算程序，
	
	先来一个简单暴力点的好了，
	就一直循环没有关系·	
	
	计算程序被清除掉了，
	19412501-864b-4271-974b-e8e0814d45c6

http://hybim/HYBIMservice/Client/DownLoadFile?virtualPath=c8e14d30-ee98-41b4-a9bf-1a9e0126066e&fileName=Bridge.json
http://hybim/HYBIMservice/Client/DownLoadFile?virtualPath=21c3e812-b0fb-410c-8545-03039ac2c98e&fileName=Bridge.json
http://hybim/HYBIMservice/Client/DownLoadFile?virtualPath=c91e7149-89b8-459e-894f-b35e58064da6&fileName=Bridge.json
	
	现在好像就下载程序有点问题了，当然还有调试程序
	
	自定运行程序，查询和计算没有同步，所以会一直查询。
	
	先试着把 计算的，查询的，和有结果的，分开，
	然后使用流程控制，避免重复查询的问题，
	已经使用了多线程，那么得考虑到，正在查询的过程中，其他post新增进去的情况。
	
	22：43 	23:03
	现在测试一下，同时插入的情况，大部分应该是由于标志照成的，
	我如何处理呢？
	
	首先，我是用的内存来存储，但是我实际获取count的时候，会获取所有 未计算的 
	
	每次实际计算都只获取一条，也就是第一条
	
	也就是我又很多条是没有插入数据库的
	首先上报有问题吗？ 没有问题 ，
	1.insertDate 为什么总是和calcEndTime相等？
	2.把正在计算的状态也补充一下好了。
	3.当然有漏网之鱼了，为什么会有漏网之鱼？ 
		1.因为首先我不是通过直接查询数据库得到的
		2.其次我每次后去count的时候，我有清空result的情况吗？
			没有 
		3.那么是因为我的pre没有加入进去？ 为什么会有空的？
		4.current是做什么的？怎么知道里面暂存的count?
			cur是用来存正在计算的，是吗？ 
			并不是，
			看看有没有重复计算的，如果有， 那么肯定是获取第一个出错了，
			是有的，不应该在其他地方进行插入，我之前插入，是想的是什么？
			不让程序直接退出，
	我现在还出现这种，劫持计算，是哪里出了问题呢？
	查询第一条肯定出了问题，
	正在查询的时候，第二次也给查询了，
	而他们的状态，确实都是null 或者0 
	
	就算从日志来看，最后一条没有计算的原因也还是没有被计算到，那么还是得看看当前计算栈有没有了，
	
	真是奇迹，为什么没有了错误的计算结果？
	
	启动的次数来看好像是正确的，但是应该会有重复计算的吧，
	那么我怎么看重复计算的呢？
	
	计算次数我已经
	
	这样吧，既然计算次数是对的，也就是启动exe计算的计算次数对的，那么证明，还是劫持计算的问题，但是劫持计算后，并没有得出结果，
	所以结果文件也少了一个，
	日志显示计算超时，那么我把时间再放长一点？
	这样我就不会remove对吧？
	
	设置参数为超时好了，
	
	最后一条计算总是会超时，
	为什么？ 
	我启动了计算了吗？启动了的，
	
	看日志看起来加入了一次计算 3fdeb551 
	但是结果计算了两次 3fdeb551 
	肯定是因为第一次加入，第二次就没有加入了
	所以 劫持计算，是因为被第一次计算劫持了，
	第一次计算了两次，
	而后面的就无法再计算了，
	为什么会出现第一个计算会计算两次的情况？
	
	我在启动计算的时候并没有出错，反而是在实际计算的出的错，也是计算中，有两个并行查询到了同一个top，
	所以我在获取top的时候有问题，我有什么办法，让他和控制台获取的一样呢？
	当然可以一样了，也就是我也从内存里面获取，而不是通过数据库查询。
	
	我现在又出现了什么情况？
	我在发现劫持计算的时候，尝试转换，结果又回转回去了，
	
	2020-08-20 14:38:55
	2020-08-20 14:45:04
	2020-08-20 02:45:04
	125条
	2020-08-20 15:04:00:40
	{2020/8/20 15:04:59}
	
	最后一个，是他会出现计算失败的，会一直存在pre内存里面
	会返回超过计算时长
	所以我应该在计算程序再开辟一个进程，来查询计算失败的，
	可以查到吗？当然是可以的， 
	然后对计算失败的重新进行一次计算。

	重启服务器不影响新的计算，但是老的就说不清了
	
	计算程序：现在大概是好了吧，
	
	下面，处理一下wpf的逻辑：
	1.上传数据文件->
		需不需要在窗口录入？ 
		应该有些是需要的，目前看看已经画好的wpf，然后看看具体需要些什么逻辑，
		讲真，有点累，休息一会吧
	2.然后将计算文件上传到服务器上面去
	3.获取计算得出的文件，然后在revit里面将模型绘制出来，
	所以有一个解析json的函数需要撰写，这个是具体逻辑，
	然后根据解析出来的数据，生成revit模型，
	我需要了解细节
	
	现在是什么阶段了？
	简单绘制了几个wpf页面，然后看看具体需要实现的哪些吧，我需要一些detail。
	
	点击布梁，把数据发送到服务器端进行计算，
	
	这个逻辑有点多，
	关于组织数据的
	组织成json数据就可以了，他的这种方式我目前没有解析和组织思路，所以换成json，
	utf-8编码就好了，
	
	首先，检查一下我的数据录入有没有问题
	看看代码就好了，不用花时间调试，
	
	桥梁一览表：
	获取的有（主界面和一览表获取并展示）
	现在把增加，修改的补充上，
	
	我如何插入呢？
	使用反射？
	如何反射？ 
	中间肯定不要其他数据字段，除了一个guid，
	之前反射是因为有了类，才使用反射，现在呢？ 
	我的字段可以通过查询数据获取，
	我可以一股脑地将字段数据，全部传输过来，然后和查询出来的datatable的列进行比较，同名的则将值插入进去，除非需要一些额外的值，
	这可以通过特殊处理来拼接插入的语句，
	如何传入？X用List<string>怎么样？ 
	X也可以吧，
	
	这个页面是一个什么样的操作逻辑？
	假设你是客户，你想怎么操作？点击新增，然后输入值，
	这里一切都是可以修改的，但是不一样的是，我如果最后点击了取消，那么一切的修改都需要作废掉，
	所以我都是先暂存数据，最后再进行一次性操作。
	以前最方便的还是实时更新的，
	
	起始桩号是计算出来的，作为最后的存储。
	其实其他字段存入进去也没有关系的，
	
	
	两种新增方式，1，先输入数据，然后点击新增，
	2.先点击新增，然后输入数据 
	dg的数据，都是由tb出入到datatable，然后datatable再展示给dg的
	
	展示的事件， 
	现在写完了第一个框的逻辑
	然后呢？ 
	先测试一下还是继续第二框的？
	先休息一下吧，
	顺便看看第二个框的，
	
	框的数据完了以后，还需要生成文件、上传服务器、
	然后下载文件，然后根据计算得出的文件，生成模型。
	还有生成模型！！！
	最后还有多种类型的计算，这是后面的了。
	
	3.伪造一点数据，开始测试吧
	
	为什么无法调试？
	V1.可能是因为加密的版本?
	2.
	
	已经出来了，
	下面把数据完善？
	修改和
	
	我已经完成了cmb的初始化，下面就是数据存储的了吧。
	
	测试unite的cmb的selection有没有改成第二个
	
		所以不存在先输入，后新增的模式，只有先新增，后输入
	不然就改了。
	
	删除的忘做了，
	看看怎么做比较好？
	
	V-->测试一下删除的
	然后再完善一下第二个框的东西，
	
	完事后刷新一下
	
	数据：
	1.逐桩坐标表，excel数据 灵昆互通,组织成json文件，上传服务器
	桥梁跨径，一联一联的区别：跨径表达式转成数组，json文件,几个json也行，发一座桥，但是布梁是针对一座桥
	布梁是一座桥的，
	2.
		n联 n跨 n长的跨径
	然后表达式都是 联为最外的可以分开，也可以  
	
	2*(xxxx)联 
	
	2*(xxxx+xxx*2)+(aaa+aaa*3)
	
	所以根据这个表达式，来得出多少联如何得？
	当然是算括号了，括号外面的表达式有多少，如果没有则为1，如果有，则为对应的数值。
	至于括号里面的再说了，
	所以不管它的括号在哪，
	反正写个+1，如果括号外边有*号，那么就
	
	如果没有括号呢？
	没有括号就只有一联咯，
	目前先不算是左还是右，全部算左的，下部的更不用考虑了，
	
	保存页面unite逻辑：
	首先我有n条梁，
	1.我已经有了一个databrdige，是针对谁的？n条梁的，
	然后n条梁在保存后才会有n条联？
	不是在这里生成的，所以没有关系，这里不会修改span
	
	所以，获取一个对应于databradige的条数的list<>
	而这个List，又是放的获取到的n条数据，然后对这个n条数据进行绑定，和保存操作。
	
	前期的架构基本做了，后面应该可以快一点，
	明天处理：1.第三个页面的数据录入，
	2.点击布梁组织成json
	
	3.下午生成模型的问题。
	
	
	
	
	根据布设方式，径向布设，平行布设。
	
	今天将第三个框的数据录入完成，然后呢？
	试着组织一下布梁设计，然后理解一下具体需要哪些数据，需要怎么计算，当然里面的计算还是蛮多的，
	
	但是也还好
	我们现在确实应该有能力去完成一个从数据录入到bim建模，
	一个流程的软件开发，这当然是对公司有益的了。
	那么如果能做出来，（当然能做出来了），那就是创造价值的东西了。第二个，我有点想学一点房建的知识，当然市政的也是不错的，我也想分享一下我研发的软件，如果自认为还不错的话。如果可以先学习房建的吧，
	
	今天可以页面完成吗？可以的，组织数据和上传数据部分呢？
	组织成json格式，并上传到服务器，这样看起来工作进度有点慢了，
	那我今天具体可以处理哪些内容？
	1.页面是肯定的，
	2.组织数据并上传服务器
	3.我有一系列的逻辑问题，需要细化，那么留点时间来理解如何细化也是可以的。
	4.他得出了一个计算结果，当然生成模型的部分我可以留到这个周的后面几天，
	所以今天的目标就是12/3 细化咨询。
	
	至于如何计算桥梁的，这可以放后面
	接下来：
	1.在定义桥梁的时候，通过输入的跨径参数，同步生成unit数据，那么删除的时候，也得删除掉了？更新的时候，也删除，新增了？ 
	虽然这样看起来很麻烦，但是逻辑就是这样子的，没有办法，
	
	根据计算公式生成这个，需要具体询问一下，这是个片段逻辑。
	
	2.将页面中修改的值应用到dt，然后在最后保存数据，
	
	3.在datatable的页面，使用相应的字段进行初始化，
	
	当前操作的cmb的father item
	
	4.为了不耽搁他的进度，先把数据上传到服务器吧，
	这个需要多少时间？
	
	怎么组织？json?
	1.根据桥梁来的，
	一座桥一座桥的形式，
	// 
	可以手动组织吗？
	肯定是可以的了，
	手动拼接一下试试，
	
	层层转换是他可以接受的，因为上次就是这样的，
	
	那我这里继续这样好了，免得还自己写，转换公式。
	
	H:\Revit2019\Revit2019\base\Revit 2019\
	
	这样是可以解析的，但是最好先把字符串转为json对象试试？
	
	路线的数据也需要的，
	这可以转换吗？
	那么我就需要JsonObject?
	
	中心桩号，在哪个路线范围内，
	然后提取出路线范围的数据，
	还是不要把之前的放在数据库吧，数据库只保存一个路径就好了，
	
	明天：创建跨，数据是导入的，解析excel 加入bridge.json
	
	下部界面及数据等
	上部模型要生成，
	
	主梁类型的数据是从标准梁型库中得来。
	添加进bridge.json的联数组节点。
	
	V//:主梁类型，是标准梁型来的，
	//
	下面，找到获取梁型的地方，然后其他地方看怎么初始化比较好，
	别忘了你还有一个页面的数据，先找梁型吧，
	找到了， 
	
	梁边线距设计线距离
	distantBtwnBeamEdgAndDesginLine
	System.Environment.CurrentDirectory
	"E:\\NealWork\\Codes\\Panel\\HYBIM\\HYBIM.Bridge\\bin\\Debug"
	
	现在解析一下数据，然后生成模型，
	
	首先解析json，
	所有的计算结果都是通过json来的，先解析再说吧，
	
	Name "{三维}"
	Title 三维视图: {三维}
	
	{3D}
	三维视图: {3D}
	
	"参照标高"
	天花板投影平面: 参照标高
	
	参照标高
	楼层平面: 参照标高
	clear
	clear
	V-->接下来的任务：仍旧是完成下部的数据？
	1.首先有一些数据的直接通过开始的数据得来的，我需要知道哪些数据和怎么计算
		1.
		2.所以说呢？我现在已经知道了哪些是计算得出的了，
		，虽然不还不知道如何计算，但是我可以先完成数据的录入。
		3.一座桥有很多个下部呢？
			既然有上一个和下一个，肯定是一座桥有很多的下部信息了，看看他这个单独的下部又是怎么生成的，
			只需要计算出一个点的坐标即可，
			传输中文节点有问题吗？应该没有的，
			
		运行这个节点需要哪些数据文件？
		如何组织？
		上一个他是如何组织的？
		
		不用等待下载的东西，我现在先把页面数据的录入完成了吧，数据库，
	
	V2.其次，怎么的都会有一些字段是自己新增的，
	
	3.现在有了dynamo生成节点，然后可以生成对应的族文件，
		那么现在我需要怎么做呢？
		首先，这看起来只要我将数据录入，就可以根据这些数据来生成一个实时的预览模型，中间不使用dynamo的东西
		所以我需要做的是：将dynamo的节点，翻译成c#语言描述的程序，然后通过输入参数，生成一个实时预览的模型，
		最后将数据保存即可，
		现在是什么情况？ 
		1.数据未完全录入数据库；
		2.已经有生成模型的预览效果了，不过是用其他族做的预览效果；
			这里有一个点，我的参入如何应用到族，其实这个是根据dynamo的节点算法就可以得到的了。
		3.看不太懂，这个节点有点多，有些节点不是很懂；
			其实应该也不是很难，因为没有自定义的函数；
			
		4.我不需要生成模型到当前文档。
		clear
V-->还是一件一件地来吧，先把数据录入数据库，

	现在当然是需要测试一下？
	还是先录入数据？
	
	问一下怎么算那个桥墩号？
	跨数+1，中间为墩，前后一为台
	
	那么现在？ 
	1.首先在插入这个跨数的时候，就将数据插入进去，
	2.修改的时候也同步修改，
	3.还需要路线数据，桥墩桩号和桥梁中心桩号和跨径，
		计算方式：
		首先中心桩号有的，
		大部分数据已经从服务器点击布梁的时候，获取到了一个桥梁计算结果，所以照理来说我这边没有必要做太多的重复计算，
		所以我这样设计，我这边就简单地计算出有多少个墩，这个不要路线数据应该也可以计算的吧？
		然后保持墩数准确，其他数据，完全可以等他计算得出后，再填充到墩的数据，
		
		
		所以首先，有多少跨就有多少个+1墩
		验证一下，是对的，有18跨，就有19墩
		那么我这边只是18跨是我给他的，19墩的详细数据他会计算完成后给我，所以，我这里，就这样设计好了。
		
		
	4.设计高程是上部计算完可以得到的值，如果没有， 其实也没有关系，
	
	这样看起来初始化的好像是可以了，
	那么看看 保存的，
	
	V还有编号，
	现在看保存的？
	先试着调试一下吧，
	从修改桩号的表达式开始，
	
	1.ischecked事件也绑定一下,
	
	2.然后做一下处理，什么处理？
	  只允许输入数字的处理，
		两种处理：
		1.使用额外控件
			使用额外的控件应该也是textbox吧，试试？
			
		2.在事件函数里面处理，
	3.保存数据的部分
		首先我的其他数据可以保存吗？
		是可以的，
		那么现在处理的是对于pier和tieCol的保存
		直接删除不太礼貌因为有可能之前没有做修改，
		但是这个好像并不影响？
		
		假设我已经设置了不同的值，是直接在lv上面设置的，
		然后现在直接保存，把以前的删除掉，重新保存，好像也没什么关系，
		
	初始化和保存的dg的做一下，最后再测试一下。
	
	初始化的好像是可以了，
	那么保存的呢？
	
	还差一点
	1.tb修改的值还没有应用到datatable
	，
	2.保存一下dg的值，如果没有打开就不用修改了，
	
	现在好像都进行了保存，那么我测试一下？
	
	1.初始化完将selectindex=0
	2.修改完间距并没有修改值
	3.将宽度调整一下，不让他显示横拉
	4.写反了，
	
	TODO://直径通过限制double类型的textbox控件来写，结果不行，
	其实这个也还好，可以后面改
	TODO://设计高程这几个计算得来的值，后来再处理
	clear
	没事，数据录入的目前看来应该是可以了。
V-->下面处理dynamo节点转成模型的，首先我得看懂这个dynamo节点
	其次，将他的参数与自己创建的参数匹配上，
	
	最后，根据参数修改后，联合展示。
	
	其实看起来也不是很难，而且数据是完全有的
	
	今天就把这个生成了吧，
	
	需要实时更新，视图，也就是我键入什么值，就会更新视图，
	怎如何实现？
	不管怎么实现，先把族文件给做出来？
	
	我是通过打开fdoc来进行展示的，
	
	没事，反正这个fdoc读取到了内存，然后直接使用应该就ok了，
	要新建族实例也好，要设置参数也好，应该都是这个fdoc不是吗，
	至于view,我改了参数view自然就刷新了。
	
	所以现在需要做的仍旧是修改一下这个fdoc的某些参数。
	
	需要封装吗？
	
	没事，现在还无法考虑如何去封装，
	
	点有公英制的转换问题，
	参数有可能有
	
	现在看起来都是正常，但是会抛出多个preview ctrl的错误，
	那么先把之前的注释掉
	
	现在看起来生成模型可以了，
	那么也就是dynamo翻译应该是结束了，
	那么下面需要做的是，在修改完一个值后，马上生成
	
	哪些会触发这个事件？
	tb：如果直接绑定输入肯定是不可以的
		所以也就是就换到了，鼠标
	cmb：修改选项后生成是可以的
	lv的tb：结束输出后是可以的
	
	不要较真了，先这样吧，也就是失去光标和手动的方式，
	
	这样算可以了吧，算实时更新了，
	clear
V-->	下面需要做什么的呢？
	1.初始化的？
	2.错误数据判断的
	3.
	V1.还是添加一个手动刷新视图的，
	V2.下面个也绑定一下
	V3.checkbox也绑定一下。
	
下面就先不要测试了吧，
	实在需要控制的太多，只要保证软件不崩就好了，异常是异常
	
	初始化值的问题：
	在哪里进行初始化比较好？
	1.首先数据是从
	
	Vbug:其实是刷新了的，不过数据，没有更新，
	原来是事件绑定在了editing的时候，而不是绑在edited上
	
	那么下面：
	1.准备一下其他节点
	2.还有一些cmb的选项修改触发的事件
	3.
	
	 view.UnhideElements(new List<ElementId>() { item.Id });1200855
	
	
	{1f88140c-b84a-4c6b-a998-722d1173200f}
	{52b66e42-9b41-4983-b5aa-df90b6cd7ac7}
	
	1200855
	
	Writing of Entities of this Schema is not allowed to the current add-in.
Parameter name: schema
	clear
	V-->或者那个小任务？
	首先打开source文档，将数据读取出来，2.打开其他三个，读取使用key值填充数据，需要填充完成情况、计划时间、实际完成时间。
	每个表的
	clear
	-->客户端问题TODO：
	v保存居中
	v没有显示用户名
	
	V族加密标题头
	V族解密标题头
	
	头像问题
	名称下拉菜单绘制一个框，不然看不清楚
	
	V回车键登录问题
	
    里程族缺少，
	clear
V-->看起来programData文件夹不需要管理员权限，
	所以把所有的大部分需要交互的数据都放在data里面，而不是，program里面
	
	客户端已经用了，管理员身份，
	
	revit不用管理员身份，那么插件可以用吗？
	测试一下？
	加载dll是不需要的，那么也就是只有userdb才需要了，
	所以也就是单独将桥梁的userdb放到data里面去，
	
	application/x-msdownload
	
	现在的发布版本没有桥梁的，
	我在下载安装的时候，应该把下载下来的数据库拷贝过去，然后配置一下数据库连接的字符串，
	
	但是很明显我现在还没有支持桥梁部分的安装，
	我可以在测试版本上面做吗？
	应该是可以的，但是我需要，将客户端这些都弄一个测试的，
	测试版本的内容包括些什么？
	首先，服务/文件的版本，都应该优先于正式的，然后都可以是未进行加密的（其实也不一定）
	
	账户从哪来？
	客户端弄一个isbeta的配置，如果是beta，那么所有的服务都
应该是发布的服务，
	这个研发流程还是需要有的，
	既然一开始没有考虑到测试i版本和发布版本，那么现在，花一点时间去构建可以吗？
	首先它不会花太多的时间，
	虽然我现在研发的任务也很多，待修复项也很多，
	但是现在最着急和重要的，还是先发布一个alpha版本，
	clear
V-->所以，下面的任务：
1.尝试构建客户端和桥梁的alpha版本，
	我在哪些地方做alpha内容？
	V1.我需要在客户端 
		顺便把条件编译符也用上
		
		下载软件将所有文件包括dll都放到C盘data里面，还是只放一些数据文件？
		如果dll放进去，那么没有什么大的问题，运行可以，读取数据可以，我只需要修改一下安装地址即可，
		而且本来他就是一个默认的下载地址，我只需要改这个默认的下载地址即可，
		如果单独放文件：
		1.我不太确定dll运行会不会出问题，目前看来是可以正常运行的
		2.我需要将db单独复制或者直接剪切到其他位置，也需要修改一些如：数据库连接字符串等配置到那个位置，如果用户修改了数据存放的位置，那么我还得，修改一下连接字符串等
		
		比较起来，先修改默认的安装路径还是比较省事的。
		先这样处理吧
		
		客户端好像已经完成了？
		那么下面，
		1.alpha版本的客户端，
			只要是发布到网上的，都应该使用release编译。
			1.我现在可以通过以前的老的客户端下载新的客户端的alpha版本
			2.我需要使用客户端alpha版本下载测试bridge的一系列软件
				现在考虑桥梁测试的
			我如何加载？
			肯定是使用addin了，那么修改一下我的安装版本吧，
			现在本来就alpha的，所以应该没有关系的对吧，
			我现在的common是用的发布的url，有关系吗？
			目前好像只有登录这些功能，短时间是没有关系的，
			那暂时不管吧，也没有涉及到修改服务器数据的地方，
			数据库服务器大部分是对客户端的，现在没有对客户端进行什么修改
			
			调试一下，如果可以顺利加载，
			
			应该是可行的，那么现在将我的版本放到服务器即可
			
			调试的时候，运行的路径和启动revit的路径不一样，如何处理？
			现在应该是可以了，这个common的位置没有关系
		所以现在他可以测试我alpha版本的桥梁了。
		
			
			clear
~-->所有用到dll的路径的项目，都需要修改一下

		2.alpha版本的桥梁插件，HYBIM.Panel 
			
		3.
clear
	
	V2.我需要在iis发布的服务
	
	3.
2.修补Bug，
	V-->V路线这个什么情况？
	V1.需要看看后面是怎么读取逐桩数据的，
		首先将excel表格读取成list<dt>
		然后判断一下，桥梁手填的中心桩号，在路线的起始和结尾的sheet index 
		所以呢？ 
		之前后面十去掉的是什么东西？
		实在不知道
		忘记了，没有关系吧，
		我现在有些什么
		
		首先我要计算出这个中心桩号
		其次我哪里需要用到这个中心桩号？
		
		桥梁填写的中心桩号，需要在路线中心桩号之间，
		所以我只需要按照实际的读取即可，但是我又特别想知道之前不满10的数据读取法到底是在哪个模块，
		这可能是在生成路线族实例？
		damn
		果然想不出来了休息冷静一下就可以回忆起来了
		最后未满10的route就去掉了。
		
		这里呢？ 这里不影响吧
		然后中心桩号呢？即使并不实际存在这个桩？
		我既然能读取第1条和最后一条（10/11）
		那么如果我计算得出的是11/2 5.5 我中心桩号取5这根应该也是可以的吧，这里是一个桩吗？
		是的，确实是一个，只要转成int就好了
		我需要遍历读取的dt吗？
		为什么要遍历？以及为什么害怕遍历，真的会有很长的计算时间吗？
		算法是可以优化的，我这样吧，（int 0+int length-1）/2 
		mid，然后直接用，而不是实际的距离
		实际证明也是对的如果等于52.5也取52
		
		换成什么显示？
		datagrid可以吗？
		
		V把添加路线删除路线放在一起好了，
		
		我现在是什么问题？
		V1.首先我无法绑定那些东西，
			怎么说
			可以绑定，只是需要初始化一个值而已
		2.
clear
	V-->V2.解析excel，还得修改一下展示的页面，其实应该弹出多个窗口也是可以的，但是不太好，看看怎么设计页面吧
	3.点击布梁报错，
	怎么办？
	我先得试着还原一下环境，报错为：number.parse有问题，
	
	首先我预测一下他报错的原因
	我测试了服务器安装版本，
	可以布置，
	那么试试本地文件？
	也不是本地文件的问题，
	那就是数据库的问题了？
	程序文件肯定是对的，
	现在测试路线文件路径也对，
	
	数据是手动再添加的，那么我这里还原一下就好了，
	果然是数据的问题，bug！
	
	看来计算程序，也需要配置为测试环境？使用条件编译符弄成debug?
	或者第二种，也就是使用测试的本地版本，但是使用正式的服务和正式的数据库？
	这样还有区分吗?
	测试环境就客户端了，那么还叫测试吗？本地debug不就好了？这样做好像，不太好，所以测试的还需要使用测试的url
	
	所以现在需要做的：
	1.测试url的启动计算程序
	2.dll也需要换成测试url
	3.先把本地配置一下，没有关系， 
	因为这样做是合理的
	
	现在差的就是计算程序了是吗？
	但是为什么我这边没有启动计算呢？
	本地调试一下
	
	也就是我这里其实是没有插入每一个跨的
	插入的实现了，
	那么下面就是查询展示到面板了，跨径也进去了
	那么下面，查询和展示了
	url是对的，
	
	现在测试服务器节点计算的可以了，
	测试一下随便导入一份路线数据
	报错catch掉了，
	clear
	早上再做一些处理多段梁的东西，
	(CDM)-->之前有提供过Group的函数和
	现在已经有了代码片段，
	获取了group的所有eneity，
	之类只有一个的判断，
	没有关系 
	如果有很多呢？
	程序的起始是，userpick
	
	他这里用了很多的，
	现在怎么处理？
	首先我现在得是一系列的beamEntity
	obj{,beamentity}
	
	用公式，就用公式吧，
	不要用公式
	
	下面测试联动 

	CollectionContainer
	我现在的问题是什么？
	现在我ListView下面的Cmb如果选项是静态的，我是可以通过绑定来实现实际的选择
	但是现在我的问题是我的ListView下面的Cmb的选项是后台动态生成的，
	问题是：我现在如何将动态生成的选项，绑定到listview下面的cmb上。
	
	首先，我可以通过查询控件的方式去找到这一个combox吗？
	我最多能达到这个GridViewColumn
	
	我现在想做的，其实是，绑定两个源，一个是selectindex,一个是items 
	
	我的Unit也没有做保存的，shit
	
	首先，我绑定是确定绑定的，
	
	我修改后也有值，只是我目前没有做保存unit的
	
	好像是通了，damn
	
	写一个cdm识别墙的算法，
	
	可以先试着找到中心点, 
	
	clear
		 
	https://hybim/svn/HYBIM/HYBIMForRevit
	
	V如何通过路径保存和本地计算文件和读取计文件，
	V首先，这个计算应该是属于一座桥的布梁数据

V-->通过给的道路点文件输出，做一下校验文件的功能。
	根据桥梁起始桩号-50米，终止桩号+50米进行截取 
	截取:
	1.道路点文件输出excel数据组织成json，sheet数据截取，与sheet标注横断面
	2.路线也截取一下
	
	上部数据需要跑通，因为这个月需要完成bug的修复以及
	
	桩号值全部转成double类型，
	
clear
	V-->明天是否需要加班？
	1.明天加班的目的：
		1.走通数据交互部分，这部分的工作量怎么样？其实并不是很多对吧？
			工作量分析：
			1.首先需要新加一些上传的文件
			2.有一个新的页面
			3.数据校验，以及数据提取分割相关的逻辑
			4.下载文件生成桥梁是可以做到的，需要对数据库进行一部分的修改
			5.
	2.在月底完成对桥梁bug的修复，他们需要alpha版本，功能完成差不多了吗？
		可能还会有几个点，这个月还剩13个工作日
		如果有2个新功能，可能需要6天，还剩7个工作日来完成21+个待修复项
		感觉也还好
	3.CDM的目前看起来不是很着急，而且预期的是使用少量的加班时间来处理相关的问题。
	4.冯这边他会过来加班，因为需要完成一些计算的问题，如果需要我配合，是可以的，但是希望不是没事来加个班这样的，如果是这样意味是不一样的。
	5.所以我会先确立加班需要完成的工作量，然后考虑腾出一些时间来完成，当然我不会过来，这没必要，我可以远程。
	计算出的数据是什么的？  
	布梁的，梁族的单位是什么？是mm 
	这与梁族的单位没有关系，
	但是我设置了m 
	高度和目标高度应该都是对的吧，
	这个有三跨那么
	如果变成4跨呢？
	
	json存入的数据是安装m为单位计算的，
	
	结果还是一个公制转英制的问题。
	clear
	
V-->设置默认值的可以通过修改数据库insert语句实现，
	，应该是可以的
clear
V-->:路线数据读取的时候，如果是sheet
	    

3.继续新的页面开发
	E:\NealWork\Codes\HYBIMCommon\HYBIM.Common\HYBIM.Common\bin\Debug\Ookii.Dialogs.Wpf.dl
clear
N-->需要新增两个页面来录入还有两个table的数据
	clear 
	ok，现在一个一个得来修复吧
	当然同往常一样从简单的开始了，
	
V--> 布跨设计是以桥梁为单位，
	那么现在先将该桥梁包含多少的标准梁型 使用index-
	
	先把梁型编号查询出来，
	因为是用的index，是从哪来的？
	应该是所有的标准梁，
	所以行号应该是和标准梁来的，
	而标准梁是根据什么来的？
	根据项目来的，
	clear
	
insideDin有左幅和右幅的区分

V-->今天的主要任务是读取，json生成相应的几个类型的族实例，
本周还需要完成：
	1.数据录入窗口
	2.
	
	PavingDatas
	铺装：生成所需点数：上30、下30
	防撞栏：里30外30
	每一梁跨都有一个组湿接缝数据，4个为1组， 湿接缝：两个点，最大点和最小点？
	
	VT梁
	V湿接缝
	V防撞栏
	
	V联的数组
	V桩号 
clear

-->数据录入面板
有两个：
	1.BeamSpacingData，面板大致绘制好了，
		现在需要做新增的吗？
		需要创建表吗？
		因为是标准库，所以是需要创建表的
			创建表：
				1.看一下excel，
				目前绘制的是也是横截面的，但是另一个截取的，名称没有关系了。
				还需要做一个差不多的横截面的，
				他们都可以通过excel导入，
				
	道路点文件是根据项目来的？
	一个项目一个？
	道路点应该是一个项目一个，
		所以道路点的，应该是解析一次后，把解析后的文件放在，项目guid的文件夹下面，
		目前测试的是第二个项目的第一段桥梁，所以并不冲突
		未来设计也不会冲突
		
	而标准横隔面应该也是一个项目一个，
	需要展示吗？
	从哪里来？
	面板打开的按钮放哪？
	
	配置伸缩缝在桥梁
	
	桥梁数据生成后，都自动生成了
	附属结构->
			防撞栏、第几联->
					伸缩缝->桩号表示(联号)
			铺装、
	
	联和伸缩缝是同级的吗？
	联是可以
	这里思路不是很清晰，后面再具体分析一下，
	展示的东西不要紧，重要的是数据录入，
	
	CrossSection跟路线一样	
	也是根据项目来的，一个项目有多段数据	
	Beamspacing根据项目来的，
	
	右键桥梁，弹出菜单，配置伸缩缝 
	
	工程设置为项目级，
	右键菜单最外面一级，

	先绘制面板吧，没有关系
	
	2.工程设置的全局面板，是跟着项目还是桥梁来着？
	项目
	251 
	121	243
	122
	
	365
	357
	178
	179
	数据截取，如果没有截取，则不向服务器发送计算数据
	
	页面基本绘制完成，
	数据库也建立完成，
	下面完成页面到数据库的互通，
	早一点将文件组织一下
	有多少组织？ 
	他比较着急需要，湿接缝的数据组织，
	而我这边可以先处理的是 CrossSection的组织和BeamSpacing这两份jsonw文件的组织，
	
	现在离月底还有12个工作日，
	15个未修复项
	最近的2个窗口的交互和3个数据文件的组织。
	这些需要2~3个工作日，完全可以处理好，
	
	现在继续数据录入的东西，BeamSpacing 的组织是从页面来的，
	那么先完成这个好了，
	
	x+y=z 
	是代表顺逆
	y代表90/-90
	z代表正和负Z
	
	现在继续数据录入的部分
	
	这个是以联为单位，
	那么应该需要自己写了，
	我有联的数据结构吗
	有了，那么这里只需要加几个相应的字段就好了吧
	联的墩台其实应该是在跨的墩台中的几个
	所以字段应该加在墩台上面，
	然后再用一个字段来指示他是否是属于联的墩台，
	一个墩，应该有两个联
	所以还需要一个字段来指示，它是否第一个，然后其他的全部为最后一个
	也就是第一联，有前台又有后墩，其他的只有后墩或者后台
	所以，放在墩台里面是可以的，
	也就是tbbridgelowerpart表里面
	但是这个表当时没有考虑到和联号关联，
	那么现在，进行关联一下，没有关系，
	然后第一个联会多关联一个起始台
	
	好像也不太好，那么就是最后一个联会多关联一个台，其他的都关联前面的，
	不要纠结，都一样的。
	代码里面最后是新增的吗是的
	那么关联一下好了
	
	midUniteTypeNum
	sideUniteTypeNum
	stackNumName
	expJointTypeNum
	
	现在新的两个页面，现在试着
	测试一下，还是继续完成还有一个页面的数据录入？
	完成吧，趁思路比较清晰。
	
	V给标准横断面加一条序号，
	V找一下之前添加index的代码
	
	然后就是测试
	1.测试数据有没有正确录入，
	2.测试页面的交互如何
	clear
	-->今天的任务：
	V1.先完成测试
		测试一下由datarow生成的table会有自增主键吗
		VcrossSection 页面字段未绑定
		
		如果不存在项目文件路径，创建目录
		
		答案不会的，为什么？ 
		因为他已经有了的，
		所以应该重新
		V赋一遍
		V还有其他的view也需要改绑定
		V重新打开有数据的，
		V测试一下新增和删除
		V放最后，然后还可以把滚轮的滚到最后
		
		V1.添加的时候忘了把，类型加上，
		
		V2.删除逻辑未完成
		
		V测试一下，全局设置页面 
			1.column调短一些。  
			数据录入好像是可以了
			交互性也还过得去
			
		V最后再测试一下墩台配置页面
			
			1.把伸缩缝的cbm宽度调小一下，最好文字居中，
			2.宽度使用tb，可以键入值，最后试着保存下，看能否成功，
				cbm的保存是成功的
				col宽-3
				cmb 
			tb也是保存成功的
		新增的可以把selectindex 
		
		三个页面测试完成，最后就只剩下展示的了
		试着处理一下展示的
		
	V2.再完成数据截取，
		V根据中心桩号、起始桩号、终止桩号，
		V起始桩号-100 终止桩号+100
		V路线比桥长200m，
		V如果不满100，就全部纳入
		
		V起始（终止）桩号一定得在路线数据里面。
		
		~还有边梁，横断数据（CrossSection）逻辑和路线一样

		basicLocX这个是干嘛的？
		桥梁的起始基点？
		不，现在来看这个录入基点是道路数据点的起始点，只是道路片段的起始点而已，肯定得理解他的意义重新，取值。
		
		现在需要做的仍旧是截取路线数据的，
		这个功能跟下拉的那个需求有点关系，看看
		桥梁一览表里面，自动匹配，如果有多个就下拉，选择路线。
		所以这个时候，基点应该也是根据路线改变的，而我这里截取也应该是根据路线来的吧？
		为什么之前会有
		判断路线应该再多加一个判断，也就是算出桥梁的起始桩号和终止桩号，而路线的数据，必需在这一个范围里面。
		我现在判断的只是中心桩号在这个里面，
		
		思路理一下：
		数据是单独导入的，桥梁一览表是后面修改的，
		计算一下得出下拉的路线数据，如果不在范围怎么办？
		那么就是路线数据有问题，
		    每一跨的数据并不代表得了桥梁的实际长度，因为还有伸缩缝这些东西，
			但是如果在范围
		那么现在我先不考虑这么详细？
		
		V复制到本地，不应该很快吗
		
		下面呢？ 会选择多条数据信息？
		在哪里的
	clear
	3.下部结构、还有其他的一些默认值
	4.下拉选择路线数据
	
	在新建标准梁后，选择多个标准族，
	后台打开族文件，修改族的默认参数，
	然后保存族文件，以用户命名
	保存文件夹根据项目新建。
	
	-->有顺时针和逆时针两种：
顺时针时，90度为Z，-90度为反Z
逆时针时，-90度为Z，90度为反Z

我现在不知道是顺时针还是逆时针，我可以知道是90度还是负90度，我可以通过逻辑运算，判断结果是Z还是反Z吗

不行，因为我这里没有事实，我得到的结果也是可变的，所以无法求解。
clear
	
	V-->道路组提供两份数据：路线、横断面数据(桥面宽度数据)
	然后对比横断面数据的桥宽数据，然后对比 beamspacingdata 的桥宽，+-100范围路线的最大桥宽和最小桥宽，然后比对，beamspacingdata 的桥宽，然后提取出，属于其中的桥宽范围内的都提取出来。
	
	 伸缩缝，配置到，
	 是同一个值，
	 取哪个都可以，然后只给选择后的伸缩缝，
	 当然是用后面的字段了，
	 既然这样，
	 V1.配置伸缩缝页面需要关联前面的宽度值
	 V2.现在需要把配置的伸缩缝组织进桥梁文件给他，
		伸缩缝现在只有一个data
		现在把名称组织进去好了，
		如何组织？ 
		首先桥梁table里面添加一个个lowpart
		传输，lowpart有哪些？
		1.tbbridgelowerpart
		2.tblowerpartmidbeam
		3.tblowerpartpier
		可以先这样，但是组织的时候，需要的是一个数组（两个数组，中间的墩没有的，设置为0就好了）
		考虑到和全局设置是联动的，
		我这里直接存序列会有什么问题？
		如果不考虑删除，那么我这边肯定是全部对应的，
		但是删除后，肯定这边得重新指派所属类型，是这样吗？ 
		这样行不行？ 如果超出了索引，我这边就变成第一个？ 
		如果全删掉了，那么
		或者直接校验失败，失败提示：数据校验失败：工程设置修改伸缩缝后，未重新配置伸缩缝，导致数据不对应
		变成第一个也不靠谱，直接为0，
		然后如果直接为0，肯定也报错的，
		所以还是直接改好了？ 
		也就是我的配置，永远跟着工程设置里面的走的，如果修改了值，那么同步修改工程设置，其他关联的也自然会修改
		如果前面删除了，那么后面自动变为0，到时候再做一个为0的校验。
		我在代码里面完成好了，
		
	下面先把数据截取的完成了吧，
	
	选择梁型的时候添加一个 现浇
	需要加在数据库里面吗？
	不需要吧，加在最后？
	这样，在viewModel的时候加在第一个，然后在送字典表的时候也加上，
	
	BeamSpacingData.json数据的截取，
	首先判断有没有小箱梁，
	我反正都存哪了？
	
	我不应该生成这个文件，而是在布梁的时候生成，
	
	根据梁型？
	梁型是根据从1来的，T梁为1，矮T为2小箱为3，空心板为4
	每一个标准梁型有一种类型，
	然后一个种类型对应有一段数据，
	根据梁长来的？
	添加路线边线
	路线边线需要数据库吗？
	 需要字段来存入excel文件所在文件夹位置，
	 一个项目会有多条路线吗？
	 会的，所以需要单独一个表对吧，是的

	V2.跟伸缩缝有关的有勾选一下，
		跟联有关的跨的梁需要勾选
		，现在可以区分出来吗？
		在数据里面，
		通过数据无法生成，
	1.
	V参数名上铺装，下铺装分开
	V传输过去，
	V 默认是10 单位毫米
		4
	V都有默认值，
	VQMF是默认的，
	V已经默认添加了，那么后面的值呢？如果是的时候赋值2？
	V因为我本身是没有的，所以从哪读取呢？
	V插入墩的时候，同字段怎么办？同字段参考全局设置，非同字段=同字段/2
	V默认值已好

	PavingTickness
	V数组，0是上1是下
		项目全局参数放哪去？
		目前看来直接跟项目同级即可，
	clear
	
	常规的设置都需要，
	
	V-->V3.stakeNum OutSideEdge InSideEdge edgeWidth i Cross数据文件字段改为
	V4.伸缩缝首尾参数获取并赋值，
	先这样赋值吧，S1和s2的值起始没有这么简单，中间还有封锚端的一些值
		就先假定他已经计算好了，我这里只需要赋值就好了
	V5.创建伸缩缝
	V6.昨日未完成的数据截取
	
	
	V9.先把 PavingTickness 和distBtwnBeamEdgDesignLine
	
	梁的伸缩缝w1+w  =  伸缩缝的预留A /B （AB由伸缩缝的位置决定，那么一片梁将产生一个数值）然后这个数值，是A还是B的？
	，
	下面，切割一下路线的数据？
	还是继续完成参数的赋值？
	
	我还是做一下，
	
	V10.防撞栏默认伸缩缝宽度AB 0.04
	V11.0.4400 铺装预留AB（）  铺装P 0.425（录入，读取防撞栏宽度）
	V12.
	
	BeamSpan有6个？
	2x30x(3-1)?也就是去除了一联的数据
	那么我这边显然无法通过这个判断了，里面的NUmbne ?
	有的 123 789，我可以根据这个来进行判断，
	N 
	创建的时候，是根据顺序来的，
	而我分割为联的时候呢？其实也是根据unite来分割，
	怎么分割？ 我需要一个group来指示一联有多个
	从铺装可以得到，因为铺装是通过联来的，
	总共有6 
	铺装有2 
	6/2? 这样可以吗？ 
	应该是可以的吧，
	
	123789
	%
	3
	120 120 120 
	 铺装 防撞栏 伸缩缝 
	 V12.梁开始结尾，赋参有问题
		
	V13.悬臂赋参，内外相反，还是左右相反
	这有时候是数据反了，起始梁和终止梁的Inner和outer反了
	V16.还有一个是数据截取
	clear
	
	11.新建标准梁型，

	~14.  梁宽0.800  生成梁型
		这个在后面处理，通过根据不同的生成梁型，修改族参数来创建新的模板族，
	
	V15.今天的主要是处理其他的构件的，
	
	
	V17.对齐：平局值是5片梁的长度的，（每一跨一个）， /       7.查找一下未能成功加载族的原因
	
	梁的SSF2_2 0.04 湿接缝，从哪里得到?	伸缩缝的宽度，有顺桥向和逆桥梁向，值可以通过配置伸缩缝页面获取到，
	然后方向如何判断？SSF2_L 都是逆桥向吗？
		跟打钩的判断一样的，
	因为起始和终止也是这样的，那么SSF2_L也是一样的方向，
	这个需要他给我什么？
	伸缩缝的宽度，需要他给我吗？

	V-->现在先算一下这个比例值是多少，
	这个比例值需要填进
	每一片梁的，终止端伸缩缝和起始段伸缩缝
	还有中横梁123 
	我有的参数：
	
	1.离中心线距离500，大小桩号侧标准梁型页面
		6000，横隔梁间距 
		
	2.首夹角和尾夹角，在布梁页面，默认90那个
	3.2.25是什么？好像是某个计算出来的值？
	赋参是在生成模型的时候，
	clear
	他已经把比例给我了
	V-->
	~8.tempSpanDataFileSavePath删除，后面处理
	1.防撞栏宽度，这个目前需要参数来获取
		铺装里面有防撞栏宽度：P、伸缩缝里面有防撞栏宽度
		目前是写死的的0.425
	V2.墩顶现浇赋参：小大桩号侧、内外翼缘、....所有参数
	V3.纵向湿接缝0.2的横隔梁底、顶宽、高度
		
	V2.赋湿接缝的值（SL1 SL2），伸缩缝w1  宽度+1 -1  防撞栏宽度 还有一个顺桥侧 
		防撞栏有两个参数
		伸缩缝宽度A 伸缩缝宽度B
		湿接缝有两个参数，SL1SL2
		
		V标准梁的SL1（2）没有伸缩缝时和湿接缝一样，有伸缩缝，湿接缝的SL1+w1
		Vw1每联是一样的，
		V梁的S1已经有了，
		V湿接缝的S1，
		V伸缩缝w1
		
	V3.赋伸缩缝值
	Va是内侧b是外侧
	
	V1.湿接缝多加了一个w1
		
	VV2.防撞栏多了
	V3.墩顶现浇
	防撞栏、
	伸缩缝。
	V铺装A和B是错的
		铺装是因为分了上铺装和下铺装，
		而上下是用的同一个
	防撞栏也是这样
	
	伸缩缝的也可以了，
	下面看看湿接缝的
	
	V4.现浇点数据需重新获取
	
	V5.T梁，赋参赋左边把左板去掉，赋右边把右板去掉
	V6.桥梁封锚厚度改成0.35
	V7.伸缩缝的赋参 W1混泥土宽度
	
	然后看一下之前有哪些地方是需要修补的，
	
	这个需要怎么处理呢？
	V1.每一个座桥有一种类型的桥墩，然后填写了一份数据，
		准确来说，一座桥有不同类型的桥墩，
		所以保存文件的时候，需要单独保存，
		而前面提供的，所以单独保存一份好了，保存的名称，如何去找到？
		当然是根据该桥墩类型的 固定名称+guid 来找了，
		位置当然是放在项目数据文件夹下面了，
		
	这样，先试着把族文件单独保存一份吧，
		页面只是为了保存不同的族文件，而后面才是实际生成的地方，
		而生成的地方，只需要一些点就够了，
		我这个是从哪里来的？
		文件其实是从原文件来的，
		而我现在是需要重新保存一个位置，
		ViewDoc，我应该另存为，
		加载的时候，永远初始化的是模板文件的，
		而保存永远都是保存到项目文件目录
		然后生成的时候再项目文件目录+\\当前墩数据的guid+文件名即可。
		
		这看起来要保存5份了？
		生成的时候如何生成？
		台不一样，墩的不一样，
		
		我在什么时候进行保存？
		或者？ 
		
		今天不一定能放出来的样子
		为什么？  创建模型放上去是很简单的，
		但是问题不一样的是，中间的处理有点繁琐，
		
		V看起来行不通的样子，行得通的
		
		是
		放置实例，然后，
		三个值是从json读取，其他为面板录入，
		全局设置，垫石、铺装厚度
		梁的高度，每一联，
		
		先将设计高程当成H1来用，
		没事，可以先思考好如何处理和架构，
		疏通逻辑，后面再进行实际的编码。、
		
	2.现在的逻辑是这样的：
	V1.我在设置下部的时候，可以获取到一些计算得来的json数据（H1，设计高程）
		1.设计高程从计算得来，如果用户在设置下部的时候进行修改了，那么根据重新设置的高  程，来修改相应的族实例放置坐标Z（比较高程的差值，Z+=差值）
		2.这个地方主动获取还是直接计算完成后马上修改进数据库比较好？
		3.我会存在已经完成计算，但是模型没有建立或者设置的情况吗？有的 
		
		4.放在后面会晚吗？ 也就是我没有设置模型就开始生成模型？
		5.这个顺序不应该反的，先设置模型再生成模型是必须的。
		6.所以分开设置的好处在于，我可以更加独立地完成计算结果和数据库数据的交互。
		7.so，分开设置。
		这里会涉及到用户修改的问题，如果分开重新设置，那么我得修改这个json文件，如果计算完就直接布置，那么我已经将设置修改了，那么用户在使用的时候，不需要再次读取对吧，如果数据库有的，肯定先以数据库的为准，如果数据库没有的，那么就以json为准。
		
		目前调试一直未计算成功，所以每次修改json都需要手动同步一下数据库，这样不太好，
		所以还是以json的为准吧，这边的可以修改json，这样做数据校验的也好校验
		clear
	V-->V2.会创建一个视图，然后将视图族文件暂存到本地，如果最后点击保存按钮，则替换掉
		1.我先保存一个temp的？ 
		  如果最后点击了保存，那么我将原有的删除，然后将所有的temp都改为
		  正式的，
		  ok,fine,我可以在切换页面的时候进行保存？这样的话永要保存当前的，
		  或者在输入参数就保存一次？
		  不这样保存次数太多了。
		  所以在切换页面的时候和点击保存按钮的时候，做一下处理。
		 
		  有两个地方进行了初始化操作，
		  刚开始的时候，以及，选项发生变化的时候，
		2.我需要先设置一些默认参数，上次有这个参数的图的吧？后面肯定需要改，但是没有关	系，只要可以先让他生成出来一些东西就好了。
		clear
	V-->	V3.点击生成模型按钮，根据保存的族文件和json获取的xyz参数，再根据数据库查询出来的桥墩datatable的数据，大概率不需要这个数据，因为这个数据已经应用到了族文件里面。
	唯一需要的只是一个高程数据。
	然后先将中间三个桥墩的模型放置出来。旋转一个x方向的角度。
		1.
	
	V4.测试一下保存json的是否有问题
				保存的是string类型，不影响
	X5.还有一些默认值的，这个我如果赶时间我还是需要帮助的，因为我不知道模型怎么样的，学习阅读图纸也需要一些时间。
	V6.我现在遇到了一个问题，高程点，json计算给了我一个，然后这个在初始化的时候给了面板，然后用户可能修改了，这样吧，数据库存储修改后差值，+n还是-n 
	没有修改就为0 
	现在有几个值？
		两个，一个Json里面的一个用户设置的
	我想怎么存储？
		在面板展示Json里面和用户设置的，
		数据库实际保存差值，这样我在生成的时候，可以直接使用这个差值，同过获取json和这个差值，将模型抬高？或降低？ 
		另外加个字段怎么样？ 我第一次初始化到底是存json还是用户之前保存的？
		
		如果想对，我存哪个无所谓，如果不等，那我只能初始化为Json里面的，
		也就是我的保存还是有意义的，
	我现在需要做的是，多存一个数值，也就是Json和用户键入后的差值。
	在哪里保存？能在Json里面直接保存吗？
	应该是可以的，
		
	我想展示多少？
	现在调试一下？
	

	
	V8.米单位都只保留小数点后三位 厘米就两位
	  
	V9.保存rfa路径有问题，将\\分开 
	横坡读取，json读取
	直径默认读取全局配置
	
	墩柱选择圆形不予输入宽度
	柱系梁宽、高 参考全局
	
	接下来：
	V1.先完成数据初始化的，
		反正台的没有出来，
		页面也没有，那么都先当做墩来处理吧
	V2.重新设置一下联
	我需要它的计算数据吗？
	不需要的，它的计算数据，只和有多少墩台个数有关系，其他的没有，
	
	我现在模型生成出来有问题，毫无疑问，这肯定跟输入的参数有关系，
	我感觉应该是单位的问题，
	首先我这里用的什么？ 米，
	那么我转成厘米试试？
	所有的都转成厘米
	所以面板上的参数都x100 
	
	上次使用同样的代码生成出来是为什么？
	因为用的厘米，而这次无法生成出来为什么？
	因为用的米，那么将所有的参数，在后台x100不就好了？ 
	并不是，而是把其中的一部分x100 
	所以如果修改代码，就无法得到找到正确的值，
	我现在需要怎么做？
	首先， 将修改的部分还原回去，试着通过修改参数来进行模型生成，
	然后再对比可生成模型的参数和 默认的参数做比对，看看如何进行单位转换，
	
	现在我的问题是不知道默认的参数是多少，
	那么报错太多，那么一个一个来生成试试，
	clear
	
	7.给马少查一下不能登录的原因
	10.盖中距来自 全局设置  用户可以改吗？
	
标准梁 湿接缝 铺装 伸缩缝 现浇  防撞栏 矩形盖梁 墩柱 地系梁 中系梁 桩 下部
	V-->报错后视图无法再次使用，
	必须关闭重来，
	
	而且现在重新打开，显示族文件被进程占用，
	哪里占用了？
	我试试 反复切换一下，
	是源文件被占用，也就是没有dispose掉源文件，
	看一下关闭的窗口 
	关闭窗口只把控件释放掉了，
	其实应该把源文件也释放掉，
推测一下反复切换文件会冲突吗？
	或者呢？ 每次都将文件释放掉对吗？
	应该是对的，
	
	至少我现在生成盖梁没有报错，
	
	现在问题是显示临时文件被占用，将其保存后马上释放掉，
	现在的问题是，我另存为了，
	然后我的title变成了新的路径，老的怎么办？
	那么我目前占用的，到底是新的还是老的？
	还是都占用着？
	测试一下
	
	我是不是不应该在这里就直接释放掉，我应该是在什么时候释放？ 
	这里是模型还在，没有生成新的模型的时候，
	我应该只是标记不是吗，
	应该在后面模型生成出来了，再进行释放，所以呢？ 释放应该放在生成模型之前？
	其实之前也是可以的？
	  
	  为什么会被占用，因为之前已经savaas过了，
	  ，
	  试试如果不delete，直接saveas呢，
	  一样的不行，所以还是占用的问题，
	  现在是什么问题，我无法删除之前的，因为它显示在被占用，
	  而且我找不到之前的引用，而我当前的引用也不是
	  
	  我saveas后文件的titile变成了保存路径之后的，
	  那么我现在操作的文档，到底是之前还是是之后的，如果是之前的，那么之后的去哪了，为什么会显示被占用？
	  如果是之后的，那么为什么会被占用？之前的又去哪了呢？
	  
	  或者有什么方法可以越过去吗？ 
	  手动将引用保存？
	  
	  我可以无限地转载原文件，这应该可以证明，我是以读的方式打开的源文件，不然我怎么可以重复加载，
	  所以我的saveas后的文件，应该是保存后的文件，而这个文件显示在占用是合理的，那么现在的问题是，我为什么没有将该文件dispose掉，dispose意味着等待GG来回收，但是这样看来，标志回收但是事实还在被占用中，所以报的异常。
	  这样解释的逻辑是通的，
	  那么下面换成close
	 clear
	
V-->
	V11.最后一个台忘了赋初始值
	X13.逻辑看起来有点问题，为什么？因为我只有设置过的才有，如果是默认参数的，没有点击设置页面，是不会生成模型的。这个逻辑还算有控制，但是并不是很严谨。目前应该不会造成其他问题，除非我将每个页面设置一下。
	
	删除文件的改成直接删除全部temp桥梁下部的吧，
	因为还会有很多自带的文件。
	
	下面继续模型生成：
	在族文件里面创建实例等，都是使用的厘米单位，我不用管它的原始族是什么单位，
	那么现在我把这个族改成m单位，应该也是可以的，这样我就不用在页面进行一些单位的转换了。
	
	目前测试的情况是，x100是可以的，但是不x那么就有问题了，是为什么？ 
	首先我是通过内部族的文件来生成实例的，
	然后内部使用的是m制，
	然后外部的族文件对实例进行赋参，而赋的参数是
	
	现在先生成盖梁的，
	试试

	V14.第二次打开的时候显示错了，已经被关闭
	
	模型生成起来看起来也是对的，
	
	那么现在唯一的问题就是，点坐标的计算有问题，差之毫厘谬以千里
	
	如果是点计算问题还好说对吧，
	那么我现在需要去
	
	V15.地系梁和柱系梁有问题，不管输入多少纵向都只有一根。
	
	刚初始化完，将cb再重新check一下，
	
	生成的列表为什么没有保存？
	没事，重新check可以解决 这个问题。
	
{(-1788.334413343, 892.808617303, 0.000000000)}
	{(-1692.574301393, 870.138375090, 0.000000000)}
	{(-1598.537397401, 841.138677295, 0.000000000)}
	{(-1506.639808771, 805.942730254, 0.000000000)}
	{(-1417.291318586, 764.702093987, 0.000000000)}
	
	V重复载入的问题，如果有这个族了，将这个族删除重新生成。
	
	用了用户友好性，可以考虑将梁一根一根生成。
	ok 现在改造一下吧。
	一样的不怎么友好，
	差别不大，
	考虑时间可能还会还原回去。
	
下面，处理一下柱系梁的问题，
	
	V3.页面交互也有点问题，
	lv从来都是根据，之前数据库保存的来的，而不是实时生成的？
	
	我的逻辑应该是怎么样的？
	如果是上次保存的，那么上次保存的字段和lv是一致的，
	
	但是如果是  修改了页面以后，没有保存，
	所以这个时候，只要将lv里面的更新一下应该就可以了。
	
	或者第二种是除了第一次，每次都是是实时生成，也就是切换的时候，和键入值的时候一样的逻辑，这样第一次是不会错的，因为毕竟和数据库是同步的？ 
	和数据库同步的也有错的时候吧，
	测试一下。
	有错的，
	因为上次保存的这个本来就没有同步，
	怎么处理比较合适？	
	当然是先使用同步的方式，
	，同步更新数据库
	切换的时候？
	
	跟显然我这里应该重新初始化过了，但是哪里出问题了呢？
	应该是itemsource没有更新吧，
	也不是，初始化和绑定是同时进行的 
	
	那么就是没有更新，这个居然是从数据库来的，
	不科学。
	所以每次更新都只是数据库的，
	所以才有问题，
	这个应该需要暂存一下，修改的时候也同步修改。 
	也就是为空的时候通过，数据库来，
	不为空的时候，
	初始化是在选择发生变化的时候发生，
	而不修改值，修改值是在另一个函数，
	所以这个问题是初始化错误了， 
	
	当然每次的itemsource还是得跟着变的。
	will done
	
	V2.柱系梁现在看起来不对，为什么？
	上下的根数不对，
	这是为什么？ 
	其实这个是根据deynamo的节点来的，
	可能是因为dynamo本来不支持生成多根的？
	
	默认没有中系梁，墩柱高度大于7m设1根，14米两根，
	
	X3.他说一个高程的问题，如果没有偏移，应该是直接顶上去的，但是现在却看起来有差距，也就是有下移的差距。
	是这样吗？
	首先我族的高程是多少？很明显，设计高程越高，柱为越高
	决定现在表象的因素有哪些？
		1.下部设计高程
			
		2.放置点的z值
		
		3.还有一个计算得出的修改后和之前的差值，
	
	这个看起来好像是比想象的网下偏移了一点
	
	调试一下：
	我现在修改了高程，然后他在原有的基础上基点好像往上移了，事实是这样吗？
	0
	{(-1788.334413343, 892.808617303, 0.000000000)}
	1.7080000000000002
	{(-1692.574301393, 870.138375090, 5.603674549)}
	2.615
	{(-1598.537397401, 841.138677295, 8.579396339)}
	
	V5.这是因为把默认的原来的改掉了，
	X6.现在唯一区别就是感觉好像有个坡度似的不知道是计算误差还是什么，
	而这个下移的间距，有可能是因为之前计算使用的默认值造成的。H1有一些数值是默认的。
		H1
		2.0500000000000003
		这是模型
		
	
	
	V4.盖中距离还未解决
	
	V7.cushionStoneSupCombHeight 0.35 全局设置
	  beamPieceHeight 读取
	  pavingTickness 0.2 全局设置
	clear
~-->
	12.在快速切换的时候，报了revit内部异常，提示冲突
		捕获revit内部异常：
		https://blog.csdn.net/beckhans/article/details/14002557
	
	1.首先页面：
		1.加一个page，也就意味着我需要再多写一个页面控件逻辑吗？
			即使页面逻辑其实也还好
		2.直接换成tabcontrol?
			然后不让用户手动切换tabcontrol，
			然后我后台只需要新加一些字段，甚至连逻辑这些都是好的，
		这样对比起来页面确实麻烦一点，
		生成模型的也会很快，那么还是先使用加tabcontrol的方式吧。
	2.数据库，新加一些字段即可，会涉及到一个小的表，但是这没有关系
	3.生成模型，这个是重点，大概需要多少时间？
		生成模型涉及到dynamo翻译成c#语言，涉及到与数据库字段的交互，涉及到json的解析，
		但这些也都有些现成的代码可以参考的。
		但是工作量仍旧在2~3天左右。
	4.如果赶时间，dynamo翻译成c#这部分并不是很简单，先看看节点多吗
		参数有点多
		4个类型的实例，
		用同一个桥梁下部文件应该是没有问题的，因为这个和桥墩对于整座桥梁的
		但是现在问题是我放在同一个文件里面的时候，有冲突。
		也就是台帽参数化族和耳墙都用到了台帽轮廓，
		
		现在我应该只需要重新命名就好了吧，
		
		V试着用dynamo直接生成一下
	那么现在明确了，先完成数据库字段的录入，然后再，
	
	两边肯定是条，中间肯定是墩，这个通过计算来，不用录入字段了吧？
	只有名称是太或者墩的区别，这是之前的录入，
	其实快一点的话，dynamo翻译的怎么样？
	我可以先完成c#部分，至于生成模型...
	
	页面
	要不我换一下好了，
	不用tc了
	页面可以了，也就是wpf页面控件加载的时间其实是有问题，并不是很好控制，
	
	那么下面就尝试生成模型了，如果模型可以了，那么放置来说都是很好处理的，
	
	
	5.有时候好像第一下点击设置下部好像没弹出框，看看不是bug
	
	6.进度条，显示计算详情。
	7.用户交互，用户是在不断调参的过程中生成模型，所以需要生成模型的过程中快速一点。
	
	早上把代码弄完，至于生成，下午看能否调通，
	
	现在看看初始化值的怎么处理，
	首先，值从哪里来比较好？ 
	如果从其他地方来的不用管，如果有默认的，那么试着初始化
	1.数据库的肯定是要修改的
	2.可以将初始化放在
	3.那没有关系，现在先将数据库的值手动修改一下，
	用到的修改一下，
	除了其他的表，都是可以修改的，
	
	上次测试完是好像是说族有点问题，
	当然看起来代码好像也有点问题，但具体不知道是怎么样的问题
	
	我这里可以先把初始化值的问题处理一下，
	然后其他的话，还有什么吗？
	CDM的，
	
	桩底标高=台帽高程-（没有柱高，然后默认2米）
	
	默认横坡，默认的台帽底标高，默认桩柱间距
	默认的桩柱长2米，
	
	标高的算法和台帽的是不对应的，
	要根据一个横坡才能算得出来，
	
	现在毫无疑问我的代码有点问题，
	1.里面有些看似是写死的数据，其实是从用户录入或者是通过计算来的，
		通过计算来的，比如桩柱长2米
	10700
	因为设计高程是12750？
	
	2.
	
	我先把最新的族给替换一下吧，
	
	现在是直接将模型使用dynamo运行出来是错的，
	
	那么是什么问题呢？
	为什么他和之前的不一样？
	
	现在运行出来大部分是正确的，
	然后现在先将参数都输入一样，然后先将族文件生成出来。
	
	而且我存在重复初始化的问题
	看看是为什么
	
	好像是改变了ischecked触发的事件，
	那么这肯定是不行的，这里应该怎么处理？
	我重复勾选的目的是为了什么？
	多生成的两遍可能是因为这个checked导致的，
	唯一比较合理的是，如果有这两个checked的时候，也就是有一个要变的时候，前面应该不生成，最后一次的时候才生成。
	算了就让他重复生成几次吧。这无所谓的。
	
	现在主要的是把参数调整一下。
	一个一个来吧，
	
	现在出了什么问题？
	
	初始化的时候不小心把之前的数据给替换了，
	重新录入？
	然后设置默认值？
	现在生成桥台是最重要的，
	但是着急是没有用的，还是稳一点一步一步来，
	那么就先完成设置初始值的了。
	
	把所有的参数都设置正确，然后替换一下数据库，
	
	1.墩柱改成桩柱
	2.参数：
		V1.斜交角度为0
		台帽参数化族ok
		
		右耳应该是加上hatHalfRight
		-2500加上
		左耳应该是-12.5
	左右耳的定位点都是正确的，只有右耳和盖的横坡扣上了，那么也就是左边
	有可能是hat的横坡值有问题，看一下。
	
	clear 
	
V-->下面处理cdm cad到excel表格的。
	里面会涉及到对表格的行复制 等操作。
	先研究一下他之前的逻辑是怎么样的吧。
	
	梁板柱墙
	先看梁和柱的，
	板的需要到钢筋算量，所以这边可以先滞后处理。
	
	梁和柱的
	
	板的定位已经没有问题了的，
	
	梁柱墙板
	clear
V-->梁CAD=>excel：
	看起来是升级了一下的，那么现在我先试着按照原来的生成调试一下。
	试试哪些是有的哪些需要补充的，
	
	现在看来组织的形式也需要修改一下。
	
	因为之前的单跨梁，而现在变成了连续梁
	之前也叫等截面连续梁啊，
	
	因为之前只有单跨的，
	所以，数据的结构肯定是需要改的，
	那么先在的问题是，我现在需要怎么处理需要复制的情况呢？
	看看逻辑吧，
	现在就到了修改结构的阶段：
		之前是直接找到相应的key，然后进行填写就好了，现在呢，大部分是直接填写的，而现在也有一部分，是通过先拷贝，后填写的，使用一个
	因为是多跨梁，哪些是、
	
	因为后面还会涉及到板柱墙这些，
	我在思考有没有一个可以抽象出来的模型来兼容所有的，就像我在revit里面生成的一样。
	
	当然这个需要实际撰写的代码的过程中才会慢慢有抽象的灵感。
	那么现在呢？
	首先毫无疑问的是，我需要修改一下之前的结构，
	我需要修改成什么样子？ 还是完全重构？
	没有必要完全重构
		1.我需要找到已经有了的key，
			我需要找到一些新的key，
			我需要新增另一个一个key对应多个值的情况，
			所以现在修改一下之前的创建的结构。
			
		2.
	我之前有提供过拷贝的函数，
	但是后来由于时间问题他并没有将之集成到代码中去，
	~找一下这个函数吧，现在肯定是需要用到的，
	
	那么之前的填表方式还可以适应新的结构吗？
	但是肯定不适应的，
	之前用的键值对进行填表，现在涉及到了拷贝，然后新增一些键，
	没事，我在这里面给他一些函数来进行这一步的操作应该是没有问题的吧，
	
	填表函数里面，已经是从指定的表copy，然后再填入新增的，表里面，
	那我这边需要怎么处理？
	直接将dictionary的value变成[]？
	研究一下表格再得出结论，
	首先，key是不一样的，
	只是后来拷贝后的key是没有的，
	那么这些key我是怎么生成出来的？
	首先我知道第一个的字段值对吧？那么我知不知道拷贝的范围？
	我知道第一个的字段值，我也知道哪些新的字段是需要拷贝，从哪拷贝
		
	这个给个合理的（灵活的）结构来指示即可copy
	
	那么看看我提供的copy函数，
		已经找到了，不太确定是否可以操作不是同一行的格式，
	大致逻辑是：
		找到需要拷贝的key值，然后在
	那么测试一下，这个函数是否可以达到想要的效果吧，
		答案是不可以，
		目前看起来好像无法拷贝多跨越的行，这是为什么？
		合并单元格，
		会不会是因为这个复制整行样式的问题？
		
		现在看来，需要改造一下函数，如何复制整个块，
		之前是复制整行，但是遇到第一个列一行对应其他列多行的情况看起来不太管用，
	看来单行的拷贝是可以的，顺序也没有错。
	所以就只有一对多行的问题，
	如果在原来的基础上面，再多一个合并后居中的方式其实也好像可以的，
	
	
	当然最好的方式还是复制块
		很显然这里并没复制块的函数，需要自己提供：
		1.找到合并块的关键字，然后看能否获取到该块的行数跨度
		2.然后根据这个跨度来复制行并插入到后面
		3.最后将这些行的前面合并的地方进行合并。
		研究一下吧。
		
		现在找一下合并居中的函数
		设置Merge就可以了，
		那么现在就有了是否merge的选项，
		然后修改一下这个函数就好了。
		插入位置，从多少行到多少行
	
	新函数的逻辑：
	首先找到关键字，然后将整个
	K

	看一下我的拷贝函数可以找到
	
	我现在要做什么？ 
	填表，
	我需要什么函数？
	一个拷贝块的函数，
	用宏的方式更加麻烦，别考虑了。
	
	所以另外提供一个函数来拷贝块吧，
	输入的参数是什么？当然也是找到关键字了，
	光拷贝吗？ 赋参要不要的？
	因为存在merge的情况，所以赋参并不是很好赋？
	其实也还好。
	使用一个datatable组织是可以实现赋参的不是吗。
	那只能这样了，指定需要拷贝的关键字，然后再指定拷贝的行数，然后再指定插入的位置（默认行数后面），再指定拷贝次数，这样就能将
	拷贝的时候把值也拷贝一下，因为一些确实是重复的，或者没有必要，直接将一个datatable的值赋进去就好了。
	
	拷贝的时候可以判断拷贝行是否merged吗？
	需要的，拷贝函数的逻辑：
		找到key值所在的行，ZZ（1,1），所在行，然后根据指定需要拷贝的行数，
		插入n个新行，并将style也插入进去，
		记录一下merge的rows？
		在datatable里面记录可以吗？
		现在只考虑行merge的情况，不考虑列合并的
		可以记录merge吗？
		目前是可以记录rows的，（如果是连续的merge，目前是连续的7个rows merge起来的）那么没有关系，记录一下就好了，记录一下所在的行号？
		还是直接记录进一个list吧，将行号了是否merge记录进一个List，
		然后再参照传入进来的datatable，将数值赋值进去，然后再将需要合并列的新行合并一下。
		
	这样就达到了 复制，赋值，合并行的效果。ok,fine。
	
	datatable
	因为要考虑到第一行
	
	所以现在想要的就是一个拷贝excel表格的函数
	之前用的fill Excel函数肯定不能完全处理了，现在只能分步走，没有关系。
	分步就分步吧
	
	我现在先测试一下合并行的函数是否ok，
	ok的
	好的，
	那么现在休息一会，然后按照逻辑把这个excel的函数撰写出来好了。
	
	爱康 
	医疗
	
	还需要单独考虑一下，拆分和合并列的函数：
		我知道我需要拆分和合并的关键字吗？应该是知道的，那么我也知道我复制后拆分合并的咯，是的，我应该是知道的，复制了多少行我是知道的，所以我知道需要拆分合并的整体行数。
	所以根据这些就可以进行拆分合并了。
	
	现在看来我的函数已经成功了。
	再提供一个函数吧，
	
	或者我这里可以直接修改函数吗？也是关于复制行的
	也就是，如果我在添加style的时候，将整行的merge记录下来，
	首先我复制插入会出现什么情况，看一下
	
	这样行不行？ 
	能不能和前一个函数继续区分？
	
	我前一个函数复制的时候是查找的合并块的数值，
	
	如果我换成合并块的小块会出现什么情况，看一下
	好吧，这样看来我把整个行都给复制了，
	所以列的索引看起来关系不大，
	不过我现在也方便提供第二个函数了，
	也就是
	提供一个行号，
	然后指定要拆分合并的行号，将其拆分合并即可。
	
	如果不是整个块的，那么他会报错。
	那么这个时候，我需要怎么做？
	需要把他们拆分。
	
	如果我在合并的时候，检查一下他们的merge，
	那么说不定我好像是可以这样处理的，
	
	所以不管是上下，都需要判断一下。
	
	那么判断如果有合并项，那么又怎么判断呢？
	他的上一行如果也是合并的，
	
	那么只有这样呢，
	通过索引的key是合并块，还是子块来进行判断了。
	
	满足就可以了，如果出现了
	
	先试试这里可以直接取消他们的merge吗
	173-176
	
	176-183
	
	B173 179
	
	B179:B182
	175 182
	
	err:173-178
	err:159-174
	for:163-176
	err:159-176
	mer:177-180
	
	164是目标起始
	
	选择正确的
	如何设计这个函数？
	首先我能获取到已经merge的地址吗？
	这么判断怎么样？
	如果后面传入的地址，大于当前的地址，
	
	好像错了，我应该原来的和后面的单独计算。
	
	现在呢？
	现在完成了 单个copy多个合并的，
	
	但是我把原来的也改成这个样子了，
	现在如何兼容？
	
	兼容原来的，不拆分的方式。
	主要是用什么来区分，
		1.使用是否key等于合并列？
		2.使用直接指示状态值？
		3.使用比较合并列的第一个？
	我现在确定的是，已经可以copy小格子的了，我的key值传输的是大格子的key值。
	但是都一样，小格子只要算上偏移的行就为大格子一样的了。
	
	那么现在考虑一下大格子+额外的，先直接测试一下
	
	好像只有合不合并的问题，如果不合并呢？
	如果合并呢？
	
	如果不合并，那么我记录开始到结束的
	直接将新的行合并就可以了，也就是不用做拆分操作。
	也就是记录合并行，
	看看如何
	
	那么现在，处理梁的，
	我需要修改什么？
	先把生成逻辑理一下，
	录入的字段需要细化，
	
	首先从cad读取数据的已经完成了，组织成了beamGroup的结构，现在需要把这个结构转为BeamStruct，然后再把BeamStruct 想办法填入excel，
		他是转换成了Beam,
		
		我还有其他的架构思路吗？
		
		然后现在需要
	
	他现在没有填写默认值的情况，也就是默认值都是
	
	KL25
	KL26
	
	悬挑根据WKL4(5B) A1左，A2右，无字母无悬挑，B双悬挑，
	然后A1左，的时候，将长度（多段线的长）填入，高度根据文字x1680填入
	右同
	
	KL23为顶高度，无需计算直接填入。
	
	现在我已经知道目前需要填写的值的，具体的当然还有几个需要细化的，
	但是我可以先把已经明确知道逻辑的字段值填写进去。
	下面：
		1.填写值
		2.重构一下逻辑，如果合理地填写值
			之前都是单跨的，现在多跨的，有些值得根据多跨的来，而不是之前单独的填充excel的方式。
			
		直接填表是正确的，
		那么现在的问题是，如果将结构转为填表的结构？
			1.也就是需要把，BeamGroup转为BeamStruct
			2.然后将BeamStruct填写进入excel表格。
		BeamStruct需要重构一下，
		一个表里面有多个BeamGroup，
		然后一个BeamGroup会对应一个BeamStruct！
		对应一个！
		然后一个BeamStruct需要填写一个Sheet，
		也就是一个BeamGroup就会填写一个Sheet
		也就是一个CAD图纸文件，会填写一个Excel文件。
		
		那么我现在有一个CAD图纸文件，会生成多个BeamGroup，
		如果给每一个BeamGroup放入填表的函数，打开关闭表就变成很平常的了，
		我能否，只打开一次？也只保存一次
		
		也就是我的Excel填写也需要进行封装一下，
		
		或者稍微多打开几次也没有关系，
		但是将FileExcel等具体函数，
		在单个Sheet的时候，分开调用。
		也就是在BeamStruct里面进行调用。
		
		之前的BeamStruct会填写一个excel，
		那么现在的BeamStruct，也是填写一个excel，
		但是之前是批量转换和批量填写，
		那么现在应该，分开转换和分开填写。
		我可以也封装成批量的吗？
		
		ok，现在看得出来我的封装逻辑有很多错的了。
		就是对应关系有问题，
		那么现在修改一下，将之对应。
		
		下面需要处理的是，
		1.修改beamGroup转为Struct的，
		2.struct批量填入表格的，
			
		先考虑如何填写表格？
		
		之前dic的方式集成，不能说完全摒弃，集成到 struct填入表格的函数里面。
		现在按照这个进度去完成梁的数据录入，保持专注，那么梁的是可以完成的对吧？
		
		优化后面说，先把逻辑完善了，	
	LD的i=5  ，这个5 是KL50-1 (或者直接读取图纸文字)
	
		先判断悬挑，
		如果B 将两边去掉
		如果A1
		左右的时候去掉左
		上下的时候去掉下
		如果A2相反
		
		轴网序号是悬挑最近的轴线
		
		ZZ，11如果左右的时候是左，上下的时候是下（同悬臂都为逆时针）
		
		支座宽度=本跨的起点-上一跨的终点 也分XY
		ZZ21 = 本跨终点-起点 分xy
		其他的默认值即可
		
		现在开始调试，
		如何调试？
		首先用他给的来进行调试吧，然后跟第一个就好了，
		
		会超出索引，
		为什么？
		我这里的KL50显示有7个 ，也就是有6个支座
		但是我实际添加的支座，只有5个？
		KL8 
		KL50 = 
		梁段应该有7段，
		
		支座 
		数量应该对应支座数
		
		然后开始的时候的数值：
		ZZ(11)宽度，如果有悬挑，则计算得出，如果没有悬挑，则设立默认值
		ZZ22 第一段
		
		最后的数值：
		ZZ11宽度，如果有悬挑计算得出，如果没有，设立默认值
		ZZ22最后一个支座默认0
		clear
		
V--> 柱CAD=>excel：
	需要他发我资料，
	之前是没有柱的代码的，
	但是无所谓，我这边应该可以模仿着来，
	
	他柱子之前是处理过一部分的，算的时候有考虑到旋转的情况，
	
	目前我找不到之前的代码，
	因为已经注释或者删除掉了，
	从其他地方找找看
	
	之前可能是先完成了柱，然后他修改成了梁
	
	所以这样才只有一部分，但是需要的并不是很多，
	定位点的计算方式应该是有的，也可以参照梁的计算方式，
	至于h和b，这些也有参照方式
	而我主要需要做的，是整合一下代码。
	我也可以先试着反编译下试试。
	clear
V-->10-15开始，   
	11月9号结束
	18个工作日。
	内容：
	1.CAD->CDM表格
		梁现在基本可以了，
			考虑到他图纸会有一些问题，我应该给出以下合理的异常提示，那么需要抽象这些吗？看来不一定可以，因为这样的话就要他犯足够多的错误，这样就太允许他的不严谨了，这样并不是一件好事，因为你现在的工作量实在有点多。
			结论：先不做错误处理的，如果是图纸部分
		板：
		墙：
			预测了一个，Z和反Z进行区分的问题，既然人可以区分，那么电脑肯定也是可以区分的，只是我通过读取point的顺序来区分是有点蠢的，因为它存在正序和反序，但是如果我通过点的位置比较和计算，我肯定是可以得到这个区分的。只是需要花一点时间来写这个算法而已。
			如果这个算法搞定了，那么我其他的工作也只是读值填表的一系列操作了。
		柱：
		
		那么都算读值填表操作，你的工作内容有哪些？
		也就是那几个类，大部分计算等函数都是有案例的
		那么就建设的问题。
		建设也就靠模范已经成功的案例
		3天一个可以吗？3x3等于9  
		9+2=11-1完成cad->cdm的工作，这1天从建立模型的熟练中压缩出来。
	
	2.CDM表格->Revit模型
		这个在之前有案例，也有建立好的友好框架，那么修改这个框架，完成一些意外的改动，那么这个4天可以尝试一下的
		4天
		
	3.最后还有一个算量的东西。
		算量的问清楚王茅到底是些什么内容
		算法他们会给，然后读取cdm表格内容，然后进行计算得出一些结果。
		这个可以通过Excel转DataTable，然后Select Data,然后根据公式计算，得到结果，得到的结果用什么形式展现呢？假设这个也花一个周吧。
	也就是还有4天来处理这个东西，时间也是非常紧迫的
	
	下面的就是执行了
	
	现在工作计划有变，有一些东西我不用实际地弄出来，
	clear
V-->下一步：
	V核对一下数据录入是否有问题
	如果没有问题，明天早上即可完成对excel表格的填充部分，
	也就是ConvertExcelData函数
	FileExcel
	
	V1.无悬挑的时候，取消最后一个支座，
	V2.右悬挑的时候，支座宽度ZZ(1,i)不对，但是没有支座的时候是对的，有右悬挑的时候是错的，
	
	V1.角度错了 应该为0度，而不是90度，看看怎么调比较好，
	
	V2.Y-KZ11 Y-去掉
	3.线段转多段线新需求（一个命令，把线段转为多段线）
		选择的多条线是闭合的，
	
	4.功能面板（通过功能面板的方式来调用命令）
		~5.revit的部分他的族没有做，但是看起来进度的话他觉得还ok
		
	V6.将板的集成到梁柱里面去。
		基本代码不用修改，把有用的提取出来，简单封装，修改一下即可。
		这代码我动过，所以集成起来这么方便
	Close  separate line segment Multiple Select Polyline
	One Comand Extreme Point EndPoint  Plane 
	
	梁不用改族，
	然后修改参数。
	柱和板不用动。
	
	高度、
	
	连续梁的这个最终还是修改了一下的。
	因为以前是同一的参数，现在并不是这样的。
	
	现在呢？ 
	1.核对一下梁获取的参数，是否有变化，
		有一些有的，
		那么怎么弄呢？ 
		当然是修改数据结构了，
		修改数据结构是必需的，那么摒弃之前的结构也没有关系吧。
		之前是通过开始点，然后计算出的下一跨，现在仍旧可以按照这种方式去计算定位点，
		但是具体梁的数据则由录入，
		
		其实之前的录入好像也是没有问题的，只是用了不同的名称
		梁的改好了，
		其他的需要改吗？
		
	2.如果没有变化，那么唯一变化的是多跨梁的读取方式
		
	今天：
	V1.我可以先完成上一个柱的需求；
	2.然后他提出了两个需求
		1.excel的独立需求，这个可以实现吗？
			我可以问一下他，我觉得他是可以实现的
		2.在excel里面添加一些必要的参数，现在已经把参数录入进去了，下面修改一下模型然后填充进excel就好了，然后这个处理完以后再处理一下他的新需求，看能否分出一部分工作给Andy，如果能参与，没有关系，就当给他玩一下就好了。
	这里可以完成吗？
	我试着把这个活交出去试试
	看一下独立吗
	至于读取楼层表这个我当然可以自己来也可以交出去，但是目前先看他是否能完成第一个需求吧，
	所以我这边先完成第二个，也就是不交给他了自己来
	
	第二个需求算是完成了，也完成了重构。
	那么第一个需求给他试试好了，如果可以，可以分一部分活给他练练手。
	
	其实墙的部分我也可以识别一部分的，
	原理是差不多的
	那么你在笔记记录的那种方式，可以算出他的Z字型墙的形状和顺序吗？
	顺时针和逆时针其实我是可以做到的，
	将点顺时针排序和逆时针排序
	首先找到最小点，
	然后最小点作为顶点或者终点的应该会有两条线，然后找到顺时针的那条线，但是这里不好区分，
	https://blog.csdn.net/xxdddail/article/details/48787059
	那么现在的问题变成了，如何
	通过3个点，然后来找到这一个顺时针和逆时针的问题，
	我既然得到了这个图像的顺时针和逆时针的方向
	那么我当然也可以找到这两条线的方向，那么我再计算一下这个点，3个点足够了，
	没事吧，我只要计算出小的夹角就好了，然后计算会得出，这个夹角，都小于90度，那么就有问题了，
	看看他是怎么计算的？
	abord，
	算了，不要再纠结了吧，
	下一步的任务：
	1.他已经准备好了墙的的手填工作，所以我这边直接放弃墙了
	2.那么我这边目前需要处理的？
		X1.他有一个新的需求是识别钢筋的，我这边其实是可以处理的，根据点的关系去换算一下就ok了，但是目前没有提出准确的逻辑，所以我也不着急动手
		~2.我将复制的函数交给了Andy，这其实也没有关系，因为我这边其实处理起来也并不需要太多时间，只要他做的东西是简单方便使用的。
		V3.最后一个稍微有点难的是将，他们生成为一个面板，然后在面板进行调用命令，这个就需要参考以前的代码了吧，是的。
		4.
	V3.是在启动app的时候加载面板
		试一下好了，
	V4.netLoad，其实也可以解决，通过lsp文件解决。
	
	V5.netload后会自动加载菜单栏。
	6.我已经大概看了他的页面逻辑，也就是将一些公式，集成进了代码里面，他公式改了很多
	7.算量的东西大概是怎么样的？
	首先我不能使用他java的部分开发对吧？
	我得想一种更加快捷的方式，
	
	逻辑是这样的，
		1.首先我有一系列的excel数据，
		2.其次有些数据是通过读取cad图纸获取
		3.导入进去的时候直接计算完成，
		4.然后给出一个合理的组织方式来展示数据
		5.各种筛选数据，这样既可
		
		那么就是做一个独立开发的了，问问时间，估算一下，
		算量的开发时间只有一个星期，现在他们的公式还没出来，
		但是基本开发思路是差不多的，如果他有解析的，
		
		（我应该可以从之前的java里面用文本编辑器来找到相应的文本，试试，）
		
		他有解析的，自己写的吗？
		是的，那么我可以仿照他解析表达式的代码。
		总结一下其中的技术点：
		1.使用不运行cad的情况来读取dwg图纸，这个技术我在哪里有过了解来着？
			跟郑易讨论过，我在盖章工具里面好像有做过，循环打开文档，然后修改文档，这里我肯定也是可以这样实现的。
			这里只是读取信息，更为简单。
		2.解析算量公式，这个公式的字符串是他给的，而我只需要对照把其中属于变量的部分替换成相应的参数，最后得出计算结果。
		3.展示：通过一定的控件，将计算结果进行展示，然后根据一些查询语句，来对复杂的数据结构进行展示，这里的难点在于，如何设计出复杂的展示结构，所以这个他们是可以来参与这个的设计，只要符合逻辑，我这边只需要撰写sql语句即可。
			我的数据库到底放在哪比较好？ 肯定在本地？
		4.（扩展：如果我足够炫酷，我当然可以把cad脱机的部分放在服务器上面去，但是没有这个必要，但是这个对于加密来说就很友好了，我无需对再cad部分进行加密，而对服务器的保护完全可以交由第三方，也就是我无需电脑，连手机这种移动设备也可以共享成果）
		
		那么下面，我可以先将一个简单的页面、架构等搭建起来吗？
		我是可以先搭好框架结构的。
		
		脱离cad其实是一个很炫酷的技术点。
		
		cad快速看图其实也可以实现的。
		因为他的内核也是cad提供的arx。
			
		这个做成什么样的，取决于展示想用什么展示？wpf？
		
		如果用网页来展示，其实也不是不可以，但是不太好，为什么？
		1.我得叫前端进行配合，我需要把数据库放在服务器，
			总之很麻烦
		2.最好使用wpf来展示把，wpf用来展示数据完全可以，就算有一些自定义的东西，照理来说你应该也可以做到。
			不管在哪大概都是用一个listView来展示，wpf目前你还有自定义的经验
		3.先搭建大致的框架吧
		
		首先，通过选择文件和图纸，来获取参数，
		选择完以后
		我得知道他批量的东西，他应该是批量选择，
		
		每次选择都校验一下公式是否所有参数都已经具备，
		
		梁板柱墙的都是同一个？ 
		
		表格肯定有一些东西是一样的，
		
		datatable是可以的，这样我就少了数据库的一些操作，比如建表这些。
		
		或者不是cmb
		X钢筋的需求先不处理了，只提供一个根据支座来拷贝excel块的方式。
		
		最多是以
		
		OK，现在把批量复制行的给处理一下。
		
		现在看起来就格式有点问题，值好像都是正确的了，
		对比一下是什么问题
		
		光是使用merged来进行判断是不对的，
		因为这样会把所有的merge都给判断进去，
		
		所以我最后得出的结果是一个整个的，而不是分开的，
		这怎么处理？ 当然是根据style来进行判断了。
		是否包含在范围内？
		
		"B121:B124"
		
	1.现在试试解析一下公式
		已经将求和公式解析了，
		如果有新的公式需要解析，再做进一步的优化
	2.第二步，将所有参数从excel表格中提取出来，
		提取的时候注意一下左右括号中英文的问题，其他的有什么需要注意的吗？
		好像没有了吧？
		也就是我需要有一个字典表？还是说KL31就对应的KL31？
		我解析表达式的时候，其实可以在中间顺便将值给替换了，这样没有关系的吧？
		应该是没有的
		别忘了将代码上传，或者，把向日葵打开
	3.如何展示结果？
	   一个sheet有一个计算结果
	   
	   砼用的是跨数，而钢筋用的是支座数，
		砼用的是i ，钢筋用的是k k是支座数，KL50
	我现在已经有了一些计算结果，是按照sheet来区分的，那么就用sheet的名称和数值来进行展示？先用最简单的vm吧，或者datarow?
	
	V1.加中文显示
	V2.分三页 混凝土，钢筋，模板
	3.如何组织？ 
		1.目前有什么就展示什么吧，只有后面这种复杂的展示，就先滞后好了
		2.汇总的
			我如何设计？
			目前他想要
				1.所有类型的汇总
				2.根据梁柱墙类型的 区分汇总
			我这里主要考虑的是每一种汇总做一个？还是
			后面肯定还有根据楼层来区分的，
			所有楼层的汇总，
			汇总的方式肯定是可以穷尽的，
			那么我现在在考虑什么？
			1.合理地展示汇总的数据
			X2.如何架构让后面的汇总需求更为容易变动
				因为统计是可以穷尽的，所以现在先就按照这个进行统计，后期即使需要维护，其实也不是很难对吧？
			V3.
			V汇总方式：
				V1.汇总的可区分参数：
					楼层/类型（梁/柱..）/结果（未知种）
					
				V1.汇总所有 
				我现在无非有两种方式展示：
				V1.根据选项来修改展示内容
					有：总计
					楼层分类总计
					类型分类总计
					楼层类型分类总计
					结果分类总计（暂不处理，后面有需求再改）
				X2.所有的类型放在一起？
					这样就需要多个了，
			最好不要选了，直接全部展示？
			选一下其实也没关系的吧？
			问问好了，
			
	4.如何处理图纸合并的部分，如果在cad里面写算法来进行计算无疑是很麻烦的一件事，所以最好的还是通过图纸来进行区分。
	一种他改起来很便捷，我这边也好识别的方式。（我这边好识别主要是cad里面自带的属性什么的就会很好处理）
	他想要柱子，周围的梁，也就是梁肯定是会被公用的。
		1.首先放在同一个文件里面是可以被区分的
			根据图层可以区分柱和梁
		2.通过组来将同一个实体及其描述的文字所区分
		3.还有其他的什么group方式呢？
			块
			我当然有读写块的实例了
			这样肯定是可以操作的，一个块里面肯定
	现在区分的方式：
	我这边只需要处理的是：
	1.算量结果为：算梁的模板
	2.在计算的时候，会同时导入柱子和梁的excel数据
	3.然后看一下每挑梁都会有对应的轴网序号，然后找到这些序号对应的柱子的序号，最后单根柱的总面积，减去对应梁的有一个面积。如果柱子分别对应了一段梁的终点轴网和宁一段梁的起始轴网，那么正好说明他们和该柱子是相接的，那么我确实需要找的就是他们两个的数值。
	我这边只针对excel就可以进行分析了。
	
	
	（我无法确定如果他这样操作是否对cad->cdm表格的数据是否有不正确的影响，如果没有，那么我无需考虑过多）
	4.i为支座数从1~7
	  k为跨数从1~7-1
	  m为关联系数，关联数
	  +
	
	既然算量的可以，
	那么看看文件是否可以测试一下，
	
	V5.下面测试并处理一下，嵌套括号中包含逗号的问题
	因为之前的逻辑设计是根据严格的顺序来的，所以这里不会出现这个问题，nice！
		（KZ25+KZ26）*2*KZ27-Σ[(ZZ(8,m)*ZZ（9,m）]
	也就意味着我这边识别表达式的好像都可以了吧，
	
	1.柱扣减板计算逻辑：
		1.读取柱的中心点，读取柱的两个边长，读取柱所在轴网，读取板的所在轴网起始和终止，并得出其其他两个角点的轴网，左下右上。
		2.找到柱轴网分别对应的 左下右上，对应板右上左下 的板，及其相应角点。
		
		2.计算柱的四个角点
		2.读取板的起点和终点定位点，读取板的
		3.计算板角点和对应柱角点的差距长宽，再计算面积，最后对其面积进行扣减即可。
		
	V2.按楼层的分类方式分类，
		1F柱2F梁2F板
	2.盾构项目：
		1.进度条
		2.和网页端对接参数部分
	3.现在所有的扣减都出来了
		模板没有出什么
		
		柱扣梁、V
		柱扣板、V
		梁扣板、
			1.我现在有梁的未扣减的数据
			2.现在
		V梁扣小梁、（小梁不需要扣减大梁，why？因为梁端的面积是不需要的）
		板扣柱（面积和体积都需要扣减）：参数已经在柱扣板的时候得出，
			需要先计算梁扣小梁的吗？
			小梁会涉及到扣减板，
		
		我是怎么来的？里面会有一些东西，其实是可以记录下来的，其实也可以不记录，大不了重新copy一遍代码，
		如果你要记录，那么你就得对他们的计算进行一个排序
		或者我不记录，每次都从实际的获取。
		这样应该更为简单一点，不过就是会有一些重复的代码，也不会重构为更好的架构。
		这样有关系吗？ 
		并没有，
		so，分别理清一下思路，然后不重构，直接改吧。
		重复计算没有关系的。
		
	今天周五了，我可以选择晚上休息一下，明天白天再加个班处理一下吧，
	加班目的：处理其余两个扣减的
	技术难点：应该没有太大的技术难点
	
	如果你想要自由规划自己的时间，那么你就必须得管得住自己。
	
	4.下个周开始钢筋的部分
	5.如果是新开发的话，毫无疑问需要全职，如果是bug修复的话，兼职是可以的
		clear
V-->今天 先处理梁板的， 这样梁的就完成了，那么就剩板扣柱的了
		1.梁如何扣减板的？
			我这里不知道梁和板是如何扣减的，需要问一下范志杰
			梁和板的扣减和梁和小梁的扣减有点类似，首先找到对应的轴网，如果是X方向，那么扣减板边是3 如果是Y方向，扣减的是边4，所以这个公式需要改一下的，
			
		V2.我这里知道板扣减柱的公式（可以自己补充）
			我也知道扣减原理，所以我这边先试着处理一下
		
	V梁板先滞后处理，今天先处理基础的。
	V把基础的处理后，
	V再处理一下板扣减柱的 
	
	那我还是先把梁梁的扣减处理完？
	 这个ZZ(8,p) 和ZZ(9,p) 如何进行区分？
	  不去掉p，然后后面跟np好了，
	  
	还是直接做基础的？
	
	然后再补充一下基础的就好了，

	A21001-003-0101-X-6%%13220 通
	
	    10
	π*YXJ（1,1）²/4*[MAX(5*YXJ(1,1),BK(1,1)/2)+MAX(5*YXJ(1,1),BK(2,1)/2+BK(3,1)-BK(1,1)/2-BK(2,1)/2]*[(BK(4,1)y-BK(1,1)y/2-BK(2,1)y/2)/YXJ(2,1)]	
	钢筋公式新增的哪些？
	V1.首先他没有求和符号
	2.他有一个max符号，这个得等到解析完毕才能运算这个max符号，到时候看一下好了
	3.他有INT，这个也需要后面再转
		
	4.有平方符号，这个可以在前面就处理掉，
		X我不太确定他是否能再后面的解析中直接计算，
		他是不可以这样计算的，有关系吗? 我可能能把括号合并起来，但是不太确定能否把平方符号合并起来，
		试试不就知道了，
	5.他有x向的东西，
	6.我有些公式是针对x向的，有些是针对y向的，那么应该区分一下表格中的x和y吧
		上下筋的话，公式就是另一个了
		xy向和不同类型的公式都是有区别的，
		所以区别对待好了，
		
	
		
	X5.之前的解析，好像合并括号的时候，有出现过括号(q)里面不包含逗号的情况，可能也需要合并一下，
		无需合并，因为在这之前他已经被解析了
		
	6.分类：
		板：1.上筋、下筋、负筋、分布筋
			2.x向，y向
			2.x向，y向
		梁；。。。
	接下来将xy试着代码合并一下即可，这样就完成了钢筋的第一个公式，以至于后面的看看有没有新增的定义算法。
	π*YXJ(1,1)²/4*(MAX(5*YXJ(1,1),BK(1,1)/2)+MAX(5*YXJ(1,1),BK(2,1)/2+BK(4,1)-BK(1,1)/2-BK(2,1)/2)*INT((BK(4,1)x-BK(1,1)x/2-BK(2,1)x/2)/YXJ(2,1))
	
	接下来：
	1.测试一下扣减的
	V2.完成钢筋的统计功能
		我输入的是什么东西？
		1.一些包含了类型信息的数据
		2.是否按某个类型分类的布尔值
		我输出什么东西？
		1.按类型分类后的sum结果
		
	3.而且后面加了新的东西，
	上部上排，和上排中间筋这些分类，
	
	今天先处理统计的，应该是可以的了
	然后处理一下新的公式，
	cool!
	证实了，Array是可以实现的，
	那么下面只需要做一下统计的结果就好了，当然，这离不开递归，递归地对结果进行统计，
	也就是将多层嵌套的Array转成
	
	V1.数据框的大小跟随窗体大小，调大一点，按钮跟随右
	V2.日志有符号错误
	V3.将分类标识的+""替换掉
	
	
	V视屏录制：
	V1.把算量程序表格规范一下
	V2.展示手填
	
	今天把新增的需求处理，最主要的是把钢筋的公式解析了，其他的还有吗？
	
	不要给自己找麻烦事
	先尽力出一个结果出来再说吧，
	
	 V再处理一下j和
	上一层字段的扣减
	
	即可，
	12号， 
	
	clear
V-->CDM研发需求：
	1.估算研发时长
		以往的cdm开发：
		1.CAD->CDM，有代码的基础上面，使用了6个工作日
			1.这是在图纸处理是由他们完成，然后我这边是在有算法的基础上进行的研发，
			那么新的东西，必定会出一些新的算法，而单个算法的难度如果较难会花费3~5天的时间，（细部构件），但是较难算法预估不超过3个，也就是9~15个工作日处理难点。
			2.代码架构，以往的代码架构进行了重构，可以适应现在的开发吗？现在图纸更偏向于原生图纸，所以我要么需要其他人员的配合进行对图纸进行加工处理，如果完全原生，难度极大，配合处理将会事半功倍；以往代码架构基本符合本次开发内容，只需针对目前新增的进行处理，代码架构3~4天，新增内容2天，合计5~6天完成代码架构。
			3.测试与重构，2~3天。
		2.CDM->Revit
		  有代码基础，基本复用上一个版本的情况下，使用了3个工作日
		  1.代码架构可以符合当前需求，无需重构，那么工作量主要是在新增的实体上，如果一个实体3天，那么4个实体9~12天可以完成。
		3.CDM算量，这个跟算量的计算公式的复杂程度，统计要求条件有很大的关系，按照目前算量软件的研发速度来看，前期的研发至少需要7个工作日，而后面维护阶段也需要不断新增新的公式，那么新增的部分感觉至少需要2个周的非全职工作时长，也就是折合约3天的工作日。也就是从无到有，很大部分依靠算量公式的复杂程度，10~22个工作日，包括想自定义表格导出结果部分。
		
	2.初步估算研发难点与工作量
		1.cad->cdm研发难点：
			1.cad图纸识别与处理，能对cad图纸预先处理可事半功倍，但考虑到对图纸的处理也需要一定的工作量，所以也可以考虑出一些便捷的处理图纸插件。（难点与工作量）
			2.识别出来的cad图纸数据与表格的填充，需要通过沟通来弄明白他们之间的转换。（工作量）
		2.cdm算量软件
			1.主要难点是公式的识别和处理，如果特例较多，等于无法避免的重复编码工作，而不能使用批处理方式。（难点与工作量）
			2.统计需求，看统计需要的复杂程度。（难点与工作量）
			（因为目前没有找到更合适的算法架构来减少工作量）
		3.revit模型生成
			1.读取CDM数据生成模型（工作量）
			2.代码架构（工作量）
	3.初步估算研发边界
		1.目前所有的研发边界都是通过时间来进行综合评估，如果考量时间，那么可以考虑通过其他方式替代比较困难的技术点；
		2.目前评估时间全为研发时间，不包括其他时间如：revit族的建立，cdm算量公式，以及cad图纸的加工，以及其中沟通花费的时间等，都不作为研发时长考虑。
clear	
		
V--> CMD：
	1.调试处理一下上一层的那部分还有一点代码要写
	2.再复制处理一下梁的，如果没有太多符号，可以直接复制吗？
		不可以，复制过来减掉一部分特殊的东西应该是直接可以使用的
	clear
V-->轨道项目
	V1.先处理一下面板以及进度条的东西
		1首先进度条有一些控件显示看起来有问题，没有显示初始化和百分比
		2.这种逻辑在trans提交的时候，会一直卡着，
		说实话，这样还不如来一个一直滚动的？ 有那种脉冲的最好了，
		3.提交时间实在太长，会导致进度条一直在卡着的状态
		4.现在是可以正常运行的，
			我另一种修改思路是将这个processbar植入具体的trans.commit
			当然是可以的了，
			当然还有取消的情况？取消他需要将，生成暂停，
			并且在命令结束那里返回Cancel
		5.这里只需要按照图片截图的处理，不需要关注文字
		6.我无法提前知道最后计算的数量?
			可以提前知道但是太麻烦了，
			我可以动态增加吗？应该是可以的，
			逻辑是怎么样的？
			假设我初始化是100
			然后现在跑到了30
			我突然又出现了200个
			那么就应该是将剩余的70 切割成200份来进行++
			最后再
			也就是我总的其实没有变，但是我plus的变了，变成了 剩下的/新增的 ，那么我最后如果没有了呢？那应该等于100？最后应该直接等于100，
			那么速度就会是：+1，+2，+3 +100结束，如果中间很快的话，
			
			还是说我将总的改变一下？
		切割的方式好像不行：
			因为我无法得知下面还有多少，我这个运行完了以后，我以为没有了，结果同级的还有一些，这是后面才知道的，所以这种方式不太靠谱
			最准确的应该还是一事一议
			也就是一个可知的独立计算循环就用一个，也就是每次都等于99？
			那如何实现呢？
			1.给一个不关闭窗口的？
			2.max那个值可以重设吗？
			3.应该是可以的吧，他需要文字显示准确，这里是没有问题的，
				逻辑：每次有循环出现，都根据循环次数设置一下max值，如果是嵌套的呢？
			嵌套的应该还是分割的方式不是吗？
			
			那么下面就是进度条的问题了，
			现在是什么样的一个情况？
			往复式逻辑：
			1.首先每次我都会初始化一个 100
			2.我在跑到10 的时候，突然遇到了两个嵌套的逻辑？
				没有关系，我这里直接将最大值设置到99，
				然后又将最大值设置到一个嵌套逻辑这，
				然后又将operC设置为99？有必要吗？有的吧？
				那么后面没有必要设置到100吧？
				没有，但是需要设置到最大值，让其自然关闭，
				
			这个有点难，可能还得将这个进度条做成树状的形式
			因为进度之间确实有嵌套的关系，
			那能不能做成，一直跑，然后，正确显示文字的东西？
			
			如果你是用户你肯定想知道还有多久完成，现在进行到什么情况了，然后也有考虑会直接取消掉生成。
			文字描述肯定是很重要的，
			然后至于还剩多少，可以根据目前的阶段以及情况来预估目前的还剩多少，
			当然我不知道还有多少阶段（其实也可以知道，毕竟前面有勾选的）
			所以好像嵌套的也行得通对吧？
			
			那实现呢？
			使用一个vm来进行封装吗？
			先考虑一下有没有什么比较简单点的？
				首先我进行到这一步，直接变成99%，
				然后在下一步的时候，也就是出来的时候，都重置一下最大的，然后赋值一下当前的，别用++了，这样当然可以，这样的百分比永远都是正确的对吧？
				那么信息呢？当然也跟着变化了，
				所以这个时候，你虽然不会到99%，也没有必要到99，但是你在下一次出来的时候，会准确描述当前层的信息，其实这样也还算不错的，
				现在遇到了一个问题，
				也就是在赋值MaxNum的时候和复制OperNum的时候，会有一个先后顺序，
				如果我先赋OperNum,而这个时候 上一步的MaxNum 小于这个OperNum，那么窗口就会自动关闭，
				所以需要设置一个校验位置来指示是否自动关闭这个窗体，
				
			感觉可行，
			
			所以我现在
			
			winform本来就有一个缺点是，进度条不能走到100
			这个不用管，按照实际的用户体验来处理，
			
			分析一下，为什么点击取消按钮会滞后？
			1.点击取消按钮后，在哪里出现了响应？
				目前测试是在弹出提示框的时候，如果不弹呢？
				如果不弹，那么程序应该会直接执行到关闭进度窗口，然后也不会弹出提示框来结束
			2.那么唯一可以使用的就是多线程了对吗？
				我本来就已经包含了一个线程在里面了，
			3.目前调试看来，会滞后，在下一个数据出来的时候，会一直显示前面的数据，而不是实时的数据。为什么？ 因为每次都是在oper有操作的时候才会触发deleg，所以如果我不想滞后，那么操作两次不就好了，
				答案是并不可以
			
	V1.界面改成一样，允许用户自动输入坐标
		然后所有坐标做一个参照的+-，那么应该也只是指该点下的吧？
		至于其他的又是新的，不是吗，
		有一个读取出来的，ori
		有一个用户修改的, txt
		再来一个差值，get gap 
		第一个次读取的时候，会把ori赋给txt，
		然后我只需要获取就好了，
		
		这个移动要不要指其他的呢？
		
		应该也是需要的？
		
	V2.树节点，选中父节点，子节点全部选中，
		所有的父节点都需要手动设置的，
		
	V3.在哪个区间，在左线还是右线，环数，
	V4.只弹出一个窗口
		使用单例模式可以处理吗？
		1.首先，如果为null的时候，进行实例化一个
			然后在使用的过程中，如果已经实例化了一个，那么就返回null，并提示已经有了
			那么就将之前的返回过去，然后让他show，然后我这里没有进行新的实例化。
			
			每次关闭的时候，将实例化封装的dispose掉？然后将其引用置为null，
			这样在下次创建的时候，就又是从null的来了
			// 
		2.那么其实我是用一个static的东西？
			必须是静态的，
		3.
	
	X第二个要使用单例模式吗？
	V我点运行弹出多个窗体，如果是单例模式，那么应该也是多个窗口有多个单例，
	V所以这里应该怎么做？
	
	V2.取消选择文件的时候报错，换一下调用
	V3.明天测试一下勾选的部分
		V1.把勾选的调大一点 
		V还是有问题，
		
		V2.勾选的逻辑应该是可以的了
	6.最后就只剩下一个，取消生成的功能了，
	V7.其他的都是重复劳动，
	复制粘贴就好了，
	have a rest.                  0   
	1.区间去掉
	2.生成道床不用，钢轨不用显示具体数字，（第...取消掉）
	3.当前生成第
	4.按照新的方式进行统计一下数量，这样的话，就需要提前统计，
	然后生成的时候出一个总的，然后显示目前多少多少，仍旧是operC++,
	然后只需要文字跟随变化就好了，
	正在生成： 区间->左线->管片模型 第X环        //500当前第几个/4500单个类型总量（）   
						   疏散平台模型 第x块    //400
						   悬臂梁模型 第几个     //
						   道床模型...           //501/4500
						   钢轨模型...  
	现在测试一下？
	看起来行得通，那么就这样处理吧
	
	不一样的只是小一个节点的名称
	
	现在正在处理悬臂的部分copy工作，
	
	V现在已经处理完了前面两部分的进度条，现在有数据，
	测试一下 
	也已经完成了最新代码的合并，
	测试一下看有没有问题吧
	
	clear
	
V-->工作日统计
	1.桥梁项目
		5-18~10-09
		5:10
		6:17
		7:23
		8:21
		9:22
		10:17
		11:10
	total:120
	(10+17+23+21+22)/1.5 = 62
	
	2.CDM开发：
		第一次参与时间：6-03~7-28
		第二次参与时间：9-08~11-13
	40/3 = 13+	48=61
	3.客户端开发+插件集开发：
		6-28~7-30
	:23+3=26
	4.轨道交通：
		11-10~11-13
	:4
	48=  16  cad部分18+算量软件22+revit模型生成10
	
	6*22.5
	9500/3+9500*3+12000*3
	32+280+360 =672
	clear
		
~-->实习生培养，按照要入职的来培养。
	1.C#教程、Revit二次开发教程;
	2.如果可以教一下如何使用SVN;
	3.编码规范;
	4.当然得对速度（效率）也有要求的;
	5.
	6.采用每一个周使用周报的形式来进行考核？
	7.至于生活方面，还是不要过多地干涉比较好；
		工作是一个双向的东西；
	8.那么我这边怎么去准备这个事呢？
		1.需要准备哪些东西？
			1.我需要去了解新员工；
			2.我有义务去让他认同公司的理念；
			3.
			4.我需要提前准备一下他下一次任务的内容
				我得让他是感觉我有培养的计划，而不是突然想到了什么给他安排什么，无力招呼的感觉。
				提前告知下一阶段的学习总是让人很舒服的，这样他能有自己的主动性。给他一个大纲
			5.他实习多长时间？1个月，3个月？
				如果能在1~3个月学会revit的二次开发，这确实很值得一吹，即便是入门级别也很不错了，再加上谦虚的态度。
				imp:我不能无意间传达他只是实习生的这种思想，我应该传达的是，他会入职慧远而且长期工作准备。我不应该谈到市场上的东西，我应该谈论公司的一些东西。他能为公司做些什么东西，而且我不应该说一些公司的微小矛盾问题，比如加班的矛盾。
				做更好的价值，价值？ BIM？我们的市场职责其实是做咨询，而不是干活。干太多的活，我们反而会外包出去我们的一些活。
				我们的做事目的是为了达成目的。
			6.
		2.
		
	执行阶段：
	1.了解实习生理论水平；
		也需要在沟通的过程中了解（引导）他感兴趣的方向；
	2.并布置简单的第一阶段任务：
		V1.环境搭建，先写一个简单的hello world；
		2.然后如果基础很差的话，先跟着教材敲代码；
			如果是教材的话，那么就可以根据教材的代码样例来进行考核评估了
		
		 X 如果基础可以呢？那么直接开始一些简单的程序开发测试
			X 包括GUI(WinForm/WPF)设计，控件逻辑，程序逻辑，事件，面向对象，多线程，注册表，设计模式，数据结构等。
			X 服务器端开发、
			X Revit的二次开发：创建对象、赋参、如何使用该软件，如何查询API文档。
			X Revit的结构、
			X Excel二次开发、
			X CAD二次开发
		进阶的当然就是数据结构这些了，设计模式，算法，如果都会，不太可能。
		目前的预期目标是简单的C#编程知识（一个月）和Revit开发（）。
		3.
	3.等级：
	1.零基础
		会C#2~3个周，不需要太深
		
	2.有点基础，一般
		
	3.
	
	评估阶段：
	1.现在看来他是水平是0.几，基础薄弱
	2.那么下面阶段的工作安排是先给他是跟着教程的敲，然后敲到什么程度呢？
		先把第一章基础部分的内容敲完，这个是必须的，也就是这基础的章节会花费他2~3个周的时间，
		有预期的水平吗？
		通过查看他的代码量，以及对代码的理解，加上对里面一些名词的理解，来综合评估
	3.需要评估的一些东西：1.学习情况，2.动手能力，3.学习态度，4.其它
		1.学习情况，学习进度缓慢，简单的可以掌握，但是稍微复杂一点的会有点难理解。如果讲原理，那么有点太难了，这个阶段肯定是不如基础扎实的
		2.目前已经通过视频教程学到了一些简单的程序问题，大部分使用控制台。
		3.评估：
			V1.我首先发布了第一个比较考验技术的任务是：遍历文件夹。
			V2.读取运算公式字符串（有=-*/，以及数值），然后进行计算得出结果，肯定是字符串转换的，只要他能从网上找到相应的方法实现即可。
			
			3.关于wpf需要教一下吗？ 这个需要一些时间的积累吧？ 我们一般用到的是wpf，不是winform，
			这个其实也可以后面在实际的项目中进行培养
			4.数据库知识？
				目前没有应用，数据库的知识，就连他们工程人员都学得会，只要多做一些数据库查询的东西慢慢就会了。
			5.服务器布置，不用
			6.那c#开发还有些什么？ 
			7.如果在稍微进阶一点，就是面向对象的了
				我这个需要有什么考题可以充分了解的吗？
				那么就是描述
				考验抽象能力的，首先，如果不考虑抽象，其实重复代码是可以实现的。
				那么我能不能做一个，重复代码需要写很多，但是如果使用抽象代码，却很少的？
				猫猫狗狗？
				输入用户你好？
				1类型用户说你好，
				2类型用户说Hello，
				3类型用户说benjo?

			revit开发其实是一个很
				
			好像掌握的最基础的其实也差不多了吧？ 
		那你评估一下，现在可以让他开始revit的二次开发吗？
		如果不是很肯定，那么你觉得还有哪些需要补充的知识？
		1.面向对象的编程思想，这样会让他知道为什么他们这么设计代码，
		我有一个好的想法，就是模拟现实世界的两个人写日记。
		两个人会交互，如果交互，会出现今天meet了谁。
		2.svn的使用
		3.代码规范
		4.其实很多的学习都是知道他们本身提供的接口，
			那么接口可以在用到的时候再去了解学习对吗？
			可能大部分接口是，但是现在最好让他熟悉一部分
			哪部分？
			我如何通过提需求的方式让他实现这些知识？
			那么很实在的就是，按照后面要做的给他提出需求0
		5.多线程？
		6.这倒是提醒了我一件事，什么事？ 
			一般下面的人是不会主动报告的，如果你不安排紧凑，那么下面的人一般会敷衍。
		所以我这个计划需要严格一点。
		
		下面：
		1.面向对象 
		V2.svn 
		V3.代码规范 
		4.WPF WinForm
		5.多线程？
		6.委托事件泛型这些进阶  这些可以放在后面遇到的时候再学也可以吧。
		7.目前的培训要求，如果学到wpf这一步，其实已经算入门了，那么就可以开始学习revit二次开发的东西了。
		
		
		
	4.那么下面就是revit的二次开发了吧
			学习revit的二次开发的话，那么需要做些什么？ 
	下面安排的任务：
	1.看revit开发视频来对revit进行二次开发
	2.安排开发任务，任务需要考察的知识点：
		1.Revit二次发环境配置
		2.根据参数化族按一定规律放置族
		3.对族参数进行赋值
		3.创建面板
		4.WPF的使用
		
		5.
		6.
	3.	
			
			
				
			
			
			
	4.沟通能力，还行。
	5.
		
	clear
	
V-->HYBIM客户端内测版安装步骤：
	1.正式安装包安装；
	2.注册登录->相关产品，下载进阶市政版；（该步骤注册会注册到正式服务器）；
	3.在下载目录（点击设置按钮可以查看路径），找到客户端，用管理员身份运行；
	4.重新注册并登录（该步骤注册会注册到测试服务器）；
	5.下载HYBIM For Revit 基础版；
	6.点击运行，如有登录页面，输入第二次注册账户即可使用。
clear
	
-->现在遇到的问题是什么？
	我现在无法在Reivt上面正常调试我的Common组件里面的一个函数，在编译的时候没有报错，但是却在实际运行的时候出错了。
	而且只在那个引用的dll里面出错，
	当我换了一个测试程序引用dll的时候，不报错。
	
	我难点是revit的原因？
	把我的dll排除了？
	不太可能啊
	
	之前是可以正常运行对吗？
	现在我重新加载一个版本试试？
	
	我感觉是因为合并版本而出的问题，
	
	我现在的问题是，直接换了一个代码版本一样的报错？
	那么现在试试重启电脑？
	无效，
	现在的情况是，无法使用Revit使用我的动态链接库
	如果是测试程序是可以正常调用的，
	但是换成了轨道项目就不可以。
	
	那么我换一个呢？也使用到Common的地方看行不行，
	
	现在是什么情况？
	我有一个版本的进度条是可以的
	那么我试试DataConverter可以不可以使用
	
	看来仍旧无法使用这个DataConverter
	这就很奇怪了不是吗
	
	现在将代码
	这个问题有可能是由于在内存里重复加载Common.dll的原因。
	在别的及其
	clear 

V-->1.先修改代码 
   很多地方都使用到了创建铭牌的函数，那么一般思路是将processForm也当做一个参数传递进去咯？
	这样的可能会修改了他的原函数，感觉可能对后期的修改也好都会造成一定的问题，那么怎么处理比较好？
	1.
	2.使用一种静态的方式？
		后面有可能使用多线程来运行进度条，那么这个时候，单例模式将再适用。
		那么我想做的是什么？
		1.不使用单例模式，但是又可以使用静态的方式或者其他的，将函数放在某个地方?
			这样的话就一定得有一个区分的标识
		2.那么只能使用传参了？
		3.使用一些反射什么的技术，获取到反射的类？ 如果使用泛型，那么他们都比较继承同一个父类。
		目前来看，使用传参的方式是能解释通，也是最简单的。
		那么就这样吧，先使用传递参数的方式，只要调用类型多的地方，都使用这个调用方式。
		如果到时候类型和方法完全分离的话，那么就需要重构，需要使用继承的关系。
   V2.再做安装包
   V先做一个安装包出来吧，以便使用。
   
   
clear 
	V1.进度条空窗体
	V2.取消按钮位置
	V3.程序运行中
	V4.提示框图标
	
	66666666
	829j1
	可以使用了，
V-->现在服务器端是什么情况？
	1.目前只有一台电脑上面使用了最新的，布置 
		这个布置数据库是连接的他们的数据库，后面需要安装自己的数据库，使用sql文件进行结构数据还原，并且把连接字符串改为自己的
		那么上面运行dynamoCli的部分可以调通吗？
		他们启动了我们dynamecli.exe这个程序
		然后这个程序通过节点来加载dll,进行一些列的操作。
		那么我这里，dynamocli启动到加载dll计算的操作是可以通的吗？
		可以通。没有测试？
		最好走正式测试一下。
		需要些什么？ 如果单独测试运行dll的部分，那么文件就好了
			局部无法测试，因为现在的代码是都跟他们的guid有关系。是和服务精密关联的，所以不行
		如果要测试整个流程的话会有问题吗？
		如果我的dll那一段没有问题的话，那么照理来说整个流程都可以通的
		如何测试，那么就走一个完整的流程，
	系统网页端测试问题：
	1.创建项目填写完信息后无法提交，提交报错系统错误，请稍后再试。	
		报错以后，无法再次提交。
	2.项目列表、个人信息的图片都无法显示
	3.个人信息页面 手机号是admin
	4.用户角色是一串编码
	5.管理员点击123x 管片/轨道 疏散平台 接触网 环网支架等均无反应。
	6.
clear 

V-->1.进度条显示问题
	是否可以改成多线程来启动进度条？
	现在为什么会有卡顿的现象，是因为在启动processbar的线程是生成族的线程，所以会
	我如果可以通过线程来启动，那么我也需要进行线程间的通信，也就是保证两个线程操作的processForm为同一个对象，或者使用委托之类的来进行线程之间的传参。
	
   V2.测试网页端exe
		目前第一个有Bug，所以暂时无法继续往下面测试。
   3.CDM墙的问题
	 在这个周之前把墙的定位点的识别做出来，当然是靠加班时间了
	 1.首先评估一下工作量，毫无疑问工作量肯定是有的
	 2.环境？ 
	 3.如果我没有得到充足的休息时间，那么我当然能够有足够的精力去应对。
		比如晚上我吃完饭真的很需要休息，但是休息了一会以后，我还是可以熬出一点工作量的
		如果是全职，那不用说，我现在已经有很好思路，下面的工作就只是实现而已
		实现是肯定可以实现的，有一点不太想让你考虑的就是就算你不实现，那么他们可以手填，只是这会花费更多的精力，到这里当然就是编程价值体现的时候了
		周末呢？周末如果在不严格对待一下自己，那么经过几个周的试验，你大部分会变懒，如果没有约束，大部分会变懒，趋向于了无生趣的生活。
		所以这就是为什么你得来公司加班的原因
	 4.周末来公司加班把墙的处理掉
	 5.CDM跟据楼层来区分的问题。
	 都参考板的代码。
	 什么时候可以处理？
	 一晚上应该是可以的，但是我
	 
	 我要达到的目的是：
	 根据他的-来将楼层进行分割，
	 他之前板是怎么实现的？
	 在外面有一个循环，也就是通过切割的
	 
	 板标识
	 
   V4.我需要加异常捕获的吗？ 能捕获肯定是最好的。
   V5.
	69818
	71815.957
	
	DynamoCLI.exe
	DynamoCLI.exe
	
   V6.将自己电脑上面的版本拷贝上去。
   百度云盘
	ftl430#fygj11f
	西城BIM研究院
	
   V7.现在处理插件的多版本问题：
	1.问题是什么？  
	多版本的族问题？ 
	那么也就是一个加载多版本族的问题
		1.搜索一下加载多版本族的解决方案？
		2.其实在不同的文件夹去找一下对应版本的族就可以了
			也就是在运行到加载族的时候，得看一下当前运行的revit版本是哪一个，然后去对应的文件目录加载族。
		3.或者搜索一下加载兼容族的问题。这样高版本永远对低版本创建的族有效，后面就只用做一个低版本的族即可。
		
	2.做一个多版本的安装包？
		这里的多版本指的是，多个专业版本
	3. 
	
	解决冲突？
	因为架构较多，可能将某些行 单独保存，然后再revert，然后再集成 
	
	下面继续完成墙的定位点的，第二是完成墙的excel部分，
	尽量让第二个比较重要的东西和第一个区分开来，
		我第二个真的需要和他们在一起吗？
		其实没有必要对吧，
		反正他的工作部分并不是这个
		所以应该让我自己来完善
		当然我也可以完善。
		
	早一点发给他们excel是最重要的。
	板：axis:
	8                            25
	 1.6671271087689127E-08,	0
	 1200 ,						2899.9999999628635
	
	12195.097465595252,-18856.547740495422
	13395.097465595252,-15956.547740532558
	
	轴网都是同一个是正确的
	
	v那么第二个就是我读取板的定位点正确吗？
	v也就是直接读取的时候有问题呢？ 
	v轴网的问题，X没有问题，只有Y有问题，
	v03开始往下偏移了，
	
	板的正负值
	现在处理一下墙定位点的问题：
	今天先调试一下墙的定位点的问题，然后再处理一下算量的问题，最后还有一个假的导出固定excel的需求。
	
	0{(28364.6812428796,9187.24649341796)}
	1{(27664.6812423923,9187.24649341796)}
	
	2{(27664.6812423923,9487.24649341796)}
	3{(27464.6812423531,9487.2464934223)}
	
	4{(27464.6812423466,9187.24649341796)}
	5{(26764.6812423617,9187.24649356828)}
	
	6{(26764.6812423574,8987.24649356828)}
	7{(28364.6812428796,8987.24649341796)}
	
	{[1, (27664.6812423923,9187.24649341796)]}
	{[3, (27464.6812423531,9487.2464934223)]}
	{[5, (26764.6812423617,9187.24649356828)]}
	
	{[2, (27664.6812423923,9487.24649341796)]}
	{[4, (27464.6812423466,9187.24649341796)]}
	{[6, (26764.6812423574,8987.24649356828)]}
	{[7, (28364.6812428796,8987.24649341796)]}
	{[0, (28364.6812428796,9187.24649341796)]}
	
V1. 8为0，其他都是对应之前的index
V2. 
	{(22214.6812433148,17787.2464923879,0)}
	{(22214.6812433148,18087.2464923879,0)}
	{(22014.6812433195,18087.2464923802,0)}
	{(22014.6812433388,17587.2464923879,0)}
	{(22814.681243083,17587.2464923879,0)}
	{(22814.681243083,17287.2464926151,0)}
	{(23014.6812430832,17287.2464926151,0)}
	{(23014.681243083,17787.2464923879,0)}
	
V3.现在定位点应该是对的，但是轴网有问题，
	那么查一下轴网偏移的问题。
	{(18614.6812423458,17687.2464923879,0)}
				18614.681242205741		
	
	X06 
	17387.246492579579
	17687
	
	Y04
	18614
	18614
8条横轴X，25条纵轴
34
问题找到了，是因为轴网中用了一条多段线。
	
	realReal:
后面可能还需要一个求角度的

realReal:
旋转的角度 

realReal:
倒T为0度 

realReal:
左标倒的T 为90度

realReal:
右边倒的为-90度

realReal:
只会+-90这样的变化

	A21301-002-1705-AZ1-8

+		[0]	{(35664.6812424284,14387.2464919155,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[1]	{(36614.6812426719,14387.2464918565,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[2]	{(36614.6812426906,14687.2464918565,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[3]	{(36414.6812426864,14687.246491865,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[4]	{(36414.6812426802,14587.2464918689,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[5]	{(35464.6812424408,14587.2464919279,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[6]	{(35464.6812424098,14087.2464919279,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[7]	{(35664.6812424098,14087.2464919155,0)}	Autodesk.AutoCAD.Geometry.Point3d

我现在感觉，有一些是错的有一些是对的，为什么？
我的逻辑怎么样？

首先Z和反Z的判断是对的
	然后就是定位点会有问题，
	 反Z
+		[0]	{(36614.6812428267,17787.2464918265,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[1]	{(36614.6812427958,17287.2464920537,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[2]	{(36414.6812427957,17287.2464920661,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[3]	{(36414.6812428143,17587.2464918389,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[4]	{(35614.6812430701,17587.2464918885,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[5]	{(35614.6812430818,18087.2464918808,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[6]	{(35814.6812430771,18087.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[7]	{(35814.6812430585,17787.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d

+		[0]	{(35814.6812430585,17787.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[1]	{(35814.6812430771,18087.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[2]	{(35614.6812430818,18087.2464918808,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[3]	{(35614.6812430701,17587.2464918885,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[4]	{(36414.6812428143,17587.2464918389,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[5]	{(36414.6812427957,17287.2464920661,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[6]	{(36614.6812427958,17287.2464920537,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[7]	{(36614.6812428267,17787.2464918265,0)}	Autodesk.AutoCAD.Geometry.Point3d
 
+		[0]	{(35814.6812430585,17787.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[1]	{(36614.6812428267,17787.2464918265,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[2]	{(36614.6812427958,17287.2464920537,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[3]	{(36414.6812427957,17287.2464920661,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[4]	{(36414.6812428143,17587.2464918389,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[5]	{(35614.6812430701,17587.2464918885,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[6]	{(35614.6812430818,18087.2464918808,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[7]	{(35814.6812430771,18087.2464918761,0)}	Autodesk.AutoCAD.Geometry.Point3d
	
+		[0]	{(35664.6812424284,14387.2464919155,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[1]	{(36614.6812426719,14387.2464918565,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[2]	{(36614.6812426906,14687.2464918565,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[3]	{(36414.6812426864,14687.246491865,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[4]	{(36414.6812426802,14587.2464918689,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[5]	{(35464.6812424408,14587.2464919279,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[6]	{(35464.6812424098,14087.2464919279,0)}	Autodesk.AutoCAD.Geometry.Point3d
+		[7]	{(35664.6812424098,14087.2464919155,0)}	Autodesk.AutoCAD.Geometry.Point3d
	
	clear
		QL1 200x250
	
V-->	进度条显示调节环网支架，
	V显示上中下。
	
	显示区间##
我怎么才可以让进度条不卡顿？
	只能是让他和revit运行的线程独立，
	也就是，就算我的revit卡了，进度条窗口应该还在运行？
	进度条的show()函数是和revit的计算进程在同一个进程的
	进度条的更新进程可能是另一个进程，
	这个进程做什么用的？接受传入的operCount然后更新
	
	能不能使用create+guid的方式？ 
	让一种类型拥有一个进度条窗体，
	然后再在 独自的线程里面，show出这个窗体，
	然后再将operationCount 使用委托？ 跨线程的只能是委托吗？ 
	跨线程的传递参数是怎么做的？
	
	或者在外层是封装一个委托？ 如果是第一次，那么线程内对进度条进行初始化并show()出来，
	然后如果是后面的次数，那么就是把线程内的实例的operatCount +=
	这样就让show的线程和主线程不在同一个 线程里面了，而主线程是通过invoke将值传入到了 show线程里面。
	
	这样行得通吗？
	那就是使用委托了，
	
	现在理一下代码思路：
	1.这个开辟线程的应该放在哪？ 
		单独封装是必要的，
		然后封装进进度条窗体对吗？ 
		是的，封装进进度条窗体
		那么就是，提供一个static的CreateInstance函数，
		两个CreateInstance函数，一个是初始化，一个是直接获取，
		但是他们都需要一个guid来标识，
		这样没有问题吧？
		没有的，
		guid的临时生成的，存在了该次生成模型函数里面。
		里面放一个static的容器来装实例和guid，
		
	2.不，我现在要做的应该是，初始化一个Helper
	然后在Helper里面会有一个线程 
	在这个线程里面
	完成ProForm的创建、然后完成对proform的Operation++,
	
	会有委托，
	哪些委托？
	
	我现在想要做什么？
	我想要新建一个线程，然后启动一个窗体，然后让窗体一直运行，
	（如果使用System.process.Run()应该是可以实现的，对吧？因为这种方式是用了系统创建了一个窗体，我可以使用这种方式，使用这种方式的话，如何考虑传递参数的问题呢？
	使用委托可以吗？ 需要使用到异步吗？ 
	只要能实现，同步异步不是问题吧？ 问题是你为什么要使用到异步？
	使用委托不够吗？
	
	如果我在主线程进行showForm()，是可以show出来的
	并且照理来说我的这个ProForm的UI都是通过委托来实现的，所以应该对，我现在是在这个程序的进程里面卡死了对吗？ 有可能启动了一个reivt，会启动多个进程，所以我这里卡死也不知道是什么原因。不必深究。
	）
	X有一种新的思路是将运算的程序使用后台线程，这样来说才是最符合逻辑的，但是这种情况，并不一定会受到revit的支持，revit不太支持多线程运行，现在也是使用了外部事件的方式。才可以进行多线程。
	因为计算涉及到了修改文档，那么肯定就只能在主线程进行运行了。所以不再考虑这种思路。
	
	我现在的设计思路是：
	启动一个线程，然后在这个线程里面，调用委托，
		在什么时候去invoke了这个委托，
		然后就初始化了这个form,
		然后 我现在一直保持form所在的线程一直是运行的状态，
		from是可以一直运行的，
		下面需要做的是什么？ 
		1.试着传递一下参数，目前看来只能通过委托来实现参数的传递，
			那么如果只能是通过委托来传递的话，那么我就需要把窗体所有可能用到的交互的地方都使用一下委托，
			没有关系，只要能实现，现在就实现一下OperCount的plus
			
		2.
		
	X启动一个线程，然后在这个线程里面直接初始化并showForm
		这样的现象是线程在showForm后，form一闪而过，而这样的原因是因为线程运行已经结束，所有form可能是被回收了。
	现在好的一个现象是，我的程序主线程在继续执行，根本影响不到后台线程的东西。
	
	管片轨道如果在使用生成模型的时候突然取消掉，这应该还好的，
clear
	-->3.如何做一个alpha版本？ 
		1.alpha版本需要联网，
		2.alpha通过调取网络时间来进行校验，如果超过时间，则将软件将无法使用
		
		3.alpha的dll需要加密
		4.
	
	4.其他任务
clear
V~-->CDM还有哪些东西需要处理？
	1.安装包
		1.那么CAD端需要一个安装包需要实现自动加载dll 
		2.算量软件easy
		3.Reivt端，需要实现自动加载，编译一下看看是否需要修改代码吧
		
		
	2.软件加密
	3.
clear
	ljSyLicheng
	ljSyXuanbi
	ljSyZhijia
	ljSyJiechuwang

V--> 幕墙线需求
	V1.交互数据组织：
		在cad图纸里面的表现将是一个二维数组，
		但实际的其实也只是，两个数组，一个横向，一个竖向。
		每个二维数组又应该有他们的名称，
		那感觉组成json更合理？
		"":""
		因为层级关系，还是组织成Json比较好：
		组织样例已经有了，
		那么如何展示比较好呢？ 
		或者直接将这个删除？ 不太好吧？
		
		展示的应该还有些什么？ 
		V1.选择横向按钮
		V2.选择纵向按钮
		V3.修改组数据
		V4.修改组名
		V5.可以扩展
		V6.（是否反转）
		7.
	V得使用控件的Binding功能吗？ 
	如果使用Binding功能，那么意味着，我不能直接转成Json,
	而是通过手段进行拼接。
	
	那么最多就多一个转换的？ 
	那应该无所谓，反正他们也不会修改Json，修改遵循一定的规律，那么遵循我的规律也是可以的。
	那么就是我怎么方便怎么来了。
	首先创建一个类
	这个类有些什么属性？ 叫什么？
		
	直接使用DataGrid可以吗？ 
	
	使用DataGrid，那么我的距离数组怎么办？如何展示？ 如何修改？
	使用字符串的形式应该是最好的，
	不要担心解析的事，转储和解析是很简单的。
	那么我就改成字符串好了？ 
	可以，直接使用字符串来表示。
	
	然后在外面使用DataGrid就好展示了，
	如何展示？ 
	每一行代表的是一个CurtainDim对象，而列有GroupName VDirecString UDirecString 
	无所谓了，
	
	我这个如何布局？ 
	最好是全部使用StackPanel
	反正我这个大小都已经无法调整了，那么
	
	现在大致的布局已经好了吧？ 
	
	V2.cad操作设计：
		在cad里面进行框选，当然得提供一个校验的，至少展示是需要的
			Xcad框选的时候，把右边的排除，也就是把y值大于右下角标注的排除（右下角是X最大Y最小）。
			X但是有时候是把左边的排除，这个确实很难选，那么就左右都放上去？分成两种，一种是X小于左下角的标注，一种是X大于右下角的标注
		窗口最好还是非模态的，然后是单例模式，键入命令如果没有就初始化一个，如果有直接展示，
		当然 应该显示窗口和拾取应该由两个命令控制，
		
		那么窗口里面还需要一个拾取按钮？是的
		或者导入按钮？以前保存的数据，是的
		
			x框选还得排除一个最大的，也就是总标记，
			x该标记有什么特性：
			x那么只能假设我的XY是可靠的了是吗？ 
			x他这个标注还真的不一定，
			x那么我只能进行分层咯，然后取最里层就好了。
			x
			x逻辑就是，dbtext的定位点，然后根据XY 分两边，再根据不同的X和不同的Y分别进行分层。
			x如何分为XY两边？看来还是要用X和Y相同来区分？ 
			x还好他们的XY应该不会重合，
			x
			x最里层如何辨别？ 是X向比Y向的Y要大或者小，
			xY向的比X向的X要大或要小
			X1.他是其他集合的总和（当然这样肯定还不够靠谱）
			x2.他的Y和其他的不一样或者他的X和其他不一样，
		
		现在设计为：
			分别框选横向和纵向，自己去排除其他项，
		32*32 
		960+64=1024 

	V3.展示名称，展示框选得到的二维数组，
		直接用字符串表示行不行? 应该也是可以的吧？
		所以可以直接通过修改字符串来进行处理，
		导出或者导入，都应该支持？ cad支持导入和导出，而revit也支持导出导入，
		导出按钮会有一个默认的文件名称，
			X我可以一个dll通用吗？
			X这倒是挺有意思的？如果我的两个程序集加载了同一个dll，那么它肯定会对dll进行占用，所以这样不太好。
	V4.Revit生成，探究一下应该就好了吧？
	V5.如何确定位置这些，查一下API
		竖挺、幕墙网格，都是严重依赖 幕墙的，
		当 幕墙被删除的时候，这些也将不复存在，
		
		按照范描述的方式是：
		1.在幕墙上创建 U 和V 
			 然后再放置竖挺？竖挺不用放置 
			 
			 我现在已经创建了V的，是竖向的，
			 现在创建U的报错，为什么？ 
			 如果我创建的V，其实也可以 
			 看来还是点的问题。
			 我的点，可以在面里面，但是不能在非定位线的边缘，
			 都可以，按比例和实际，那如果方便的话，我这边安装比例会比较方便。
			 如果有细微的偏差应该是无所谓的，反正他本来也是有偏差的。
			 so，
			 下面还有一个问题，那么就是 竖挺的位置问题了，
			 米为单位，那么直接赋值就好了。
			 现在还有什么问题吗？ 
			 好像没有什么问题了
		2.
		
		横向应该小于800
		
		
		
	现在我已经有了这个节点包，
		看来确实是可以实现的，
		那么现在我肯定是可以生成这个东西，
		
		((LocationCurve)loc).Curve as Line
{Autodesk.Revit.DB.Line}
    ApproximateLength: 32.808398950131235
    Direction: {(1.000000000, 0.000000000, 0.000000000)}
    GraphicsStyleId: {-1}
    IsBound: true
    IsCyclic: false
    IsElementGeometry: true
    IsReadOnly: true
    Length: 32.808398950131235
    Origin: {(-23.073182208, 76.716404207, 0.000000000)}
    Period: '(((LocationCurve)loc).Curve as Line).Period' threw an exception of type 'Autodesk.Revit.Exceptions.InvalidOperationException'
    Reference: null
    Visibility: Visible

		
	6.
			Measurement	900.00002443522681	double
-		trans.GetObject(EntRes.ObjectId, OpenMode.ForRead)	{Autodesk.AutoCAD.DatabaseServices.AlignedDimension}	Autodesk.AutoCAD.DatabaseServices.DBObject {Autodesk.AutoCAD.DatabaseServices.AlignedDimension}

		
		
		1050.000,950.000,950.000,900.000,900.000,950.000,950.000,1050.000

	下面：
	V1.把导入导出的完成了
	X3.然后在cad端再做一个 选择后（弹出）或者直接添加上去的逻辑？ 
	要看上面有没有了，如果没有呢？ 这个逻辑是可以做上去的。
	会方便很多，如果能找到直接选择多个的，那么当然最好了，但是现在的问题就是选择不了，很尴尬。
	V2.先多尝试一下能否选择多个的
	批量选择现在还不是一定好用，因为也需要排除，其实单个选择也可以接受的。
	可以使用多选
	
	V4.处理一下Revit端的逻辑。
	
	5.整体的功能逻辑已经完成，那么下面开始满足发布项：
		1.CAD插件如何发布？
			可以让他手动netload，然后加载一次以后，生成一个菜单栏，
			应该来说只加载一次应该是可以的吧？ 试试 
			如果可以，那么只需加载一次即可，
			也就是做一个菜单栏就好了。
			
			
		2.
	





clear 
V-->族加密的控件，
	把TreeModel改一下即可，
clear 
V--> 软件加密：
	现在的加密情况？
	1.我直接使用简单的加密可以处理，
	ConfuserEx 
	anti ildasm
	antitamper
	constants
	ctrl flow
	anti debug
	rename
	
	2.CDMLibrary用了加密再脱一层的方式，Common直接加密
	
	AutoCAD2016 R20.1
	
	看来这种方式可行，通过修改注册表的方式，
	那么上次做了cad的安装包是怎么操作的？
	1.首先是使用complicate那个文件，
	然后在里面写了使用管理员生成运行，
	然后找到reg文件，并替换其中的内容，然后运行注册表，就可以了，
	但是我这里直接采用修改注册表的方式吧，那种方式也不是不行，当然是可以的，但是印象中好像不太好。
	
	现在我已经大概值知道了一些逻辑套路，这些东西还是教给馨悦去处理的，
	也就是通过安装程序run .vbs文件，然后检测86还是64，然后找到对应的注册表值，然后再修改一下已经准备好的.reg文件里面的路径值，然后在.vbs里面，运行该注册表。
	写入进去即安装成功。
	
	友好肯定是有那么一点不友好的，而且好像需要弄成管理员身份运行？（也不太确定）
	
	那么我可以回去找到完整的一套脚本才开始制作也不是不可以的。
	那么剩下的时间先处理一下其他的安装所需加密的dll以及exe吧。
	
	V2.还有一种加载方式你还记得吗？ 好像是将写注册表的东西写进了程序里面，这样就只需要加载一次了。
	其实这种方式也挺不错的对吧？ 看看，但是目前没有找到，
	那还是放弃这种方式吧，下次如果想手动安装，点击运行.vbs或者 直接运行注册表就好了。
	
	现在安装包的准备资料都有了，
	
	现在制作一下安装包，
	先从简单的做起，
	那么就是
	V1.客户端 
	V2.revit端，有示例，
	V3.现在情况良好，我已经有了基本的思路，所以暂时havearest,that's ok 
	V4.我需要知道他们哪些电脑上面安装了cad2015，然后我得看看注册表的样子，
	R20.0
	AutoCAD 2015

HKEY_LOCAL_MACHINE\SOFTWARE\Autodesk\AutoCAD\R20.0\ACAD-E001:804
	
	至于civil3d，看一下最好了，
	目前我采用了直接运行注册表的方式，
	这没有办法了，估计以后都得这么操作了。
	我现在这个阶段安装有两个问题：
	1.未使用管理员身份登录电脑，然后会导致无法实际地运行reg文件。
	2.如果路径中有空格，即使手动运行注册表也不行，
	3.路径包含中文不行
	4.revit必须是19，因为族文件是19
	6.cad好像很多版本都是可以的，
	7.现在徐梁的电脑使用cad2020，使用注册表的方式明显无法自动加载，只能删除注册表cad才可以正常使用，但是他电脑可以使用手动netload的方式进行装载，并使用。
	clear 
V-->这边的其余项我需要做些什么？ 
	1.修改treeView的viewmodel
		我这个是提交到哪的？ 
		轨道项目肯定是有了的。
		我有了的，这个修改，所以重新引用一下commom组件即可。
		那么如果我仍旧不太确定，就在
		
	2.吴海的继续探究一下吗？ 
		创建baseline的方式就那两种，
		当然可以通过查询api看看有没有其他的生成方式了
		
	~3.使用StackPanel整理布局
	
	V4.新开发的插件并入插件集
		整理一下发布版本，
		然后给他们装发布版本？ 
		其实也就是我的发布版本没有更新？ 
		我的测试版本目前是什么状况？
		
		现在的目的是为了能发布出一个版本
		V1.不管服务器上面版本怎么样，肯定都是不通的，
			然后现在需要使用最新的，
		
		V2.先通了再对发布版本进行加密
		
		本机先试试能不能通
		
		刚刚出现的问题又是什么？ 我应该什么都没有改呀
		
		我现在不需要去找以前的错误，
		我现在先把完整的版本发布了再说，
		V1.客户端安装包正式版
		2.Panel正式版
			V下载的Panel登录地址居然指向的是测试地址，有问题
			原来是配置文件出问题了，使用了alpha版本所以才会出错
			那么现在上面的版本是正确的了，
			下面是将最新的更新一下放上去，那么其他的会因为common.dll修改了后需要修改吗？
			看一下，
			Panel需要更新，
			族加密的需要更新
			Common? 
			
		那么现在发布版的都好像可以了吧
		那么测试版的呢？ 
		现在遇到一个问题，就是客户端好像能被反编译，而且加密不了，
		这怎么处理呢？
		使用别的加密软件试试
		
		看来里面的各个插件都需要重新编译一下了，
		3.
		
		
	V5.封装和注释，
	clear	
	
	-->5.看一下新员工的学习情况？ 
		感觉任务快完成了，
		那么下一步呢？ 
		这个是做了一个简单的Revit开发，
		下面又安排什么东西呢？
		还是继续学习吗？ 
		当然我们也需要人去产出，
	
	那你觉得他还欠缺些什么？ 
	V1.遇到问题和解决问题的能力，如何合理地使用百度一些技术网站来解决自己的问题；
		已有简单能力
	X2.他还需要知道一些工程知识？ 但是这点我基础支撑教学内容；
	3.他需要更加熟练代码，能够读懂别人写的代码；
		学习了冯的代码
	4.他需要能够修改我的代码
		目前能力达不到，而且也没有给他们锻炼机会
	5.他需要独立完成一些新特性代码（在有代码可以参考的情况下）
		没有锻炼机会
	V6.在没有代码参考的情况下，查询API或者查找资料的方式实现
		袁平具有
	7.独立架构、重构一个小功能项目
		无架构或者重构能力。
	8.通过任务发布学习各种杂项，如：如果需要安装包的制作要会一点，X服务器知识
		既然学习了数据库和robbin，
		那么肯定得把任务安排上，
		V1.数据库任务：
			1.考察知识点：
				1.创建数据库
				2.创建两张表
				3.数据的增删改
				4.查询，左连接
				
			创建两张表，然后支持增加数据库字段的东西，删除数据库的东西，然后修改数据库的东西
			最后查询，然后查询的时候，需要使用到左连接的查询。
			
		X2.Robbin面板
			创建面板，
			然后两个按钮分别有两个不同的dll功能
			1.一个是生成笛卡尔集
			2.另一个是另一个dll的，展现数据库相关的功能模块，展现数据库的如果可以，使用可停靠面板来处理。
		V3.将这个写成功能需求文档发出去比较好。
	clear
	
	V-->cad的插件发布需要些什么？
	V1.Robbin面板
	2.加密
	3.发布方式
		V1.因为是通过客户端下载，所以在客户端实现reg文件的运行是最好的，正好客户端的路径是不错的，是吗？ 
		但是不太一定哦，如果把reg放在了，C/ProgramData下面，能不能正常运行reg文件？ 
		或者运行完了以后，
		我启动cad是否可以加载进入，C盘？ 很难说，
		可能得试一下？
		测试一下再说，如果不行再做一个默认的cad插件集存放的位置，比如说D盘，
		其实这样还算是挺友好的，
		那么就是先测试一下C盘，如果有问题再试试D盘，
		如果是手动加载好像是可以的
		
		但是自动加载会报错，可能是因为启动app就加载，结果菜单栏还没有加载吧，
		这个问题已经处理了，
		idle+=就好了。
		
		所以现在的情况是，主要注册表成功写进去了以后，那么我的插件是可以正常加载的。
		所以下面：
		V1.完成客户端下载完了以后，运行注册表项	获取到注册表所在的路径然后还得修改并保存。
			先修改注册表项，再运行注册表项
			
		V2.完成启动cad逻辑，
			有可能会有多个版本的cad，这个时候应该怎么办？ 
			如何启动这个注册表是一个问题，
			首先我弄成了安装包的方式去启动，很明显有些地方会出错，没有正常运行
			我的客户端肯定是可以读取到注册表的，而且更加友好不是吗？
			
			现在还跟客户端有关系吗？好像没有了吧？ 
			V所以现在把客户端加密一下放到服务器上去吧。
			
		V3.之前是只做的是revit的，现在需要改改变成区别启动的是cad还是revit，
		4.用户操作：
			1.点击产品列表，然后会自动检测电脑上面安装的版本
				能用一个xml文件吗？或者json，怎么方便怎么来，那么就用xml？xml并不是很方便呀，用一个text是最方便，但是这样组织可能会有问题，对了，之前更新就是用的version.xml，那么我这里还是用一样的好了，这样的话我也可以对比当前版本和服务器版本是否一致，这样就可以更新了。
				所以使用
			2.然后如果已经有了安装版本，如果版本不一致就切换到更新，那么直接选择项就变成运行，那么强制更新吗？目前最好是强制更新比较好。
			
			3.然后弹出目前电脑上面的版本，cad版本或者revit版本 
			4.选择版本后运行程序。
clear
	
	V-->5.先处理客户端的自动更新吧
			客户端自动更新逻辑，
			目前是一个exe文件，
			那么更新就需要一个额外的程序来控制exe的运行线程了
			我可以把之前的东西集成过来吗？
			应该是可以的，
			当然这个需要花一点时间进行改造，当然是比从头开始快和好一些。
			
			第二个插件的更新，插件的更新一般不会很频繁，是吗？ 
			不一定，如果是现在的建设其实更新应该是蛮频繁的，
			
			总共的更新程序，有哪些需要处理的东西？ 
			首先我先分为客户端的更新了插件的更新
			V1.客户端
				1.客户端的更新需要依赖另一个独立的更新程序
					1.需要看一下程序的运行逻辑
					2.需要看一下服务器端的逻辑，
					3.基本需要通过反推，看一下需要使用到的数据库逻辑
					4.其实不一定使用到了数据库，使用一个数据库可以干嘛？
						对本地的一些服务进行配置，其实这个配置可以通过服务配置来处理，但是也可以通过，
						但是我怎么处理比较好呢？ 
						当然是通过数据库来进行处理了，
						我目前需要做些什么才可以让更新逻辑走通：
						1.服务器端，
							1.需要获取版本信息的接口，这里应该会涉及到数据库，主要是配置更新所在文件目录，其实这个也可以通过web的配置来实现，但是如果以后其他的，那么更新不就不太好用了？ 
							其实好像也不太一定吧？ 目前来说客户端只有一个，
							那么加数据库是为了更新插件的？ 插件如何进行更新比较好？ 
							当然也需要调取webservice来检测版本了，
							
							所以服务肯定是统一发布的，而路径这些信息，可以存入数据库，将来好配置。
							所以这里需要使用到数据库的方式来进行配置。
							
							2.实现的目的是，架构好一次以后，以后的插件和客户端的更新是只修改服务器文件夹，如果新增那么就修改数据库。
							.GetUpGradeVersionInfo("uploadclient", ref strMsg);
							GetAllUpGradeFile("uploadclient", ref strMsg);
							3.GetFileStream(PublicClass.strUpdateExeName, strFile, ref strMsg);
							4.asthelast shipsealed towwards the distant horizon,Isat there and watching on arock,
							mymind slowly driftaway,forminginto the dreamtail.
							lately I've been hardtoreach,I've been
							
							
							
						V2.客户端，进行大致的修改改造，然后调试通吧。
						V3.独立更新程序，
					clear
					
-->V2.客户端需要支持插件的更新
					1.打开相关产品页面获取到本地版本，然后与服务器版本进行对比
						服务器上面的版本好获取，那么本地的呢？
						首先服务器上面是Panel，然后会有一个描述版本，现在需要做的就是，每次加载panel的时候，去判断这个更新，那么就不需要把更新做进每一个独立的插件里面去了。cool 
						所以其实也并不是很复杂，
						那么关于如何检测本地的版本呢？ 
						如果用户没有修改过默认的安装逻辑，那么都在C下面对吧，是的，一般情况用户不会安装的时候一个安装C盘，另一个安装D盘，一般修改好一次应该就好了，当然这个可以通过重新安装来
						
						但其实却是存在这种操作，那么根据默认的路径来查找肯定是不太友好的。
						第二种
							1.如果是Revit，根据addin所在目录查找，这样应该可靠？ 也不一定是100%的可靠：
							用户安装了多个版本的revit，那么我有可能每一个版本都有我的插件，但是没有关系，我只需要找到其中一个指向的位置即可。
							这个逻辑除非遇到了修改安装逻辑的情况，不然应该是不会有问题。所以小概率的问题就忽视掉好了。
							或者把所有的都列出来，然后查找一下？ 看看本地是否安装了两个不同的panel版本。大概率不会发生，因为我这里只会发布一个版本的panel，然后每次安装会覆盖前面的。
							所以针对revit，我这里通过查找addin所在的位置，然后读取addin，
							
							2.针对cad，
								1.那么找到cad注册表所读取的插件路径，这个总不会错的，
								安装的时候选择了哪个cad的版本？ 还是所有的cad都安装了一下？
								好吧，所有的cad都装了一遍，不过指向的根目录是相同的。
								那么我也只需要分析一下，一个就好了。
							
								2.那么在什么时候取提示用户更新插件呢？
								目前我只做在了一个dll里面，然后dll会在软件启动后加载，
								那么目前我只用在dll装载的时候去提示更新就好了。
			3.插件启动软件端
				插件段的加载是通过先启动dll，再进行加载，如果直接植入插件，那么其实并不太好，即使是只植入进panel，因为他们都是在软件打开后再进行加载运行的，
				所以插件端应该通过客户端去更新，
				1.当用户打开客户端的产品页面的时候，检测一些各个类型插件的更新状态，
					那么就是所有的版本都需要更新了，
					然后本地会有一个存储插件版本的，服务器上面也有一个存储插件版本的（暂时不使用数据库，而是直接是xml文件）
					1.那么这么做有一个坏处是如果用户是直接打开软件的方式，那么将不会更新，
						不过这个可以通过更新提示，那么这样的话，一个软件就要做一个相应的更新提示了，（插件有更新，去客户端更新）
				
				启动软件端采用提示的方式，而不是关闭软件强制更新，最多只能限制用户使用旧版（但是目前没有什么必要）
				
		HYBIM.Client.exe hybimclient HYBIM.Client.exe  v1.0 http://HYBIM/HYBIMServiceFiles/HYBIM.Client	
		V我现在无法调试，说的是不支持互嵌
		V用了线程去启动下载，用了线程去实际下载，
		而现在实际下载线程无法返回下载状态给启动线程
		因为我最后，
		
		这个最后还是在下载的时候忽略掉第一个文件目录比较好，
		怎么操作？
		
		现在是什么情况？ 
		我这边应该没有其他的问题了吧，
		假设我不小心把所有的问题件都拷贝上去会有问题吗？ 
		应该是没有问题的，就算文件在被占用，我这边会trycatch，看看，不会
		
		~当然现在我的测试版本并不是很好，没事，服务已经搭建好了，测试的其实没有关系，等后面有流程了再处理也是可以的。
		更新失败 v1.000下载失败，因为我在服务器放了一个更新的exe，就报异常了。
		具体原因未知
		再试试
		好像是程序的问题，目前已经没有出现了，
		下面处理一下dll的更新问题：
		采用哪种方式去更新插件？
		可以交流一下：
		看来避免不了的是插件端必需要做一个更新的提示，X或者直接更新插件的方式，
		
		那么接下来：
			V1.先完成客户端更新插件的逻辑，
			
			V然后处理一下插件端是更新提示
			
			V2.最后花一点时间写一下年度总结
		clear
	V批量添加参数：
	V1.判断Code的第一个是族还是参数，然后后续行都为同一类型
		1.族的时候，
接下来：
V-->发布的插件上周五加了两个修复项。
	1.关联参数 
		使用的时候，当前编辑文档为目标文档，
	先试试功能好了，
		有很多递归嵌套的东西，
		那么我下一个，
		
	之前的设计为什么会选择是在项目文件里面，
	而且是通过选择实例后再选择关联，
	
	而现在需要改为，首先活动文档就是一个族文件，
	然后在族文件找到该族的参数，族文件里面也有很多族，然后遍历里面的族及其参数，然后勾选里面层的参数，传递到该族文件。
	那么值呢？ 里面确实有很多的族及族实例，那么参数值是怎么个传递方式？ 如果有冲突，就变成了多合1的参数，
	那么该族到底可不可以直接将该族自带参数修改值呢？ （不管可以不可以，等到了项目里面，那么大家的参数都一样了的，也不能说没有意义，但是肯定也有不适应的情况，你的意思是有适应的情况了？ 
	适应什么情况？ 
	如果我是一个code，公司，这样的参数，我传递进来其实是好的，因为其实不太影响，
	当然，如果是针对单个的高度，
	也就是我想修改里面族的高度，我需要在项目文件选择到族实例，然后修改改族实例的参数，然后这个族的参数又和内嵌族的参数关联起来的，
	那么就达到了我直接修改族实例，然后修改内族参数值的效果。
	
	）
	所以这样的设计有没有有效果并不影响，这在之前的程序逻辑里面已经是设计好了的，
	而现在需要做的，并不是修改这个设计，
	只是将选择族实例这一步去掉，直接在编辑族的文档里面进行 遍历族参数，该族的需要吗？ 不需要的，那么就是遍历内族，及族参数，然呢？ 再继续遍历内族和族参数？ 
	手动操作试一下，
	一般的族里面可能只有本族一个，没有嵌套的族在里面，如果是这样，我根本不需要做任何关联族的操作，
	族里面，还有一些嵌套的族的情况才会，
	（假设我之前的逻辑都完好的，absolutely it is，也就是我根本不需要修改以前的关联逻辑？我只是把当前的选择族实例逻辑改成，遍历族文档？ ）
	1.去掉选择Revit族按钮，逻辑功能改成，获取当前族文件的内部所有族实例？ 
	2.因为使用到了static的一些东西，如果多个窗口必定会造成混乱，这里如果最小的重构代价那么就是单例模式，
		其实应该把static的全部变成单例。
		还是说只是局部的单例？
		局部的单例有点难，
			因为无法再外部事件再去调用具体实例的东西，当然其实也可以实现的。
			
		全局的单例比较简单。
	如果不做单例，混用的时候会报错，因为两次并不同步。
	
	单例模式吧，单例模式，可以吗？ 可以，但是每次都要用最新的文档咯？ 
	当然的了，
	那么这样其实也可以了。
	那么现在我使得每次都只能有一个窗体，所以用不用static已经无所谓了。
	用了也不会报错，
	
	那么下面就传递参数的了，
	
	现在族里面调试通，然后再考虑一下项目里面的情况，其实就算给项目加一下参数，当然是加不了的。
	所以再看了？ 是的， 
	
	展示的时候，没有展示当前族的参数，一般情况是没有参数，而我需要做的是给这个族添加参数，不展示也没有关系的。
	我勾选了两个，一个内族的t，一个内族的内族的h
	
	这样的逻辑下来，可以给里面的参数进行传递了，
	应该是成功传递了，
	没有报错，而且也匹配上了。
	
	V那么我需要做的，无非就是再给当前层级进行一下参数的传递。
	V绑定呢
	那么赋参呢？
	1.看一下如何获取参数的默认值，如何设置赋默认值
		 
	V2.看一下项目里面如何区分出来,调用familyManager会自动异常，continue就好了。
	我可以让每一个参数都带一个它的默认值在tag里面去，
	现在的问题是如何获取和如何设置？ 
	默认的可能无法进行传递，但是实例的肯定是可以获取到的吧？ 
	
	可以使用重载吗？ 可以使用同一个函数吗？ 
	
	switch，传入类型参数，然后获取参数值，获取的参数值可能是不同类型的，
	
	String类型 对应AsString()
	ParameterType.Text
	Length double asvaluestring/asdouble  850/2.7883139  L_YY_W
	Angle double asvaluestring 9.65°  0.16839.....
	Integer int asv 301 asdobule 0 as integer 301 
	number  double asdouble =asvaluestring =0.02
	Material ElementId    asvaluestring <按类别>
	Area   double 		asvaluestring 10000.00m立方  3543146.66...........
	YESNO int 	asvaluestring是， asint 1 
	
	现在通过最内族的实例来做来，
	
	参数赋值的后面再说好了，
	
	现在有什么问题呢？ 
	
	修改默认参数目前没有找到
	，只能通过修改实例参数来处理，
	
	首先我打开的是族文件，然后遍历了其中的族实例 
		然后编辑族实例的族，也就是打开了族文件，然后遍历其参数并记录，
		遍历参数的同时，*获取到了该族实例的实例参数值，
		
		在关联参数的时候，打开的仍旧是族文件，然后遍历族实例，然后编辑实例的族，
			遍历该族的里面的实例，然后编辑该族，（然后就是添加参数操作），遍历所有的族参数，添加由上层参数集传递下来的参数，
			*然后给该族实例赋参，参数值均等于传递出来的参数值。
			
			所以当是从文档层为1层获取到内一层2层传递的参数的时候，我无法对自己本身进行赋值的，但是这个操作又不在递归里面实现，所以暂不考虑。
			
			当是从3层传递到2层的时候，这个时候的族实例是1层的族实例，1层打开族实例就是2层，
			所以传递3到2的时候，实例是一层的。那么参数也应该是对的，
			
		然后遍历记录的参数，
		
		现在是什么情况？ 编辑族的时候明明有新增，但是实例并没有显示有该参数，不知道该实例的参数值是多少，
		
		我为什么会觉得难，是因为我没用用对实例，
		现在，换一个实例好了。
		
		1.我先把赋值的调通，然后再按参数类型修改一下代码逻辑。
		2.先需要找一个合适的案例来进行测试，
		3.现在发现在事务外Set值好像有点问题，那在事务内去set的话在哪set比较好？ 
		X4.默认值确定是无法实现的对吧？
			可以实现的。确实是探究的方向错了，之前都是实例参数，这个是通过familyManager设置的参数，而且只有在族里面才有。
			目前探究是方向来说无法实现，
		现在是什么情况？ 
			如果没有关联的，确实可以通过值传递出来，
			但是一旦关联以后就会把默认值清空（在族文件里面会清空），里面清空是合理
			但是最重要的是最外层族文件的该参数无法设置默认值，
			这样就变得有点问题了。
			好像不是那样的，暂时不用管吧，让不关联的加上值的有一个默认值也挺好的。
			V而关联的，就在最外层赋值就好了，使用FamilyManager进行赋值
			X那么我现在试试在项目里面呢
			现在的问题是什么？ 变成了，如何找到对应的parm来复制的问题了，
			
			也就是传递parm，
			
			方法是可行的，也就是仍旧是参数的问题，
			
			那么下面想办法找到参数即可，
			是因为关联以后，自动将值置空了，什么意思？ 
			首先这个是从哪来的？ 
			从cheaked项来的，
			其次，用到了哪？ 
			用到了关联上面
			为什么会用到这个值？ 
			必定会用到，因为是有一个关联的操作
			那么我只能提前记录一下这个值了，在关联以前，
			毕竟我赋值只有一次，
			
			并不是所有的都可以用一个参数来搞定，那么就用上个周调试的结果来处理了，
			什么类型对应什么类型的set，
			弄一个switch case?
			V先测试一下，
			
			switch，传入类型参数，然后获取参数值，获取的参数值可能是不同类型的，
	
	String类型 对应AsString()
	ParameterType.Text
	Length double asvaluestring/asdouble  850/2.7883139  L_YY_W
	Angle double asvaluestring 9.65°  0.16839.....
	Integer int asv 301 asdobule 0 as integer 301 
	number  double asdouble =asvaluestring =0.02
	Material ElementId    asvaluestring <按类别>
	Area   double 		asvaluestring 10000.00m立方  3543146.66...........
	YESNO int 	asvaluestring是， asint 1 
	
	那么现在试一下storageType，
	String asString()V
		使用storageType并不能使我少些一点代码，反而带来了不确定性和探索，
		很好奇是好事，但是至少现在不是？ 
		说不定更好，所以还是需要试一试。
		
		无法编辑的族不显示出来，
		
		今天上午先把这个处理了，
		
		然后，然后看一下任务列表里面，
		快到下班的时候验收一下，任务2，然后如果还未验收成功，那么就修改一下工作制，加班完成任务。
clear 	
		遇事不要着急，冷静分析一下，找一下关联。
X~--> civil3d开发：
	他想要框选直接变成人行道，
	我这里显示的是什么？
	是Corridor吗？
	16个Cor
	不，并不是所有的都是这个
	14个对象：
	
	1个 Corridor（道路）
	13个 Features Line
	
	也就是一条道路由多条要素线组成了，
	
	他现在想实现的是，在道路特性里添加基准线，
	基准线？
	
	是先添加区域，再添加基准线？
	
	添加基准线，（选择要素线，和场地）->为基准线添加区域，（设置区域名称，和选择装配）
	
	先我如何设计这个命令？
	1.获取选中的要素线，
	
	2.如何获取道路？两种思路：
		1.和要素线捆绑在一起，就是选择的时候，要一起选择
			感觉这种好像方便实用一点
		2.单独列出一个框来选择道路
	既然绑定到一起，那么其实装配也可以绑定到一起，
	如果我获取到了该道路，我是否能找到他的样例？ 我是否能知道他的BaseLine的区域？然后区域所选择的装配？

	一条道路有很多基准线是吗？ 
	是的， 
	或者一张图纸有很多基准线，有些基准线是由素线创建，有些是由路线和纵断面创建。
	而道路和基准线是一对多进行关联的，
	而基准线的区域，是一对一关联的。
	
	目前的结果是并没有提供这个API接口，那么我还有其他方式去实现吗？ 
	profile
	再搜寻一下？
	X暂时放弃了，因为官方上的评论说没有提供这个接口，那么没办法。
	
	没有现成的api，但是貌似有描述的东西，
	现在我需要怎么做才能去实现这个功能呢？ 
	1.首先我遵循一下官方的回答，去仔细理解一下，他的表达的逻辑和代码，
		敲一下试试
	2.
	资料建议的还是通过featrues来创建profile和alignment 
	Featureline.ByObject
	
	但是看起来他是想通过baseline的featrueslines创建，featrueline?
	
	corridor有的到底是featuresline 还是baseline? 还是s?
	
	corridor 有的是baseline，
	corridor的创建必须有一个条baseline ，
	
	我现在通过道路的gecurve 创建了alignment 和profile，
	这样操作对吗？ 
	看起来不是很正确的样子
	看了一下介绍
	alignment,
	3个点可以定一个平面，
	alignment应该是多个不同类型的线来组成的一个线集合，形成一个形状，
	
	我现在看看baseline的创建到底有哪些，
	baseline 你还记得是怎么解释的吗? 
	是创建人行道的时候，需要一个条baseline，而这个baseline可以通过profile和alignment来创建，
	profile是横截面，profile 可以通过场地进行创建，
	而alignment应该是可以通过道路来创建
	
	创建，
	
	我现在遇到什么问题了？ 
	我无法通过要素线来创建横断面，
	我不知道横断面一般是如何进行创建的，和要素线又有什么关系。
	那么我的alignment是对的吗？ 
	这个alignment是从featrureline的gecurve来的，应该是对的 ，
	然后呢？ 
	
	我最终想创建的基准线，而基准线的创建有两个要素，一个是横断面，一个就是alignment（我理解为线组），
	我创建线组使用了featureline的gecurve，应该是可以的吗？  照理来说如果alignment指的是平面上的话，那么我应该还差一个平面才对，
	所以我现在需要考虑的是，
	如何通过alignment来创建，
	但是现在看来，我通过要素线创建出来的东西，应该是curve，而不是，真正的 alignment或者是profile，
	那么问题又回到了这个，
	为什么我需要通过alignment和profile来从创建基准线，
	1.首先api就是这么提供的，
	2.基准线，在实际创建的时候，可以通过选择要素线线创建，也可以通过，
	基准线的类型有 路线和纵断面
	/要素线
	alignment为什么是由场地来创建的，alignment到底是什么？.
	
	网上说是可以通过 路线和纵断面来创建baseline的
	那么现在的问题仍旧是，如果通过featrueline来创建路线和纵断面
	首先，featureline，创建路线可以吗？ 应该是可以的对吧？
		feattureline，CorridorFeatureLine可以创建，场地可以创建，
		corridorFL 是连接道路点，然后共享一些特殊的code， 而featrue lines 是用来创建道路的3d模型的，
		这看起来定义有非常相关的东西，如果转换可能得通过点来进行转换。
		可以导出为alignment，可以导出为横断面
		或者polyline3d 
		
		那么这么说featureline 和 corridor的feature line 关系并不是很大，
		只是他们可以通过点数据进行一些转换。
		
		现在是什么问题？ 
		1.首先我得确定一下他是否确定要创建素线类型的 alignment，而不是只要有一个看起来差不多的基准线就好了
		2.如果是差不多的，那么也就是可以创建 路线横断面类型的。
		3.
		
		
		Autodesk.Civil.DatabaseServices.CorridorFeatureLine
	
	（我居然从来没有质疑为什么他要加这么多的基准线，基准线到底是用来干嘛的，有哪些特性可以用）
	他主要还是想创建出，
	答案是他是想创建出道路基准线，但是使用要素线的方式创建，会比较快，因为他可以决定没条要素线的高程是怎么样的
	相反如果是创建 横断面和路线类型的基准线，那么需要创建很多横断面，是非常不好（手动）操作的。
	
	所以我这里可以通过，提取要素线的高程还是什么的一些必要的元素，创建横断面和路线，
	
	现在是什么情况，
	1.我找到的方法是官方的方式，但是跟要素线并没有多大关系
	除非能根据要素线，去创建断面和路线。
	这个就需要知道要素线和 路线、横断面到底是什么关系了。
	就算我现在盲目创建出来，也是错的，因为并不是对等的关系。
	也就是目前我无法实现从要素线到路线、横断面的转换。
	所以呢？ 
	1.放弃等待api更新，
	2.搞清楚需求，想达到的目的，看能不能不通过要素线的方式实现，然后开发一个逻辑比较完善的自动生成道路的方式。
	3.
clear 	
V-->接下来：1.cookies的那个功能，
		首先他想要的是什么？
		在客户端运行中的时候，可以检测一下，也就是自动登录，那么没有客户端运行的时候呢？ 
		那么就让节点无法运行，
		那么他现在想要的判断逻辑是什么呢？ 
		1.如果不是自动登录，下线了就把原来的东西删除掉。
		2.那么上线了
		
	2.修改好了以后将
	3.
	4.
		C:\Users\admin\AppData\Roaming\Dynamo\Dynamo Core\2.0
clear
X~-->客户端的对插件版本使用的权限管理，		
	1.我现在有测试环境，我可以在测试环境中完成开发和测试吗？ 
	尽量
	2.我有些什么权限限制？
		1.如果不是发布给你允许使用的版本，你是无法安装的，
			安装提示：你没有“”的使用权限，请联系管理员购买或者升级。
		2.也就是检测没有权限就不允许下载？
			如果我换一个权限比较高的号，然后进行下载呢？
			下载后我不通过客户端进行启动使用。
	所以这里的权限限制可能得从插件的基础端开始，
	也就是1.Client 2.CAD插件启动端，3.Revit启动端 4.Dynamo启动端
	也就每一个插件都得设置一下权限，那么就应该封装进Common组件，以限制使用。
	3.也就是我的每一个插件里面都还需要附带一个标识自己版本的东西
		然后在用户加载这个插件的时候，就需要判断用户的权限是否足够使用这个插件。
	当然如果再考虑一下安全性的问题，那么这个标识还不能被用户轻易破解掉。（也就是不使用xml文档的方式，可能考虑使用编译方式来区分）。
clear 
	先搁置好了
V-->dynamo安装时检测一下线程里面是否有运行着的dynamo或者revit，如果有，那么提示一下用户关闭后再进行安装。
clear
--> 
	没有自动加载族，

	没有启动程序，也没有报错。
	
[Window Title]
慧远工程面板 - 提示

[Main Instruction]
C:\ProgramData\HYBIM\HYBIM.Panel\FamilySource\2019\里程.rfa不存在

[关闭(C)]
[Window Title]
慧远工程面板 - 提示

[Main Instruction]
C:\ProgramData\HYBIM\HYBIM.Panel\FamilySource\2019\风管标记.rfa不存在

[关闭(C)]
clear
V-->检测一下线程里面运行的dynamo或者revit，如果正在运行，建议关闭后重新下载。
   现在看起来之前的示例代码并没有关闭运行中的程序一说，
   更新逻辑：
   1.在开始运行程序的时候，检查一下是否需要更新，如果有，那么启动更新程序，
   然后本程序关闭，
   2.获取到上一个程序传递的参数，其中包括上一个程序的程序名称（只是为了启动使用）
   3.会检测下固定名称的更新程序是否运行，然后如果运行了，会弹窗提示，已经运行了更新程序。
     使用OpenMutex函数，检测一下运行程序是否多开，
	 如果没有多开，那么为该程序创建同步互斥，也就是只允许该程序只允许一次。
	 如果有多开了，直接返回true，那么后面就不用再次打开程序了。
	 所以我的印象应该是错了，他没有从线程上杀死程序，而是自己关闭的。
	 那么我可以使用OpenMutex函数来检测线程里面的是否运行有Revit或者dynamo吗？ 
	 我现在实际看看：
		1.在Revit里面实例运行Dynamo，会在Revit线程下面新开一个进程，也就是运行Dynamo的进程，但是无法从名称什么的得知开辟的是Dynamo。
		2.如果直接运行Dynamo，那么会直接新开一个进程：DynamoSandbox，里面有一个子线程和在Revit里面打开创建的子进程名称一样。
	所以我只能通过检测线程里面是否有运行Revit或者dynamo来进行提示。
	那么现在的问题是如何检测呢？ 
	我应该可以通过OpenMutex来检测线程里面是否有运行，
	我并不是要让这个软件只执行一次对吧？ 是的，并不是。
	那么先了解一下这个函数会有哪些效果
	这个的目的是为了创建单一启动，好像并不适用，
	好像也可以，适用OpenMutex，因为它能检测运行数量。
	这个函数是否会加一个单例的锁呢？ 
clear
v-->消息发布，实现windows弹窗
	1.是在消息发布的实现弹窗？如何设计这个功能？
		1.我可以实现弹窗，前提是我的窗口一直在运行着
		2.我发布一条新的消息，然后马上进行弹窗？ 
			X那么也就是时间问题？ 
			X当我获取到这个条消息的时候，首先看一下时间？
			X也就是超过时间之后就不弹了？ 
			X弹窗的方式有多少种？
			X1.所有的消息都弹一遍，最多只弹一遍
				
			V2.只有刚发布的消息才弹，也就是有时间限制，
			3.可以确定的一点是，消息只需要弹一遍。
				我如何实现这一个功能呢？  
				首先如果我是就近时间弹，

			，我标记一下这条消息的弹窗状态，如何进行标记？ 
			对以及弹过的消息，如何进行标记？使用本地记录guid之类的好吗？ 
			也就是在本地存了n条消息的guid，然后每次获取服务器的时候也会获取n条，
			然后比对这这两
			比如说邮件是如何通知的？
			1.其实也就是提醒一下，
			2.除非搞一个东西一直运行，不然不在线的时候是没有办法通知的，
				所以在刚登陆的时候，是否需要把所有的消息都通知一遍？
				其实好像也没有什么必要吧？ 
				假设不是技术的限制，你想如何进行通知呢？ 
			首先，我没有在线，那么确实不要发通知，
			让后刚上线后，不要发太多的通知，但是会有新的通知，
			最后，如果在线上，那么直接实时获取通知，
			（实时获取通知意思得不断查询数据库？）
			看看之前的通知逻辑吧，说不定可以给你提供一点思路。
			之前的通信策略是通过socket实时通信来的，
			这个方式确实可以实现，
			然后之前是使用的消息队列，也就是队列中没有了提示消息就不会进行第二次提醒了，
			那么目前如何实现这种方式呢？ 
			消息队列是在服务器端实现的，我如何在客户端进行实现呢？ 
			我可以还在服务器端进行实现吗？ 
				服务器端创建一个队列，
				然后查收会有一个反馈？ 
				然后从超过时间没有查询的直接清除？
				那么消息队列的消息会因为前面的等待时间而被判断失效吗？不会，因为根本没有关系，查询是多线程的？ 
				  但是之前有消息队列是因为有消耗者，也就是每一条消息只针对一个客户端，那么现在是一对多的情况，是吗？
				  那是针对=个体的对吧？ 
				  好像是的，所以现在可能不能使用消息队列来实现1对1的获取？ 
				  我现在是从服务器查询，我反正只获取一遍，
				  而且获取的
				  我能在本地建立一个消息队列吗？ 
				  本地运行一个消息队列，
				  然后获取一下所有的消息，
				  定时获取
				  然后将符合条件的加入消息队列？
				  符合什么条件？ 
					时间是服务器刚发出来的，
				  我没有能给服务器一个反馈，所以有可能查询出相同的数据行，那么我怎么去处理这些数据行呢？ 
				  首先我肯定有一部分是需要展示的
					-服务器提供一个接口查询消息，然后输入参数有一个就是时间，
				  其次，我一定不能将已经展示过的消息，展示第二次，
					如果我对消息进行标记状态，查询了一次以后就标记，那么这个标记对于单独用户间是无法起到作用的。
					除非把用户的id也记录下来，但是这显然是不太科学的，因为这会增加服务器的压力。
					
					那么就是我用户本地进行标记？ 
					首先我能获取的是消息内容，消息唯一标识，消息生产的时间
					
					那么本地呢？我可以通过唯一标识来吗？ 
					好像可以，运行期间我运行一个消息栈，用来存储已经展示过的消息guid？ 
					如果消息过期，我不能让消息队列太臃肿，所以也会定期清理，
					（已经展示的将清除，超过一定时间的将清除）
					而我增加消息队列永远都是查询出来的，
					那么为了解决查询出来冲突的问题，那么我就会比较查询出来的和已经有的，（这跟已经发送的没有关系）
					那么进行比较，如果不是重复的那么就放入进消息队列，
					让后将消息队列的安装时间逐条展示？然后清除？ 
					那么会有情况，就是清除掉了，但是我又查询到了以前发送过的，结果又加入进去了，
					所以清理只会对超时的进行清理，而不是对已经发送的进行清理，已经发送的标记状态，然后比较的时候，使用状态为未发送的来进行比较，就不会冗余？ 
					不正确，这样发送过的还是说不定会被标记会再发送，
					
					也就是说，我现在仍旧是得使用数据库来对消息进行标记，
					所以也就是说，我还是得通过存储过程，去处理这件事，
					也就是在数据库建立一个查询的存储过程，
					数据库创建额外的一张表，用来关联消息和接受者，并标识接受者的已读状态，
					接收者需要手动标记已读状态吗？ 不需要 
					所以我这里的查询条件是：
						1.时间
						2.未读？ 
						3.通知通告，原来都是把每个人都加入到了消息队列里面吗？ 
						这分单独做的还是统一做的，
						如果是单独做的，也就为每一个客户端开辟一条后台的线程一直去获取系统消息通知，
						那么如果对系统消息通知已读了，状态存在哪？
						我并不觉得系统消息通知会给每一个都显示已读和未读，那么岂不是每次都需要存储一个僵尸用户id？ 
						那么系统通知到底，等等，这样来说，系统通知也不是对每一个用户都有标记的功能，
						如果有，那么怎么实现标记？ 这是我关心的点，
						首先，如果跟用户没有关系，那么服务器不会存储用户的ID，
						所以这个肯定是把某个标记存在了客户端缓存里面，
						你到底想达到什么目的？ 
						1.我想系统通知跟具体的用户没有关联，
						2.我想要客户端定时接收到系统通知以后，展示一遍以后就不再展示第二遍，
						
						这样来说也就是客户端暂存的问题了，
						我目前的解决方案，如何去实现的：
						1.循环查询系统消息（会有冗余，也会有新的）
						2.比对消息发布时间（减少冗余，会有新的）
						3.展示消息，标记消息（展示一次以后进行标记，那么原理上只展示了一次）
						现在的问题是：
						4.如何完全规避冗余？
							时间只能减少冗余，
							并不能完全规避，
							如果记录全部的ID，然后进行去重，那么可以完全规避
						我现在想不完全记录ID，
						只记录部分ID，
						首先我的查询语句是查询当前的吗？还是上次查询时间以前还是以后？
						具体是如何使用时间来进行规避的，会不会漏掉？
						
						5.每隔30s执行一次查询语句 
						查询 30s以前到现在30s的
						然后查询到了5个id，但是都不会是30s后的因为还没有发布
						30s内将数据依次展示进去，
						进行第二次查询，查询了30s以前到现在的，不会有重复的？也不会有遗漏的？
							不好说，除非我30s查一次中间没有被暂停，也就是多开一个线程去查询，然后中间使用一个消息栈，
							因为是每30s访问，

			现在提示的方式变化了，
			1.首先在客户端在线的时候，如果有新的消息通知，会直接使用到这个icon来提示，
				关于消息提示的，需要新开辟一个线程来一直获取消息，这个线程和news页面独立，如果有了新的消息，那么就进行弹出消息框进行提示
					那么
					1.提示消息的格式又是怎么样的呢？ 
						~1.需要实现点击后自动跳转到消息详情吗？ 
						这样是非常不错的，但是目前没有必要做得这么细，可以放在后面处理
						2.消息提示提示一下大致的通知消息就好了
						3.
					2.
			V2.其次，在没有打开客户端的时候，不用在下次打开的时候提示新的消息
			X3.菜单暂时不需要增设图标，因为增设图标好像需要自己绘制，这个不是我目前的工作重点。
			
			4.或者我建立两个栈？ 
			5.第一个栈是没有发送的消息栈，第二个栈是已经发送的消息栈，
			如果查询到了新的就进新消息栈，如果已经发送了，pop出来进入已发送消息栈，
			每次查询两边的guid都判断一下，
			如果重复则剔除，如果没有重复就压入新消息栈，
			然后旧的消息栈清理一下，
			分析一下这样程序还会不会出现漏洞：
			1.首选我查询出来了，根据时间查询的，会查询，30秒到现在的，或者我首次查询30s，然后后面的每一次循环都查询，最后一条消息时间到现在？ 
			最后一条始终有一个guid，所以只需要每次都更新这个像指针一样的索引就一定不会有遗漏的，
			2.新消息栈，首先会用来检测一下，
			
			我现在担忧的是什么问题？ 
			害怕多个线程操作的时候，会对队列什么的有影响？ 
			应该不会，为什么？ 之前有成功的案例，
			我现在只是忘掉了之前的问题是什么，但是没有关系，我先按现在的思路来写吧，遇到问题再去深究一下
			
			梳理一下之前的运行逻辑：
			1.post到服务器，暂存到
			preview
			还有一个队列里面
			开始计算，等待，计算  
			是正在计算中的current，如果正在计算中的和没有超时，那么会继续等待计算完成才能返回post的东西，
			2.服务器不断运行一个启动计算程序，那是因为我没有配置好如何直接启动dynamo处理数据
			3.
			
	进度：
	1.我现在已经完成了消息的获取，
		我会单独开辟线程，每隔30s获取到目前这个时间前30秒(第一次)，或者是大于最后发布时间的的消息，如果没有获取到新的，那么不会更新以前老的，所以就是如果一直运行永远记录最后一次发布的消息。
		但是因为剩余了后面的秒下面的单位，所以会有问题
		也就是在秒下面的这短暂的时间内发布的消息，可能都会被查询为
		
	2.下面看一下如何去消耗消息，
		单独开辟一个线程去消耗对吗？ 
		最好是的，
		那么现在已经完成了消息的消耗
	3.现在开始测试：
		最好使用测试服务器进行测试：
		1.更新测试服务
		2.在本地将运行环境修改为测试环境
		3.冒泡测试
		4.	http://hybim/HYBIMserviceTest/Client/GetUserNewsAfter?userGuid=&beginTime=2021-01-20 10:18:38
		还没有登录
		所以应该把这个线程放到登录以后？ 
		再提示？
		funny，
		当然并不是所有的消息都需要登录后才能看见，
		或者我先进行登录，再开启线程？ 
		也就是把登录提前？
		首先打开软件先显示登录框是正确的，
		但是从软件设计的角度来讲，其实不应该一直展示在登录框，也就是因为它只包含了一个登录功能，而主要功能还是在Main窗体上面。
		
		所以应该及早释放。
		所以我这里的软件设计是没有问题的，只是我现在需要把消息通知放到登录之后而已。
		
		没事，没有登录我就不检测，也是蛮好的，
		
		使用了测试服务器测试，
		好像是可以了对吧，
		
		我这个客户端已经完成了，
		
		那么下面就是考虑如何
		给插件端加上了
		首先我能不能直接进行简单的封装一下？
		封装进common组件，
		
		统一封装进去common组件，
		然后在各个client端进行，调用即可，
		
		每一个插件的登录是放在了功能下面，
		但是这个不影响，
		user实例的创建，
		所以没有关系，
		那么就是，
		将newsvm封装进去，
		然后，在加载的时候启动线程，
		在结束的时候，结束掉线程。
		但是这个不一定好处理。
		好像没有结束的接口？ 
		找一下。
		Ribbon有这个函数的，
		
		oK,看起来都有这个函数，但是没有这个图标怎么搞？ 
		没有这个图标还可以实现吗？ 
		看看？ 
		看起来好像也可以
		
		现在试试把图标什么的全部封装进一个类试试，
		
		合并有些问题，
		试试，分开
		
		那么现在试着集成入插件端试试可行吗，
		
	V1.感觉通知有问题，好像有一条信息展示了两遍？ 
		v1.0.2 v1.0.3
		[v]....
		又出现了，
		
	V2.发布日期，改为有效日期可能会比较好
		现在我可以做默认发布日期，
		但是现在问题是
		默认发布的可以使用存储过程实现，
		
		那么我现在是一个什么样的发布状态呢？ 
		首先，以前的不用管，继续使用releaseTime,
		但是在发布消息的时候，首先判断有效期有没有过期，
		然后，和当前时间对比，
		如果没有过期则提醒，如果当前记录的有效日期小于该有效期，也提醒。
		  如果我设置为当前插入的时间，那么他会提醒吗？ 
		  如果我客户端在登录状态，他会提醒的，因为他记录的是上一条的时间，
		  如果我的客户端是在后面登录的，那么他不会提醒，因为他只查询当前时间的
		  
		  如果我将时间有效期改为很久以后，那么
		  刚登录和在线都会提醒。
	
		  目前我已经 完成了客户端消息提醒，
		  V1.现在试着调试一下 插件端的消息提醒能不能用
		  可以使用，但是图标也必须展示出来
		  
		  2.最好试一下两个并行的时候会不会冲突什么的，
		  不会冲突，一个是autodesk，一个会是hybim客户端。
		  但是相同的会提示两次。
		  
		  那么现在算了初步完成了这个功能的开发，
		  还需要什么吗？
		  还有cad端，
		  
		  做完以后还需要更新到正式服务器发布
		  
		  可以了，
		  可以发布了
		目前关闭消息提醒后就无法再开启了，
		当然重启又会开始，如果要实现关闭了开启其实很简单的，
		那么就是让现场一直while true就好了，然后根据isrunning来判断，
		为什么不处理呢? 是因为总觉得while true对用户不太友好。但是应该是没有关系的，
		那是处理还是不做处理呢？
		V处理一下吧，
		
		那么现在进行发布
		
		客户端需要更新，
		cad和revit插件也需要更新，
		
		先更新测试服务器试试，
		你可以下载测试服务器上面的东西吗？ 
		应该是可以的，
		
		bug:好像运行客户端运行了多个，为什么？是因为更新吗？
		应该更新的时候会
		
		为啥我先启动插件端再启动客户端就没有消息通知了
		把30s获取一次调小一点？ 
		好像是发布的消息的问题？ 
		
		V客户端为能正常退出，
		V消息仍旧在进行监听，
		
		V加密发布一下吧，
		
		现在还有些什么问题？ 
		1.加密？ 
		我可以试一下下载下来的版本有没有加密，应该是没有的，
		那么我也试一下，客户端可以不可以加密，
			目前加密会有一点问题
			1.加密后的客户端
			2.
		
clear 
服务器设计的东西，最好都不要放在内存里面。
因为会经常更新而重启服务。
v-->装配式桥梁
	1.做到什么程度了
		看一下
		已经查过了，钉钉上面是没有记录的，
		记忆中上次开发到耳墙这里了，
		然后桥梁只开发了一种类型,装配式的，标准T梁，
		Trello上面也没有记录，看一下最新代码，
		svn上面也没有记录
		那么最后只能查找文档了
		确实记录上面表示开发到了耳墙，
		那么现在最好的方式就是
		当前之前的面板还有很多需要修补的地方，
		那么就需要走一个完成的流程测试了
		1.1测试一下
		1.2开发到了耳墙，族不对
		
	2.卡在什么地方了？ 
	3.下面还有多少没有处理？ 
		1.很显然这里的面板看起来有点丑，但是我目前不知道如何设计比较好。
		2.项目信息没有展示东西，没有地方来看一个项目有多少标段，基点等。
		3.添加路线只能通过逐桩坐标来读取，还不支持通过纬地数据，直曲表等录入
		V4.桥梁全宽是多少？ 指哪部分？ 
			:桥梁全宽指的是，不管单幅还是双幅，然后所有梁片的宽度，这个为什么放在了标准梁型里面，倒是很奇怪，可能就是为了给用户看到整个的宽度吧？ 或者说是，给用户看到这个标准的梁型是给哪个桥宽设计的，
			
			那么一座桥
			不知道横隔板是哪个就看一下图纸，
			看起来非常地薄，是在梁上的？ 
				T梁横隔板，
			想想，这个是桥梁的截面对吧 
			跨径指的是顺桥向的长度。
			那么横隔板就是 横着的， 间隔梁与梁的，
			跟截面有关系，那确定没有错了，
			横隔梁个数，一般指的是，
		横隔板和横隔梁又是啥关系？ 
		: 同一个东西，可以通过位置来区分——中间的横隔板，在墩上的为梁。
			一般一个项目分为多个标段，然后每一个标段可能代表一座桥，
			他确实和路线是一起的，
		5.查看标准梁型库的时候，显示的主要尺寸字段和之前录入的并不一样，设计这个查看标准梁型库的时候，为什么又要修改一些主要尺寸的信息呢？ 这个就很奇怪了，他们照理来说是同一个东西的。
		6.这个软件显然不是给新手用的，如果不懂那些专业的东西，是不知道填些什么的，也就是对用户并没有引导性。
			软工更多强调的是针对哪些问题然后出哪些原则和策略。
			并不实际将软件设计。
		7.工程设置->支座页面，+=符号被屏蔽掉了？ 界面有问题 
		8.横断面是指哪个部分？ 
			看起来信息是录入的各种类型梁片段的相关数据，
		V9.湿接缝，横向和纵向，当然还有对应的干接缝，主要是为连接梁段，可能中间一些钢筋，然后通过现浇混凝土，把梁连接起来，
		V10.墩顶现浇 
		X11.布梁是干嘛的？ 最好加一个进度条
			应该是添加梁的，
			它只做布梁一个操作吗？ 
			为什么要先做一个布梁的操作？ 
			布梁其实是将数据整合，发送到服务器进行计算，然后得出数据生成模型？ 
		这个无法显示进度，因为是受到服务器速度的限制的。
		
		12.修改主梁平面布置，什么东西都没有
		13.生成桥梁模型，也需要添加进度条
		14.设置下部-台的显示有问题，是因为，族有点问题，
		~15.那么我如何才能生成之前那样的模型？ 
			如果是上部的话，用一些计算好的数据即可，只要数据正确就一定能生成出来的，
			那么就是找到正确的数据咯
			下次最好把能跑通的数据作为测试文档单独保存
			
		V16.我的下部如果没有台就一定是正确的吗？ 
			使用数据测试一下即可
			
		17.布梁没有成功但是却显示布梁完成，
			数据发送到了服务器，但是服务器并没有完成计算，
			启动程序是查询到了guid，
			那么可能是在启动dynamo的时候出错了？ 
			当然我用的正式的数据库在测试，
			如果要使用测试库，需要修改启动程序指向测试库。
			
			所以返回nothing，
			启动了的，服务器上面报错
			也就是上传的数据有问题
			数据我已经组织了的，并且应该也上传到了服务器，以至于为啥会错呢？那么就是服务器计算的问题了
			看起来都是没问题的，
			数据的东西还是咨询一下冯比较好。
			
		18.为什么我对项目不熟悉很难跑通一个项目？ 
			就是因为数据关联性太大了，没有足够对错误数据的校验，
			是不是我的道路点数据的问题？ 
			我无法独自完成数据的校验，因为我并不知道数据到底干嘛用的，怎么才合理。
			
		19.布梁只是为了计算得出数据，那么现在我直接生成模型为什么不行？ 
			点击生成桥梁模型应该是可以生成出来一系列模型，
			但是我这里没有生成桥梁上部，
			调试一下看看吧，
			实在也不知道为啥
			找一下，
		20.
		
		
	4.那么我之前有操作说明吗？ 
	我可以知道一些细节的操作，但是大的方向还是冯设计的。
	我有一些地方也不知道应该填说明,那么就按照本地数据库的数据瞎编一点吧，至于那个路线数据，再想想了。
	
	那么这样，数据都仿照之前的，
	然后把不懂的关键字都过一遍，
	把自己的项目业务逻辑方面整理清楚，
	whyyourbraingetlazydonotwannathinkaboutthis, 
	chaosinthere, 
	5.看一下数据之间是如何通过专业连接起来的
		1.一个工程包含了多个桥梁（标）段
		2.它还有自己的路线数据，而桥梁只是其中的一小段
		3.
		
	6.下一步：
		1.先把数据跑通
			先看看本地好的数据是怎么个样子的吧，
			录过视频吗？ 
			应该是没有了，
		那只能找找文件了，
		反正也就那几个编译目录，
		
			
			
		2.把能修复的想修复一下；
		3.还原到之前开发的节点。
			如果这个节点不是卡在你身上，那么也需要达到，如果他处理完了这个节点，你也完全开始继续进一步的开发工作。
			万事具备只欠东风的准备
	E:\NealWork\Codes\Panel\HYBIM\PanelAlpha\PrjDataFiles\2\temp桥梁下部d7c85d62-ca64-4ea5-99f6-092fa4839fea.rfa
	E:\NealWork\Codes\Panel\HYBIM\PanelAlpha\PrjDataFiles\2\temp桥梁下部ae84f6db-204f-4d1a-8799-0c90bbe53513.rfa
	E:\NealWork\Codes\Panel\HYBIM\PanelAlpha\PrjDataFiles\2\temp桥梁下部d7c85d62-ca64-4ea5-99f6-092fa4839fea.rfa
	 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.LbBrdigePiers_SelectionChanged(object sender, System.Windows.Controls.SelectionChangedEventArgs e) 行 874	C#
 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.CbisSameTieBeamSpace_Checked(object sender, System.Windows.RoutedEventArgs e) 行 1214	C#
 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.CbisSameTieBeamSpace_Checked(object sender, System.Windows.RoutedEventArgs e) 行 1214	C#

 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.LbBrdigePiers_SelectionChanged(object sender, System.Windows.Controls.SelectionChangedEventArgs e) 行 874	C#
 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.CbisSameTieBeamSpace_Checked(object sender, System.Windows.RoutedEventArgs e) 行 1214	C#
 	HYBIM.Bridge.dll!HYBIM.Bridge.GUI.BottomPartSetForm.CbisSameTieBeamSpace_Checked(object sender, System.Windows.RoutedEventArgs e) 行 1214	C#

	如何实现只重新生成一次？ 
	
	现在问题是什么呢？ 
	现在的问题是，我的右耳墙生成出来没有问题，也不会报错，
	但是我的左耳墙，因为多了一个斜交角度参数，导致生成出来报错而且，Y值并不正确，那么我现在如果把他们的
	Y值改成一样的会出现什么情况，看一下
	会往上跑，
	那么现在调整为0
	所以如果是计算得出0.49是正确的，
	但是，
	会不会跟旋转有点关系，
	-0.5是可以的，但是如果是-9.5 好像就不行了，
	所以现在的问题是什么呢？ 
	1.首先显示的冲突仍旧是重复生成台帽轮廓
	2.其次，它就是重复生成了台帽轮廓
今天：
	V1.在有数据的情况下，生成一下模型试试
	V2.看一下上次做到哪了，如果耳墙这个解决了，那么下面就是将台帽旋转180度的一个问题了，看看怎么处理，调试一下，生成台帽。
	V3.原来是开始的时候为了测试方便加了test文件，
	V4.那么下面应该是旋转的问题了，
	V5.如何旋转，绕什么旋转？ 
	6.那么就想镜像的问题了，
		镜像的原点已经知道，而轴是Z轴，那么现在还需要一个点或者方向来组成平面，
		这样才能进行镜像。
		按照两个柱子进行镜像，
	找找这两个柱子在哪？ 
	所以有可能不是在这里进行镜像，而是，在生成桥台的时候进行镜像。
	如果是在生成桥台的时候镜像
	那么合理吗？ absolutlyreasonable
	，但是我应该是把整个桥台给mirror一下，
	我能直接在项目生成的时候mirror吗
	那么就需要找到桥台这两个墩，有可能只有一个墩，
	所以不一定好找了，
	
	其实旋转的本来就有一个角度，
	也就是说，我直接取原图形的中心点和原来的，一个平面，看看是哪一个，不是X就是Y
	这个看起来像对通过点进行了mirror
	
	revit的镜像机制有点问题，
	
	好像规律是，如果你想上下方向的镜像是不对的，
	如果是上下方向的镜像会生成变成小孔成像一样地，对面进行翻转。
	
	我现在放着Z不管的话，就Z有问题，XY是正确的，
	那么现在我试着调整一下Z值？
	不用原点？ 
		全部+一个高程试试，加点的高程
	高程好像有一点影响？
	
	正负有关系吗？ 
	原来是9.5 
	现在是-9.5
	高程好像有关系的，
	为-的，现在更远了
	所以应该分开mirror
	也就是你高程为0的时候说不定就结合了
	明显，这个Z的时候还是会有影响，
	那如何处理呢？ 
	我什么时候可以在同一个平面上？ 
	
	我现在的问题是什么？ 
	他说我不能在族里面进行镜像，这样正确吗？ 
	当然不正确，我就是需要在族里面进行镜像，然后正常放到项目里面即可。
		当然也可以在项目中进行镜像，只是我无法找到那个镜像的两个点而已，如果我有柱，其实我可以找得到
		
	在族里面镜像我更方便查找到这个镜像的线，
	那么我现在使用的镜像的面正确吗？ 
	理论上是正确的，
	但是我现在得出的，结果不对，
	而且即使Z值都一样的，但是却受Z值的影响会升高或者降低
	mirror出来的模型
	Y相等的时候，镜像的模型居然是上下进行了镜像，然后镜像平面跟自身有关，为什么会出现这种情况呢？
	
	首先，他这个mirror函数肯定用起来是有问题的，
	
	我现在是在ViewDoc里面进行Mirror，
	然后创建出一个具有高程这些属性的实例，
	然后再加载进了doc？或者说这些实体本来就是在这里面的，
	那么我想证明和创建时候的高程有没有关系，我直接把他们的高程点设为000点就好了吧？
	试试？这样能说明什么？
	能说明和他本身自带的高程有关系？ 
	这样的话，
	对不齐的原因仍旧是他们的高程点并不一样
	所以，这个Z值也是需要通过计算得到，
	那么如何得到这个Z值呢？ 
	我现在可以清晰得看到，
	Mirror是他们单个实例创建时候的mirror(如果是xy的话)
	
	我能得出的结论是：
		1.我试图从ViewDoc里面直接进行Mirror是不行的
			他们mirror的平面根本就不是 ViewDoc的平面，而是他们各自有自己的平面。
	所以下面我直接在项目里面进行mirror一下试试，这样创建出来的，应该必定就是 ViewDoc的平面了吧，
	try it 
	可以生成，但是这个角度会有点问题，
	然后MirrorElement和MirrorElements是两个东西，
	
	V-->初始化设置下面页面的时候，只生成一次，先看一下都是从哪来的，
	初始化好像是有一次手动生成的，
	然后还有两次好像是因为combox的选择项改了，
	
	LbBrdigePiers_SelectionChanged
	LbBrdigePiers_SelectionChanged
		
	   cbisSameTieBeamSpace.IsChecked = true->CbisSameTieBeamSpace_Checked
	   TbmidBeamCount_TextChanged
	   cbisSameTieBeamSpace.IsChecked = true->
	clear
	
	V-->
	快速切换视图会直接导致无法捕捉的异常？ 
	
	看看是怎么回事，
	切换太快，
	显示读取位置时发生访问冲突
	应该是冲突访问同一文件造成的冲突，
	
	可能无法通过是否完成初始化
	而是看内存的回收情况来定，
	也就是切换的时候，应该先把文件的占用释放掉，
	在实际使用的时候，会按照顺序先后来对文档进行读写操作，并不会造成这个影响。
	clear
	
	目前软件开发更多是为了宣传，用户实际的使用还没有达到（当然也需要很多的细节和工作量），所有会有一些优化项，当然细节是很重要的，
	那么我的问题是我要不要完善这些细节的东西？ 
	也就是如何排软件开发问题的优先级？
	1.功能模块优先，
	2.BUG修复，逻辑完善程度其次
	3.亮点功能
	4.用户细节优化功能最后
	5.
	
V-->高亮显示
	1.先测试一下高亮显示，
		高亮显示长啥样，
		就是选择后的样子
		我现在好像无法实现在preview页面的选择？
		preview的实现思路：
		1.使用了这个实例化了一个preview，
		好像这个跟新实例化的 UIDocument 没有什么关系，
		UIDocument的
		他这里是使用的activedoc，
		那么我这里其实跟他关系不大，
		
		 PreviewControl(ViewDoc, _viewsDic[cmb.SelectedIndex].ElemId);
		
		不好找，UIDocument到底跟PreviewControl有什么关系？
		如果按照我自己的分析，就是没有关系，
		因为PrevitewContorl只是一个预览的，后台打开了一个文档，
		然后这个文档没有UIDocument
		当然我可以新建一个？
		新建一个UIDoc？
		新建一个UIApplication
		
		我可以这样测试一下，就是使用当前的项目视图来进行测试？
		
		如果当前视图选中了，然后preview里面没有选中，那么证明preview确实不能高亮显示。（这样强逻辑吗？）
		
		因为我是Preview，可能跟非preview有点关系，
		也就是 revit里面的其他视图，在选中以后，他总的uidoc没有变？
		他是怎么传递过去的？如果Uidoc只是指当前视图的话
		
		UIDoc到底是不是指当前的View？
		应该不是，View和UIDoc没有必然的关联关系。
		也就是说视图的切换，并不会影响到UIDoc对吧？ 
		我如何验证呢？ 
		我的UIDoc没有能选中的吗？ 
		2.我有第二种实现思路是直接将材质什么的修改一下，这完全可以达到高亮显示的目的。View当然会跟着刷新了。
		
		3.我通过测试了：在项目中，使用相同的代码，将生成后的构建进行高亮显示，但是在使用在Preview的时候就没有效果
		这当然完全可以验证我的代码的没有问题的，
		我在项目中也使用的new了一个UIDocument，
		但是这个UIDocument却可以起作用。
		
		所以问题是：我的View到底跟UIDocument有没有关联关系？
		我目前分析的是，我的View只跟Doc有关系，而Doc和UIDoc又是独立的两个东西，所以Doc和UIDoc没有关系，也就是View和UIDoc没有关系。
		
		那么反问一下，如果我要显示View，和UIDoc的操作是独立的吗？
		是的，是独立的
		因为我在UIDoc里面进行了选择，我不管是在哪个View都选中了，
		所以View其实跟UIDoc没有关系。
		那么Preview和UIDoc也没有关系，
		但是为什么它不能像视图一样去展示选中的项？ 
		我确定我新实例化了一个UIDoc，然后对元素进行了选中。
		但是在我的PreView的中，没有显示UIDoc里面的操作。
		
		View:Autodesk.Revit.DB
		UIDoc:Autodesk.Revit.UI
		Doc:Autodesk.Revit.Creation
		PreviewControl:Autodesk.Revit.UI
		
		又很奇怪，我现在如果用当前打开的视图作为perview的展示的话，当前视图展示的有高亮显示，那么preview也有，而且preview的旋转也会影响到主视图进行旋转。
		那么现在的问题的，我对ViewDoc进行实例化的，而且设置的高亮，为什么没有应用到preview上面去？
		照理说我也应该会影响到的，但是却不行，why，
		
		4.现在不再使用直接Selection的方式，改用修改材质的方式：
		那么首先，你需要先修改一下族文件
		在哪一集修改？
		X1.项目级
		X2.下部结构级 
		V3.具体的桥台，桥墩，墩柱，耳墙，盖梁级
		4.轮廓级？No
		
		1.代码里面创建材质，
		然后修改材质，并保存之前的材质
		。
		
		那么就是在编辑单独的一个ViewDoc的时候，来对每一个生成的模型进行修改材质操作，
		这个也好操作的，
		我只需要记录一下eleId，
		然后对这些FI进行赋参操作就好了。
			1.修改族，也就是每一个用到的族都需要修改一下，新增一个参数，用来控制是否highLight
				看一下是否的参数如何与材质来进行关联。
			2.找到族对应的控件窗体，添加相应事件
			3.
			
			1.在代码中创建材质
			2.看看如何修改材质
			现在是什么情况？ 
			在viewDoc里面创建的族实例，并不带有材质这一个属性，
			首先，我可以使用代码的方式来给它添加一个材质，并对其进行关联吗？ 
			比如说我在ViewDoc（桥台）里面创建一个族实例（台帽），而现在这个族实例，并不包含有材质这一个参数。 那么如果要有这个材质
			我需要找到最里层的族（模型），
			然后判断模型有没有材质，
			然后在台帽族创建一个材质来进行关联里层族的所有包含材质的模型，
			that's it.
			
			所以说呢？ 
			那么用代码新创建一个参数好了，专门来使用材质的参数，好了。反正到了viewDoc族是不需要创建的，而是给族实例（台帽）层创建，所以这个并不会对生成的桥梁造成影响。
			如果后面要修改那是后面的事了。
			
			1.判断FI有没有材料，如果没有编辑FI的族文件，然后给它增加一个参数，这个参数管理里面族实例的材质参数。
			2.
			3.
			4.
			6855103089745
			
			起始：440
			结束 760
			1200 600 
			600-440 =160
			
			先试试能不能用以前开发的插件的来进行关联，
			
			看起来也不要是很好操作？
			我要达到什么目的？ 
			1.首先我需要鼠标移到gb上面的时候，找到viewDoc里的对应构件族实例，然后高亮显示这一个族实例。
			所以就需要，设置该族的highLM为true，
			是不是就添加一个highLM就好了？ 
			还是构件族需要在里面也添加吗？ 里面应该是要的，不然好像光修改族实例的highLM还不够，要把最里面的材质关联到这个highLM上面去。
			
			关键还不是所有的里层族都有材质这一项，
			如果没有怎么操作？ 
			shit 
			还不好操作了，
			
			为什么有的族有材质，有的没有？
			
			有的，只是可能只有其中一个有，比如说耳墙，
		
			那么就是这样的了，如果当前的族还有内部族，然后会一直找到内部，
			所有包含了材质这一个参数，的都需要关联一下，
			只要里面有材质，外面就必须给这个材质关联一个highLM参数。
			
			so，其实也只是一个递归的问题。
			
			那么 参考一下，之前批量关联材质是怎么来的

	2.我完全可以在界面找到对应的构建，他们的分开的对吗？ 
		能找到对应的构建，其实也就那几个fs，
		找到生成的fi或者它的id，然后进行修改应该是可以实现高亮显示的
	3.
	
clear

V-->调通整个流程
	我现在好像差一个
	控件的排布是根据顺序来的。
	V记录一下当前测试所需的文件，
	现在流程跑得怎么样了？ 
	发送到服务器，但是计算有问题，
	那么我可以把数据文件发给他本地进行计算，
	然后如果我能拿到结果，并生成相应的模型，
	那么，也就是流程通了，
	然后再在跑流程的时候记录问题并修复问题，
	
	按流程行事
	
	那么目前是走到了计算那一步了，
	那么我这边无需等待计算，
	继续完成高亮显示，
	
	目前来说已经调通了整个程序
	1.下面是需要做一份真的数据
	2.桥台的生成好像还有一点问题，看看是什么问题，
		有可能是更新了内部族文件，然后加载进入项目的时候和原有的冲突了，
			（说不定可以通过修改族文件？把材质删除掉？材质可能是一层一层关联的，所以删除掉虽然是一个解决方案，但是有点繁琐）
		如果这个在用户使用的时候出现，那么应该如何处理？ 
		1.确定问题；
		2.研究规律；
		3.再出解决方案。
	
	3.继续完成桥台高亮显示的功能
		首先，将所有生成的族实例，使用kv的方式临时存储在内存里面，
		然后
		探究一下，如果修改单个族实例的材质，需要重新生成模型吗？ 
		逻辑分析是不需要的，最多就是刷新一下视图
		
		现在开始最难的，递归遍历族实例？
		然后，找到材质，然后在外层添加一个高亮材质，然后将他们两个绑定。
		
		为什么之前开发的插件在这里无法使用？ 
		需要族实例吗？ 
		应该也是需要的
		为什么？ 
		这一层刚好是台帽族本族，
			
		添加参数和关联参数是两个不同的函数，
		我应该可以拷贝过来直接用，
		那么为什么不能直接用了再过来呢？ 
		
		看分析是可以直接关联的，
		那么现在是什么原因？ 
		里面层好像没有了，
		
		如果用之前的会有什么问题？ 
		
		我这边基本不修改族文件，其实没有什么后果，只是因为我没有修改完善了，所以加载过来的时候显示无法加载，
		但是其实关联参数的插件是可以使用的，
		ok，那么我就试一下，是使用插件好一点还是写重复代码好一点。
		
		之前的插件，无法找到材质这个参数，
		看看是为什么？ 
		很奇怪，点击的没有名称，但是却有材质，
		或者他根本就不是一个族实例？ 
		
		那怎么处理呢？ 
		这就很尴尬了，
		形状图元？ 
		
		也就是不是修改材质了，
		而是修改族实例的形状图元了，
		真的尴尬了，
		
		设计错了，但是应该问题不大，
		至少知道了如果完全按照之前的代码修改材质的逻辑是走不通的，
		
		那么现在新的思路是，修改该实例，在该视图下的形状图元，
		其实也就是在三维里面对吧？ 
		
		其他的也不是不可以改，先试着实现三维视图。
		
		形状图元可能是一个Form,
		如果Form里面有一个参数，那么应该是可以的，
		我不一定是familyInstance的参数绑定到hlm，也应该可以是Form的参数绑定到hlm,
		尝试一下？ 
		
	4.在什么时候给族加上 highlightM
	5.当把族加载进入到这个视图族文件的时候，就应该马上加上一个，
		比如桥台，
	
	我想达到的目的就是，
	打开一个族，如果有族实例，那么给族实例添加上高亮材质，
	如果没有那么继续运行，
	再看看有没有Form，如果有From，那么好像没啥关系，如果把关联
	
	但并不是所有的ins都需要添加
	
	那么我存在着，既有form，又有ins的情况吗？ 
	这个时候我的ins到底有没有用呢？ 
	存在这种情况，而这个时候，我的ins其实是没有什么用的
	那么我是否存在两者都有，但是ins还有用的情况呢？ 
	目前看来是不存在的，
	
	那么我的程序逻辑就设计成：
	只要我遇见了form，我就不再继续深入ins
	那么我的这一层有form的这一层，需要给该文档添加一个参数，来关联form和实例参数。
	
	不要考虑太复杂了，就先按照这个来处理吧，休息一下。
	
	先调试一下目前的代码是否走通，
	
	E:\NealWork\Codes\Panel\HYBIM\PanelAlpha\PrjDataFiles\5320674c-7bd3-4862-9592-2efe59596daa\temp桥梁下部622df869-a5cc-4c4d-b4d7-cc7000c716f4.rfa
	9bd
	
	现在来看，有添加成功了也绑定成功了的案例，
	
	但是也有一些问题
	
	仔细测试一下，看看都是些什么问题，
	
	现在爆出只支持一个预览窗体的异常，
	如何处理？ 
	在创建实例的事物tranF提交的时候出现的，
	那么为什么会在这里报出错误呢？ 
	之前没有的时候会报出吗？
	
	测试一下，重启电脑还报错，应该不是内存的问题吧
	应该是代码的问题，
	
	把之前的注释掉也报这个错误？ 
	  看来不是那些代码报的错，
	  那么我看看我到底在哪里打开了多个？
	  在第二次创建实例的时候就报错了，
	  
	  会不会是因为族的的问题？ 
	  
	  我现在已经全部把族删除掉了，
	  
	  现在确实变成了，之前可以运行通，先不行了。
	  那么我能通过代码看出来是怎么回事吗？ 
	  
	到底是代码问题，还是族文件的问题？ 
	
	说不清楚
	首先我修改族了吗？ 
	生成耳墙好像修改了，
	那么好像没有上传svn导致 耳墙有一般没有生成出来，但是刚刚又生成出来了是什么情况？ 
	
	 刚才你注意到了吗？ 你已经打开了一个PreviewControl
	 看看，如何给取消掉
	 
	 可能就是这个文件的问题。
	 
	 如果注释掉是可以正常运行的，只是在生成第二个耳墙的时候，会报相同实例，
	 这个应该是因为之前的参数化耳墙族，
	 现在从冯发的文件替换过来试试，
	 果然是这个问题，shit!
	 
	 ok，现在绕一圈又回到原点了，
	 
	 下一步测试一下，会不会自动加参数进去。
	 有两种情况
	 1.嵌套族
	 V2.非嵌套族
		V非嵌套的时候，目前已经可以直接添加参数并关联上去，
	那么下面就看嵌套族的情况了。
	嵌套的如何进行传递呢？ 
	首先我里面一层已经完成了材质与hlm的绑定，
	然后再外面一层，我应该再添加一个FMP,然后把族实例的parm绑定到当前这层的新fmp上即可。
	
	补充完嵌套的代码，即可完成完成了技术点探究。
	现在测试一下好了，
	目前的情况看来好像是成功添加了参数，但是没有成功加载进入viewdoc，
	也就是编辑进入具体的构建的时候，是有这一个参数的，比如说参数化台帽，
	但是 在桥台（桥梁下部）就没有这个参数）
	
	那么现在我也不太确定到底有没有，我如何处理呢？ 
	那么我不再打开这个文件（有可能是我没有保存的缘故，），而是直接使用这个参数
	
	说不定这样是好的，省得我还想办法把它移除掉。
	
	果然是有用的，
	
	桥台没有，
	
	那么现在是已经可以成功添加参数了，
	那么下面应该是开始control的部分了，
	V1.先测试一下通过控件触发后会不会将视图更新；
	2.测试一下能否还原回去
		还原回去使用到的是系统材质，这有点困难，
		
		系统材质的获取方法和一般材质的获取方法不一样，
		那么我如果要还原回去，就可能需要使用到系统材质，
		他的材质是按类别，我现在看看如何获取这个按类别的材质，
	看来是获取不了，
	那么只能盲猜一个材质和它类似的，然后给它赋上去了，
	默认
		
	V3.然后将生成的所有Ins都加入到一个列表里面做好分类
		 MouseEnter="GroupBox_MouseEnter" MouseLeave="GroupBox_MouseLeave" 
		 
	V4.通过鼠标所在区域来触发视图更新功能
	5. 
	 下面：
	 1.测试；
		1.目前是墩的生成有问题，不满足约束条件，一般是怎么情况？ 
		我可以使用以前的吗？
		如果我把代码注释掉，那么好像没有报这个错误了？ 
		那么具体找一下什么原因，
		2.在桥台的耳墙的时候出错，看一下具体什么原因。
		3.在编辑“墩柱”的时候报错，已加载的族编辑失败
			地系梁是成功的
			
		4.报错了，但是错误（不满足约束）一闪而过，其实可以找找到底是什么原因，
		关键很奇怪的是，我打断点没有停，也就是看起来好像不是添加高亮材质的原因，但是如果没有，那么又是 
		
		目前调试，分析逻辑： 
		1.有可能是有些可以有些不可以，结果导致了生成实例的时候出问题
		那么如果我全部都是可以的，那么就不会出问题，所以现在的解决方是： 先把，为什么不能成功加载某个族问题找到，
		
		说不定我在查找，无法生成耳墙的时候可以解决这个问题？ 
		
	那么下面： 
	1.寻找耳墙没有成功赋参是原因；
		怎么查找？ 
		耳墙是唯一个嵌套的，
		那么看一下嵌套那部分有没有处理，
		然后看看族有没有问题，
		我设置了这个参数了，
		但是没有效果，那么就是绑定的问题了，
		也不是绑定的问题，
		
		那么还是revit内部问题，这个需要咨询一下冯，那么这里就算是没有报错了，
		
		由于多个版本的族太混乱，直接修改后保存好了，
		还无法直接保存，
		
		damn，无法直接保存，要先输入路径
		这就很尴尬了，
		但是这个时候，好像又有
		
		也就是最后一部没有载入进去，
		
	2.查找无法加载族的原因；
	
	3.查找一下生成墩模型时报错（不满足约束条件）的问题
	4.描述一下现在的问题：
		1.我无法通过修改最外层（耳墙）的材质直接达到修改高亮显示的效果
		2.我在初次编辑的时候
		  1.如果一层一层地编辑进去，是可以看到高亮材质有添加并且也已经关联上。
			
		  2.我在第二次编辑的时候，高亮材质和关联直接消失了。
		  3.
		2.第二次测试： 
			最外层有高亮层材质
			第二层有高亮材质族实例参数，但是选择的模型不包含高亮材质
			（这和第一次编辑的区别是第二层的模型是否包含了高亮材质）
		3.第三次测试：
			仍旧是第三层的族实例参数并没有高亮材质（）
			这个可能是由于检测到了外层的高亮材质后就不继续进入的原因，
			我可以做的是：1.从外层先修改高亮材质，把它删除
			2.修改代码，即使外层有了还继续往里面编辑。
		4.修改为了有高亮材质仍旧编辑
			效果：
			最外层(桥台xxxx)仍旧没有，
			第二层（参数化耳墙，取消参数绑定是可以修改材质的）
			重新绑定并载入进桥台xxx可以修改了，
			
			也就是 第二层的问题？ 
			我直接取消绑定然后再进行绑定试试？ 
			
			第二次打开的时候，高显参数丢失了，
			（逻辑分析：如果这里族实例参数使用的文件路径引用的话应该就可以解释通了，也就是只要我将编辑的第二层与第三层族文件保存一下就好了）
		5.现在进行第四次测试，
			重新生成文件，然后保存里层族文件，到项目文件夹，
		6.第五次测试：
			现在将每一层有绑定族都保存到文件并且手动载入到上一层
			但是在第二次编辑的时候，高亮显示参数总是莫名消失。
			
			这又是什么问题呢？ 
			这是否能说明，族实例参数使用的文件路径为引用路径是错误的？ 
			能，并非引用路径，因为我打开了族文件原来所在的位置，发现族文件是改变了之后的，
			
		7.第六次测试：
			我将保存的有参数的重新加载进入了外层，结果可以了。
			那么我是否是因为只载入到了上一层
			却没有载入到最外层的原因？ 导致残留有原先没有加载的族？ 
			1.也就是族并非引用成立
			-->X2.载入族其实只载入本层到上一层，而不会将内部的族继续带入吗？
				证实一下，可以用手动证实
				如何操作?
				当然是层层编辑族，给最内层族加入一个新的参数并关联，然后载入进入中间层，
				然后给中间层添加一个新的参数并关联，
				然后载入最外层 
				
				如果最外层编辑，中间层再编辑，不显示新增的参数，
				那么说明成立。
				
				测试：在内层添加了族，层层载入后，替换了新的，最后编辑的时候参数仍旧在，也就是代码加载不可以，手动加载可以。
				clear
			所以手动操作不成立。
			这是否符合我目前遇到的问题？使用代码添加了一个参数，并关联，然后层层向外载入，结果最后发现第二次手动编辑的时候，参数莫名消失。
				
			那么我先用已有的测试一下？ 
			我现在已经把关联的（第一次编辑）和非关联的（第二次编辑的）都单独保存了，
			X但是这个好像跟我证实猜想没有什么关系

			3.
		8.第七次测试：
			试着将所有修改后的族都载入到最外层试试，
		9.为什么我只有两层嵌套的时候会出现这个？ 
			一层嵌套的却没有出现这个问题		
			逻辑分析一下：
			那么现在我试着编辑一下我其他可行的族试试？ 
			也就是第二层的参数是有的，（当然好像那个也有）
			
			那个是最里层到第二层没有，
			所以通过加载到原文件说不定可以实现。
			
			
		10.第8次测试：
		X11.这个问题当然可以上升到去官网咨询的，
				但是英文表达不太好。
				确实太诡异了。
				
				这个问题是什么？ 就是我在使用代码添加并关联参数的时候，
				如果是文字参数会出现这个问题吗？ 
				文字参数也看不出来什么啊，
				数字参数？ 
				只有材料参数会这样？ 
			我需要测试一下其他的参数吗？ 
			或者去问问问题还不一定能得到解答。
			damn it 
		V12.我能否通过其他解决思路处理这个问题？ 
			1.当然是通过手动修改族文件添加参数并载入项目了
				只有嵌套族需要手动操作一下，其实也并不是不可以。
			2.
			使用了2019其他电脑，显示的是，并没有这个参数
			所以说问题可能是，应该把这个最里层的载入到最外层的文件试试，说不定就可以成功了。
	 
		V13.升级成了20的版本后，编辑直接是没有这个参数，这又是为什么呢？ 
			这个不是版本问题，而是新加的材质并没有存入硬盘里面，而是在内存里面，随后被释放掉了。
			可以通过关闭revit重新打开文件来验证
			验证正确。
		调用close(true)会直接丢失高亮材质。			
			
		X把上面的测试闭合了，如果实在不行，就使用半手动的方式了
		1.
		
	 2.闭合第二个任务
	 3.提交代码

	clear
	
clear		

V-->桥梁PPT
V1.使用当前模板，做一些内容填充
V2.内容不用过于详细
V3.明天早上就要
V4.作为宣传的东西语言尽量简洁有优化
V5.现在是通的吗？ 新走项目能通吗？ 上次测试是通了的，
V6.重新走个项目试试？ 
	还是卡在了生成模型上，那么就先完成下面的内容
	
V7.模型需要调试通，所有的界面 将底色绿色去掉并重新截图
	V我不知道为什么底色都绿色的
	
8.视频重新录制一个
V9.产品价值图片换一个

V10.需要走通项目，现在遇到的问题是什么？ 		  
	V显示无法生成墩柱。查询了代码是因为加载族失败的原因。
	1.应该是墩柱数据有误造成的
	2.模型加载的不进去，应该是内部的族进行了修改
	桩柱、台帽参数化族、参数化挡块、耳墙、参数化耳墙、
	
	就是内部族的冲突问题导致的无法加载。
	现在将上面的参数替换进桥梁下部就好了
	
	会不会是因为多一个参数的问题？
	不是，只要同步就可以正常生成了。
	
	现在正在走项目遇到什么问题了？ 
	生成的时候报相同实例的问题。
	
	现在是无法测试的，因为电脑在生成模型。
	
	那么1.换一台电脑操作
	但是他们都需要干活
	当然测试不是很影响？
	不太确定，
	
	先把昨天的点都修复了，遇到生成不了的单独拿出来生成。
	
	
	PierCenterNum
	现在生成标准梁、铺装和现浇
	tbstakeRoofHeight
	tbstakeDiam
	tbstakeLength
	
	首先，桥台没有墩柱，只有桩柱
	桥墩是有墩柱的
	
	墩柱在上，桩柱在下
	
	我现在的问题是 没有控制桥台的桩底标高的问题？ 
	
	我现在想控制的是什么东西？ 
	桥台桩的长度
	那么我可以通过哪些参数去控制
	两个
	1.标高（这个控制Z值）
	2.桩长
	其实这里已经有了固定的桩顶标高，
	而我需要做的，不管是录入桩长还是桩底标高，
	都需要要么将这个值直接替换为Z?
	
	这样不太好，还是多录入一个桩长比较好，高程就不用了。
	然后只需要将Z值减去一个桩长即可
	还需要加上一个桩长的参数
	
	现在的生成是通过桩顶标高，然后还有一个桩长来的
	
	但是我的桩顶标高现在是固定的，也就是放置点是桩顶还是桩底？
	用的桩顶高，
	作为Z？
	如果我输出100的
	也就是之前其实有计算过了
	
	现在：
	V1.添加文本框录入
	X2.使用桩底标高进行计算
		如何计算？ 
		首先我定位点是哪来的？ 
		有一个顶标高
		Z = roofH-L
		其次我的长度从哪来的？ 
		计算出来的                           
		L = Z-BottomH
	原来就已经有了                                                                                                                                                         
	
~11.生成模型的数据需要和马少他们交流获取。

我能让马少直接使用我的文件吗？

数据要调整，在他电脑上面调整还是我的上面调整？
X如果在他上面调整：
	↓1.那么录屏都要在他的电脑上面了，
	↓2.不知道是否能支持高版本
		应该是会自动升级的
	↑3.
V如果在我电脑上面：
	那么他得到我这来调整参数

    [0]: "0.02"
    [1]: "1.54313775479201"
    [2]: "1.54226743208606"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "1"
    [14]: "0.368415654808647"
    [15]: "0.617889126957804"
    [16]: "0.796834979841507"
    [17]: "0.904546883470272"
    [18]: "0.939547221955281"
    [19]: "0.90238348902055"
    [20]: "0.79445503620058"
    [21]: "0.616835768702705"
    [22]: "0.368415501414145"
    [23]: "1_1"
    [24]: "[\r\n  0.019542054919111148,\r\n  0.26059233586388858,\r\n  0.49998020107801266,\r\n  0.73936806629213669,\r\n  0.98041834723690957\r\n]"
    [25]: "[\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"

    [0]: "0.02"
    [1]: "1.54374271634239"
    [2]: "1.54336698442615"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "2_2"
    [24]: "[\r\n  0.021837971447939239,\r\n  0.26173348587424033,\r\n  0.49997454847691153,\r\n  0.73821561107958256,\r\n  0.97811112550587931\r\n]"
    [25]: "[\r\n  7.9470234524079921E-05,\r\n  7.9470234524079921E-05,\r\n  7.9470234524079921E-05,\r\n  7.9470234524079921E-05,\r\n  7.9470234524079921E-05\r\n]"
    [26]: "0"
    [27]: "0"
    [28]: "1.148293965"
    [29]: "1.148293965"

    [0]: "0.02"
    [1]: "1.54267721591943"
    [2]: "1.54387353645161"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "3_2"
    [24]: "[\r\n  0.021980396905752,\r\n  0.26185788036216939,\r\n  0.500081036346474,\r\n  0.73830419233077926,\r\n  0.97818167578719661\r\n]"
    [25]: "[\r\n  359.99974437367507,\r\n  359.99974437367507,\r\n  359.99974437367507,\r\n  359.99974437367507,\r\n  359.99974437367507\r\n]"
    [26]: "0"
    [27]: "0"
    [28]: "1.148293965"
    [29]: "1.148293965"

16
21
26
31
36
41
46
    [0]: "0.02"
    [1]: "1.54313775479201"
    [2]: "1.54226743208606"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "1"
    [14]: "0.368415654808647"
    [15]: "0.617889126957804"
    [16]: "0.796834979841507"
    [17]: "0.904546883470272"
    [18]: "0.939547221955281"
    [19]: "0.90238348902055"
    [20]: "0.79445503620058"
    [21]: "0.616835768702705"
    [22]: "0.368415501414145"
    [23]: "1_1"
    [24]: "[\r\n  0.019542054919111148,\r\n  0.26059233586388858,\r\n  0.49998020107801266,\r\n  0.73936806629213669,\r\n  0.98041834723690957\r\n]"
    [25]: "[\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"

    [0]: "0.02"
    [1]: "1.54312914868389"
    [2]: "1.54227603819418"
    [3]: "1"
    [4]: "7.75312658149482"
    [5]: "8.0064735286932"
    [6]: "8.18818247763163"
    [7]: "8.297540181093"
    [8]: "8.33308907654795"
    [9]: "8.29538239065734"
    [10]: "8.18580061327283"
    [11]: "8.00540006759108"
    [12]: "7.75312291532609"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "1_5"
    [24]: "[\r\n  0.028890466008028894,\r\n  0.26517353903216684,\r\n  0.49982707362165735,\r\n  0.73448060821114347,\r\n  0.97076368123528145\r\n]"
    [25]: "[\r\n  0.00055684921021218348,\r\n  0.00055684921021218348,\r\n  0.00055684921021218348,\r\n  0.00055684921021218348,\r\n  0.00055684921021218348\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"
	
	现在是什么问题？ 
	1.每逢1的时候，无法对梁进行赋参
	
		记录每次为_1的时候的参数，然后一个一个赋值看看是哪个值的问题
		
	V2.第5的数据不对，出现了2点几
		调试一下-5的数据，名称是叫/5，会不会是因为2.1转换的时候出的问题？ 
		推算了一下是没有问题的，
		那么再仔细对比一下数据，看看2.几是如何来的。
	数据的对的，2.几是从计算数据来的，而且它也不是造成报错的原因。
	
	V3.梁片的顺序不对
		那么现在我都不赋长宽什么的，
		不赋值看一下
		如果不赋长宽的参数，除了1_4，其他顺序都是对的，
		也就是1_4的其他参数还有一点问题。
	梁片顺序是对的了现在，可能是因为之前的调试问题导致的位置不对。
	
	
	eleParmDic[beamSerial-1]
Count = 30
    [0]: "0.02"
    [1]: "1.54313126813958"
    [2]: "1.54227391873849"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "1_4"
    [24]: "[\r\n  0.026588200824913838,\r\n  0.26404531045398355,\r\n  0.49986478484423519,\r\n  0.7356842592344871,\r\n  0.97314136886355684\r\n]"
    [25]: "[\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"
	
	Count = 30
    [0]: "0.02"
    [1]: "1.54313126813958"
    [2]: "1.54227391873849"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "1_4"
    [24]: "[\r\n  0.026588200824913838,\r\n  0.26404531045398355,\r\n  0.49986478484423519,\r\n  0.7356842592344871,\r\n  0.97314136886355684\r\n]"
    [25]: "[\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"

	现在，重新全部参数打开看看，到底哪个出错，
	然后将出错的数据手动输入一遍，
	
	刚才检查了一下，不是这个单位的问题
	
	这个能说明之前无法生成的梁都是这几个数据错误造成的吗？ 
	我之前有这几个数据的时候报错，注释掉以后就不报错了
	那么如果我现在再重新打开，如果报错说明就是这几个数据的问题，
		V我现在只需要生成5块板就好了
		
	不能说明，
	
	不注释的时候，第4块是可以生成的，反倒是第一块无法生成。
	所以能说明是数据造成的问题。
	
	那么现在，就将每个数据一次输入核对一下。
	
	现在有30个数据，我不一定全部都要手动输入一遍，
	
	因为刚才的验证说明，
	数据很可能是在左右的时候报的错，
	那么现在，我测试了不输入右板数据是成功生成的，
	
	[0]: "0.02"
    [1]: "1.54313126813958"
    [2]: "1.54227391873849"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "0"
    [14]: "3.444881895"
    [15]: "3.444881895"
    [16]: "3.444881895"
    [17]: "3.444881895"
    [18]: "3.444881895"
    [19]: "3.444881895"
    [20]: "3.444881895"
    [21]: "3.444881895"
    [22]: "3.444881895"
    [23]: "1_4"
    [24]: "[\r\n  0.026588200824913838,\r\n  0.26404531045398355,\r\n  0.49986478484423519,\r\n  0.7356842592344871,\r\n  0.97314136886355684\r\n]"
    [25]: "[\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038,\r\n  0.00043541334428097038\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"

	[0]: "0.02"
    [1]: "1.54313775479201"
    [2]: "1.54226743208606"
    [3]: "0"
    [4]: "3.444881895"
    [5]: "3.444881895"
    [6]: "3.444881895"
    [7]: "3.444881895"
    [8]: "3.444881895"
    [9]: "3.444881895"
    [10]: "3.444881895"
    [11]: "3.444881895"
    [12]: "3.444881895"
    [13]: "1"
    [14]: "0.368415654808647"
    [15]: "0.617889126957804"
    [16]: "0.796834979841507"
    [17]: "0.904546883470272"
    [18]: "0.939547221955281"
    [19]: "0.90238348902055"
    [20]: "0.79445503620058"
    [21]: "0.616835768702705"
    [22]: "0.368415501414145"
    [23]: "1_1"
    [24]: "[\r\n  0.019542054919111148,\r\n  0.26059233586388858,\r\n  0.49998020107801266,\r\n  0.73936806629213669,\r\n  0.98041834723690957\r\n]"
    [25]: "[\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05,\r\n  6.3755536732003842E-05\r\n]"
    [26]: "0.098425197"
    [27]: "0"
    [28]: "0"
    [29]: "1.148293965"

    490.0,
    515.0,
    540.0,
    565.0,
    590.0,
    620.0,
    650.0,
    680.0,
    710.0
	
	5.57742783
	
	V梁的横隔板没有赋值，
	调试一下值从哪里来，以及看看如何去赋值。
	
	现在先赋值，赋哪个值？ 
	赋那个默认的值，看看如何赋上去，
	是在生成梁的时候对吧，
	那么就肯定能赋的，
	为什么全部赋值1.05，
	因为一般只有两侧才有一个数值，而两侧又是没有板的，所以大多数都是一个默认值，
	所以默认值是多少呢？ 
	就是1.05
	我现在应该如何去实现这个？ 
	我无法避免将这个数值加入进去？ 
	我能使用之前的吗？ 
	V如果不是必定有一边没有数值怎么办？ 
	
	V所以最好的方式仍旧是通过上面最后添加一个来，
	V仔细看看索引好了，
	
	现在好像没有问题了，试着全部生成模型试试？ 
	最好可以一个构件一个构件地出来看看，
	
	暂时使用这个好了，
	
	9.08 begin
	9.20 e
	9.24b
	9.36e
	控件添加好了，下面是生成模型的时候实际用到，
	如何用？ 
	V有些模型没有生成出来，

V现在模型也生成出来了，也截图了，那么现在就是如何，录制视频了。
	
	
	
	
clear

V-->高亮显示桥墩部分
   V先检查一下，桥墩未高亮显示的原因是什么，

   V-->现在确实有重复生成的现象，
   我应该如何处理？ 
   如果就之前的如果有了这个参数，那么就不再继续添加，并关联，这样对吗？ 
   正确但是不够完善，
   我仍旧还是想走一个添加流程，但是只走一次，那么就跟着生成模型的bool判断走可以吗？ 
   不是是否需要生成模型，而是根据是否完成初始化走，
   也不行，因为是否完成初始化并适用，
   那么就单独用个变量来指示
   首先，只要不是一直重复，
   就算一个页面生成一次还是可以的，
   也就是初始化的时候，生成一次就行了。
   那么后续的操作会影响到这个的生成吗？ 如果初始化的时候生成了，
   
   因为他有可能前面没有生成某个类，然后初始化完成以后，又生成了某一个，所以得再加一个字典来进行判断，
   初始化加字典的方式来判断是否需要添加材质可以吗？ 
   也就是如果字典里有这个名称了，那么就不再做生成材质操作。目前来看应该是符合逻辑的。
   
   V目前还是会生成多次，是因为在全部生成后再进行添加，
   我能不能直接在生成一次后直接进行添加？ 应该是可以的。
   有时候会是一个集合，但是没有关系，我直接跟在后面就好了，
   
   每次刷新会重新生成一下实例，这是肯定的，
   但是我的材质也要重新生成一下，
   我是否应该还是将生成高亮材质和生成模型 分开
   是的，
   
   如果不包含，
   包含，且是第一次生成，
   如果包含且不是第一次生成，不用生成
   第一次在外层，包含关系在里层。
   所以，不
   
   第一次生成，肯定不包含
   非第一次生成，可能不包含，
   如果第一次，那么直接生成 
   
   如果非第一次，那么判断是否包含，如果包含则不再重复生成，
	
   而且每次生成，总会，将所有的Key值清空，那么现在不情况key值，清空实例，
	
   V在切换pier的时候清空类型，在重新生成fi的时候清空族实例
   clear
   那么下面完成桥墩页面的
   1.之前好像是无法加载某些族文件导致的错误。
   墩柱
   
   2.先看看都没有没有添加进去，
   盖梁信息
	墩柱
	地系梁
	桩基础
	
	看起来是没有成功添加参数，
	调试一下
	他们即没有Form，也没有生成实例，
	1.他们没有实际的实例在桥梁下部文件里面
	2.
	V3.第一次测试，将墩的约束删除，看能否解决不能打开族的问题。
		看来是族文件的问题了。
	我能否找到之前的分部构件的文件？
	聊天记录没有
	4.下面呢？ 我尝试在每一个生成一个实例吗？
	确实没有Form
	他们跟其他的好像不一样，
	
	他们不是Form，
	但是修改材质是可行的，
	
	所以我现在应该把Form，另外一种应该就可以了吧？
	C30是他们自带的绑定的，
	我应该沿用吗？
	并不是每一个都有这个，
	所以不要沿用，
	梳理一下逻辑：
	桥梁下部族文件，编辑里面的族文件，里面没有Form，只有拉伸，然后拉伸有材质选择，
	然后后面的操作一样的了。
	如果没有，那么再看一下族实例。（基本没有族实例）
	
	改了试试，
	Extrusion
	
	
clear 

V-->单位标记
	有一些单位需要咨询才能知道，
	
	
	
	
clear 

V-->布梁结束问题
	看看代码，
	除了计算成功的，
	如果没有响应的会是，
	
	计算成功的提示是由那边的软件过来的，
	
	而我这里会报错或者超时或者无信息，
	
	那么我整合一下，这里的信息，然后，反馈到客户端
	
	我反馈的目的是什么？ 
	给用户或者自己看，都是要可以正式反馈的。
	
	让我一下就知道自己是否计算成功，如果出错可以定位哪里出错。
	
	目前就这样吗？ 不，异常还没有暴露出来，
	这里应该暴露异常的对吗？ 
clear
	：暴露数据库的数据还挺麻烦的，我现在已经插入到了数据库，那么以后如果是的dll的问题就直接取数据库看吧，如果是服务器的问题，那么直接暴露给用户。这样来说也是合理的。
V-->其他待修复项
	V-->1.系梁间距问题，
		毫无疑问，还有数据是有问题的，不论是计算还是设计
		那么这个需要主动咨询了
	但是间距这个逻辑是一定的，所以可以修复。
	
		首先，我的柱系梁居然没有用到这个参数，
		
	逻辑：
		先看是否勾选，
		如果勾选了，初始化使用统一方式初始化，
		然后生成当然也是同一个距离
		如果没有勾选，那么按照数据库存储的来生成VM
		然后根据VM再生成距离。
		
		保存： 
		1.暂存
			使用VM暂存，
		2.保存数据库
			在点击确定按钮的时候，存储入数据库
		
		现在问题是什么？ 
		首先我有根据数据库的内容来保存数据的，
		也有保存数据到数据库，
		也有保存数据到临时
		
		现在的问题是，好像是初始化，重建这个LV的时候，将之前的都覆盖掉了。
		
		好像就是这里的问题，
		现在改了再测试一下好了。
		可以了 
		然后是间距的问题，也就是柱系梁的间距没有起到作用：
		
		clear
	V2.台与墩长度不一致
	3.
	   <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                    
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                    
                </StackPanel>
                
            </StackPanel>
	
	柱系梁报错，
	查查看什么原因？
	一般都是有事件来的，
	V查一下。
	
	ViM是什么？ 
	应该是对的，是因为没有重启。
	
	4.现在开始统一单位？ 
		1.首先，我确定我现在的所有单位是统一的了吗？ 如果我能成功布梁（计算）和成功生成模型，那么可以说明我的单位都是正确的？
		这个只能说明我的数据是正确的，如果需要校验单位是否正确还得需要他们的帮助
	
		2.等单位都表达正确后再开始统一单位
			统一单位只是GUI与数据层面的交互
			如何处理？ 
				需要用到数据的地方有多少？ 
				1.
				2.
				3.
	5.桥梁测试数据2：
	(5x30)+(4x30)+(3x30)+(4x30)+(4x30)+(5x30)+(5x30)+(5x30)+(3x30)+(4x30)+(4x30)+(3x30)	
	两个防撞栏报错，
	8个梁实例报错：不能重生成拾取的实例
	
	其实是因为赋参的部分出的错，
	所以并不是族放置的问题，而是参数的问题
	
	桩柱数量，如果默认为2，那么其实应该数据是通过添加数据库，或者直接是更新内存里面的桩柱数据行数
	那么现在没有这么操作，如果直接设置为1确实可以解决目前的问题，
	那么后续呢？ 如果我后面同步了全局设置里面的
	全局设置并没这些数据，那么现在就不用管了。
	nice。
	
	看一下如何传递左部和右部，
	首先我这个值是从哪里来？ 
	左右幅的bool类型值，
	应该是从，方案设计来？ 
	首先用户选择了双幅，
	
	双幅？ 无关紧要，因为有可能是左幅，也有可能是右副
	那么我哪里去觉得了是左幅还是右幅？
	
	我接口商议的是通过这个值去添加或者删除另一幅
	去修改我的json，然后，传值
	好像只有联，也就是并没有地方给用户选择左右幅？
	tbbridgeunite
	是从这个表来的，
	从创建梁来的，
	这里已经写了，
	clear 
V-->那么单双福设计逻辑就这样：
	
	1.先绘制面板 
		1.面板逻辑： 
		V单双福勾选，作为
		V先勾选左右幅，然后来决定是否是单双福，单双福不给用户操作。
		V单双福的意义在哪？ 
		V其实并不是给用户操作的，只是给用户展示的。
		V逻辑是这样没有错，
		V那么就是面板如何排布的问题了。
			
		测试一下
			
		V这个设计是错的，
			
		设计方面一定要讨论，
		因为你不擅长设计，
		不擅长设计的原因之一是因为你对专业不熟悉，
			
		这样设计目前来说没有问题，逻辑是正确的。
			
		然后下面需要将数据拼接起来，
			数据如何拼接？ 
			我现在有一个字段是在桥梁里面的，
			叫 pieceTypeNum
			
			先做一版没有关系的，
			也就是判断桥梁的这个数据是多少，如果是0左，如果是1右，如果是2那么就是双幅，
			这个倒是简单，
			
			那么能否进一步实现，左联的时候只关联左联是数据，右联的时候只关联右联的数据
			
		然后也要展示到面板上，
			那么如何展示到面板上面呢？ 
			我如何组织的这个数据？ 
			我单独使用了一个表来存储联的信息tbbridgeunite
			联的信息是在之前写跨径表达式的时候就决定好了的，
			现在只是把这个数据改为左线右线的问题，
			而改成左线和后线是通过partTypeNum来实现的，
			如果是默认左幅，那么可能有一组数据是左幅状态的联信息表，
			如果是右幅需要把所有的这个状态值改为1
			如果是双幅，那么需要删除掉一部分数据
			
			或者我这样说，
			首先我进去的肯定默认有左幅的数据，
			然后每次对界面进行了一顿操作，然后将之前的数据情清空掉，并且，该新增的新增
			那么就不存在判断更新的问题了，只要用户点击了保存，那么都给 修改一下就好了。
			没有关系我的，数据是实时获取的，那么也可以实时更新。
			
			目前我已经把所有的数据展示存储在了内存中，
			
			首先我默认的会有一份原始数据，
			是左线的数据，
			但是如果这里我勾选了右线，那么就将左线的数据全部修改为右线的数据，
			或者我勾选双幅，那么应该将左线数据复制到右线，
			
			其次如果打开有了上次保存的数据，
			如果是左线，勾选双幅我也需要复制，
			如果勾选右幅，我也需要复制，并将左线清除，
			我有必要保留他的row_guid吗？
				没有必要 
			那么就是一顿操作以后，我只复制或者修改数据
			也就是保存每次都会删除之前的新增，就不设计修改了。
			那么我改了联，是否又需要修改墩数据呢？ 
			我靠，这样太麻烦了吧，
			那有其他比较好的方式吗？ 
			这里会涉及到联的创建修改，那么肯定就会涉及到跨的创建于修改，
			
			那么如果跨修改了，那么双幅的时候也就是，下部的修改，他们总不能
			现在他的要求是上部，
			而且，跨的上部数据也分为左幅和右幅，那么对跨有影响吗？其实并没有影响，只是对下部有影响，也就是我的跨都是一样的吗？ 
			那么我可以像现在这样设置吗？ 
			
			1.首先我需要改的是下部的设置是必须要处理的，上部并没有影响
				X那么我能不能有什么巧妙的方式只去完成上部，而不考虑下部。
					应该是可以的，我复制的时候将row_guid也给复制，
					这样设计是不合理的，
					确实很巧妙，
					但是不确实不应该这么处理，
					所以我还是按照完整的方式去设计比较好，也方便后面的开发，
				2.我如何修改？ 
					看一下跨是如何如何绑定的，一事一议，
					如果是绑定的row_guid，那么其实我也可以在这里复制一下跨的row_guid，并进行修改。
					修改成新的row_guid不是吗？ 
				这样做确实有点繁琐，
				第二种思路就是，
				按照之前如何插入联数据一样的插入新跨，也就是把 之前的代码进行封装一下，在这里反复调用。
				只要是新增联的，那么必定会新增跨，或者修改联的时候，也需要清除跨并重新插入
				
				如果这里涉及到了前面的，其实并没有关系的，
				毕竟面板不是很重要
				
				所以不考虑工序，那么先按正确的思路去架构。

					
			2.修改数据组织方式，默认为双幅，
			然后会生成其guid，然后如果取消勾选那么就将其guid，
			进行加密一样的东西，或者直接增加一个字段来不显示，
			也就是多加一个控制，
			
			其实这样的话就更方便了，
			
			如果是其他的呢？ 
			
			考虑后面的话，那么就是，如果我单幅单幅地来处理：
			会怎么样呢？ 
			并不会，大不了是添加冗余的数据而已，
			这是没有关系的不是吗？
			Ok ,
			就这样操作一下吧。
			
		现在方案设计面板实现了，根据选择项去修改pieceTypeNum的值，双幅2左0右1
		而在布跨按钮上实现了，根据这个pieceTypeNum，来解析出梁的值，如果左线，就只做左线的数据，如果是右线，就只做右线的数据，
		
		现在需要完善的是，数据的插入
		检查一下看一下，
		
		1.桥梁基本数据表
			VpieceTypeNum
		2.联数据表
			VpartTypeNum
			
			方案设计表里面，使用了这个字段进行筛选，我需要修改的当然可以是这个？
			能修改它的值，那么就可以修改它的可选项，然后保存又是已经写好的。
			cool!
			
			增加一个 字段来显示隐藏
			没有必要
			使用 pieceTypeNum
			
			不能使用
			
		3.跨数据表
			跨的数据是绑定联的，所有这个没有关系，
			
			
		3.横断面
		X4.布梁数据
		5.
			
		DateTime.Now.ToString("dd日 HH:mm:ss")
			
			  var teloadFm =  = DateTime.Now;
			  
			(teloadFm - tloadFm).ToString()
			
		那么改数据是否会涉及到其他的？ 
			会的，，
			X而且有点多，
			看一下都是些什么地方
			1.只有一个数据拼装的时候用到了，
			
			那么先修改了时候吧，
			
		然后通过勾选来决定
		V2.面板需要stackpanel来重绘吗？ 
			V最好使用这种方式重绘 
		V3.面板排布问一下，
		V4.初始化
		
		那么下面完成 面板到数据库的问题，
		等他那边生成出来数据以后，再处理一下模型相关的东西

	V2.数据问题，目前已经左幅右幅的指示存入了桥梁信息表的pieceTypeNum字段
	
	V3.先完成数据的解析，不让问题卡住，
		测试数据先给他双幅和单幅的。
		
		现在给了左线，
		那么现在给有两条线的
		添加一点右线的数据，
		修改一下状态值，
	clear
	V-->4.模型相关
		V伸缩缝位置、
	    ~下部
	    左幅：
	    左，右板
			顺序是否会反转？ 
			V现在假设进行了反转
			
	    V翼缘LR，
	    V防撞栏AB 180/0    
	    
	    ~修改 现浇的放置点顺序，
	
		第一次测试：
			本次测试目标主要是：梁、防撞栏、
			梁片只需要生成两组即可，
			
			防撞栏可以全部生成，
			
			还有现浇需要全部生成，
		分开生成
		错误：
		V1.左右板刚好相反
		
		V3.防撞栏有3侧未生成，
			取消防撞栏的isLeft判断，都给他赋值180
			
		4.左幅伸缩缝的生成有问题，右幅正确
		2.左幅的墩顶现浇相反，右幅正确
			点坐标 1和2互换，3和4互换
			伸缩缝 横隔板 数据在左幅的时候将1和2互换，3和4互换，
		5.
		
		纵向湿接缝翼缘端部高度、
	
		V横隔梁底宽、横隔梁顶宽、横隔梁高度未赋值
			这些是哪几个模型的呢？ 
			把模型看看就知道了，
			先假设都是同一个模型的，
			当然也可能会有多个模型都有的参数，
			
			然后看看json
			
			VDiaphragmDownWidth
			VDiaphragmTopWidth
			~diaphragmheight
			梁也需要附
			
			1.梁的其他参数
				V梁高 
				横隔梁高度
				
				V翼缘端部高度
				FlangeEndHeight"
				V根部高度
				FlangeRootHeight
				
			5.纵向湿接缝
				V横隔梁高度
				V横隔梁顶宽
				V底宽
				翼缘端部高度
				FlangeEndHeight" 同梁
				
			V2.调整横坡
				i值，I值，
				VT梁，V与湿接缝
			
			3.梁上伸缩缝宽（W1 W H H1）
				，
			
				
				
			4.梁腹板的宽度、变截面高
			6.伸缩缝：
				混泥土块高度值，
				赋值为铺装总厚度，


		V6.梁片相反
		 
		第二次测试：
			同样的生成
			
			23开始
		修改tans为单独一个，
		
		1.生成双幅数据看一下，
			
		
		V2.主要梁型的联动改一下，
			定义的格式问题
		clear
		下面的问题是：
		1.填充数据，完成双幅的桥梁数据，确保数据是通的

-->2.修改桥梁生成过程逻辑：
			V1.首先在确定好数据的时候，后台生成一个模型问题
				后台生成一个怎么样的模型？ 
				1.9种类型的族文件
				2.里面是T梁标准族，然后根据面板数据将族实例的默认值进行修改
					哪些参数的默认值需要修改？ 
					当然是面板上有的
					而没有的后面再进行赋值
				3.族的名称重新组织一下，组织为标准族的T梁标准族+(guid)+(9种类型中的第几种)，实际放置的时候呢？也根据这个进行判断即可 
				4.
				目前是直接将族文件进行了展示，然而展示的和实际保存的不应该是同一个东西，
				展示的应该为一个项目文件里面嵌套了梁的族实例，而实例的参数等于页面的参数，供用户看参数是否可以生成出梁型；
				
				而后台保存的文件应该为9种类型的族文件，而这个族文件的参数默认值为设置的默认值；
			
				展示的族文件与实际保存的9中类型族文件不同，
				1.处理一下展示的项目文件
					1.首先，我已经处理了族的展示
					2.那么下面，首先将族里面的实例全部清除掉，
					3.然后重新生成一个T梁标准柱，
					4.然后根据参数来对这个T梁标准族进行赋参，
					5.
				2.
			3.
				 Parms p = new Parms() { ObjIndex = 15, parmName = "wingedgewidth", parmShowName = "翼缘宽", parmValue = "80" };
            Parms p1 = new Parms() { ObjIndex = 16, parmName = "wingedgetickness", parmShowName = "翼缘厚", parmValue = "15" };
            Parms p2 = new Parms() { ObjIndex = 8, parmName = "beamheight", parmShowName = "梁高", parmValue = "200" };
            Parms p3 = new Parms() { ObjIndex = 11, parmName = "bellywidth", parmShowName = "腹板厚", parmValue = "20" };
            Parms p4 = new Parms() { ObjIndex = 12, parmName = "beambottomheight", parmShowName = "底板厚", parmValue = "20" };

            Parms p5 = new Parms() { ObjIndex = 17, parmName = "windgedgeroottickness", parmShowName = "翼缘根部厚", parmValue = "18" };
            Parms p6 = new Parms() { ObjIndex = 18, parmName = "switchfaceheight", parmShowName = "变截面高", parmValue = "12" };
            Parms p7 = new Parms() { ObjIndex = 19, parmName = "wingedgehorlength", parmShowName = "翼缘水平段长", parmValue = "35" };

            Parms p8 = new Parms() { ObjIndex = 9, parmName = "cantileverlength", parmShowName = "悬臂长", parmValue = "112.5" };

				马蹄宽度44
				马蹄高度20
				
				横隔板赋一下，
				
			V1.首先要对照一下，看一下生成新的T梁模型需要哪些数据，
				也就是哪些数据是前面获取的哪些数据是后面获取的
				
				2.
				
			2.然后在生成的时候，通过点来固定生成同样的梁实例
			3.然后对梁实例进行赋参
			
			V4.支座中心线距梁理论跨径线
				V首先初始化完成了，
				V其次，
				V试一下是否能正常保存到数据库
				
				最后，组织到json里面去，
				clear
V-->下面处理一下生成桥梁族与放置梁片的问题：
			1.首先我已经有了一个案例是生成一个预览模型并赋参，而我的族文件也完全可以按照这个方式去修改，
				V-->那么先改成18版本好了，
				1.可行： T梁标准族、纵向湿接缝、80型伸缩缝、T梁墩顶现浇
				2.不可行：铺装、防撞栏
				3.未测试：下部结构
				clear
			   
			   既然T梁标准族可以，那么并不影响接下来的代码撰写，
			   V1.首先我先生成一种类型的族来试试，而族文件就使用
				族文件名称使用什么方式去组织？ 
				或者我直接先使用一个0来组织好了，
				我得到一些放置点等梁的参数，我如何通过这些参数，
				来标识？ 我可以要求他将guid传递给我，但是现在，我先使用0来保存
				
			   2.在加载的时候特殊处理一下
			   
			   3.
			梁型与纵向伸缩缝的模型不对，因为加载过一次后不会重复加载的问题。
V			-->
			X我现在已经将伸缩缝长度赋值上去了，
				V伸缩缝的长度0
				
			X梁长也赋值上去了，
			
			先把不同梁型处理掉
			
			然后生成一下伸缩缝和梁试试，
			
			是按每一跨来组织的名称，
			但是实际应该是每一联会有一个，
			那么我先怎么说呢？ 
			
			目前只能进行预加载，为什么？ 
			因为加载为一个事务，如果在生成的事务里面加载的话，其实也不是不可以，
			
			还是那样比较好写代码？ 
			那还是在实际用的时候再加载吧，
			
			还是写在上面统一的比较好，
			1.下面解析并完成，T梁标准族的加载
				已经解析，完成了代码的撰写，
				那么下面开始测试 
				
				现在抛出索引异常，
				
				spanSerial=6
				
				现在梁的代码基本完成，测试结果： 
				1.预览窗口还差一点，横隔梁显示不正确，需要等冯修改族文件发我
				
				2.下面处理支座
					支座的生成因为使用的单个点，所以和桥梁下部的生成相同
					现在已经把支座放上去了，
					下面等待袁平把族发我就可以了
			2.
				
				
			V2.今天还需要把支座的处理了，
			30秒	
			
			1.湿接缝，的横隔梁没有正确赋参，
			2.梁的的横隔梁错误取消勾选24，应该直接为45
			3.
			
			
	clear 		
-->测试问题： 
	18版本生成模型出问题，计算成功了已经。
	
	

clear
			
V-->还有一个是梁版本问题
	需要全部换成18版的
		我现在已经有一部分族文件是18版的，
		那么如果我今天使用18版的调试，那么我就会知道哪些是被我自己升级过的。
		
		那么一个一个来吧，先把也就是先换成18版试试，
		
clear 
		clear 
	
V-->3.修改一下面板
			V那么我能够使用非模态的方式来创建这个窗口吗？ 然后也是使用外部事件调用，
			V好像只能这么处理了，
			V不然我的app从哪里来呢，
		clear
V-->继续完成左右幅对界面的判断影响：
		V1.最后一个设置下部的，应该弄成左右幅吗？ 
		
		s1 0-50
		s2 0-50
		
		下部应该和左右幅绑定的才对，
		但是没有关系，我这里直接 增加一个左右幅字段可以吗？ 
		
		 lowerpart和unit是弱对应关系，所以才需要增加字段，
		 
		 现在增加了这个字段，
		V然后现在通过这个字段来判重
		
		tbbridgelowerpart
		
		现在基本完成了面板，
		那么下面布梁数据弄一份出来，
		看看还有什么问题吗
		因为只改了双幅生成逻辑，那么双幅的生成的起点是在哪，看一下就好了。
		
		V配置伸缩缝未区分
		clear
		现在生成上部所遇到的问题：
		
		1.梁未修改完成的问题
		V2.伸缩缝的问题
		3.
		
		V-->现在先发布一个内部测试版本给他们进行测试，
		这个版本不影响我的梁型，
		1.安装包，内部的安装包和发布的有什么区别，isAlpha的区别吗？ 
		2.
		DataRow[] drNormal = settingDatas.Select("parmTypeNum='0'");
		drNormal.CopyToDataTable();
			V-->现在数据已经发送到服务器，但是却没有启动计算程序，
			也没有日志之类的东西，这个是很有问题的。
		
			初步鉴定是因为dll未能和我的service有一个良好的交互造成的，
			我的service肯定是和数据库是交互好的，
			目前数据库也没有这些信息，所以初步断定就是dll的问题。
			
			环境配置也没有做修改。
			clear 
		现在服务器倒是通了，但是生成梁型来说，还是有问题，那么应该怎么办？ 
		方案1.查找一下问题，然后按原来的族文件生成
			V先试着查找一下问题吧，
			现在已经可以使用老版的T梁族进行模型生成测试
			X2.下面配置teambition

		方案2.等待完成新版的梁型再给他们测试
			
			给他们退一个版本，
			
		clear 
V-->		

		下次版本测试的时候，给他们一个18的版本进行测试
		然后我这边的版本都尝试使用18的项目以及族文件进行测试
		
			1	50.000,1050.000,950.000,950.000,900.000,900.000,950.000,950.000,1050.000,50.000	
as DBtext 
textString ();
	V1.替换新的梁型
	V2.修改伸缩缝改为80 
	V3.T梁，伸缩缝的构建编码 Z为6左,Y为右
		
	V4.墩顶现浇 封锚厚度
	X5.纵向湿接缝，横隔梁有问题，和梁的横隔梁对应不上，
		参数值本来，看有没有赋值赋错。
		
	V6.纵向湿接缝的S和B都没有赋参
	
	V7.墩顶现浇的H值没有赋参，
	
	8.横断面，12.5改成 10公分
			放大到24
	165的首尾桩号差，
	0.14的增值，
	
	C赋一下坡度
	
	9.需要等待
	V下面是处理一下下部：
	V1.梁与湿接缝的首尾夹角180-
	2.
	3.
	4.
	5.
	
156248 156331
156
clear 
	-->X首先它确实是一个纵断面（Profile）
		然后他有850个点组成，
		每个点好像是一个ProfileConstraint
		红色的点是他创建的，有4个entity，也就是ProfileTangent
		
		纵断面有一些切线，
		
		创建纵断面的时候，绘制直线切线？
	
	 -->读取一个三维的面数据
	 1.首先这个三维的面到底是什么面？ 
	 是纵断面吗？ 看起来不像，
	 应该是一个网格，不是吗？ 
	 首先它肯定是一个三维的模型，
	 但是这个三维的模型在cad图纸里面是如何表达的呢？ 
	 
	下面就是三个统计和一个总计的东西了
	试一下混凝土统计？ 
	
	这样会出问题的，是的 
	我应该临时写死一个好了，
	
	 
	 
	 
	 
	 clear
	clear

-->服务器接口：
	1.数据库的操作
		执行一些简单sql语句接口
		
	2.上传文件是一个接口
		1.软件文件，
	
		X最高权限
		X2.服务器文件，手动操作iis，重启IIS（用宝塔可以实现）
		3.
		
	3.操作权限控制
		2个权限，
		一个管理员，
		一个普通成员
	4.
	
	V铭牌赋参，文字需要 4舍5入，加号保留三位。
	
clear 
v-->双幅修复项
	1.从右幅切换到了左幅，结果保存退出后，右幅的还在
	2.只选右幅，结果左幅确实没有了，但是右幅也被enable了，
	取消右幅勾选，并
clear
	1.25米梁材质，
	-->下部测试
	X：
	V台帽参数化族
	V参数化耳墙
	桩柱
	矩形盖梁
	
	墩柱
	桩
	
	V：
	
	clear 

-->我今天要做的： 
	V1.配合调试桥梁上部
	V2.修复下部已知BUG
	V3.安排CDM任务
		需要处理的问题：
		1.和袁平继续对接，调通软件流程
			1.需要将族降维18版本
			
			2.需要之前的资料
			那么我这边的话，可能都在之前的范志杰，这可如何是好
			看看王茅有没有？
		2.
		
	4.将任务计划与时间安排，列一个清单发给冯丽峰
		这个汇报清单将是一个具体的计划清单
		有：任务，时间，人员
		需要有资料吗？ 
		不需要
		这个清单需要别人来写吗？ 
		格式确定后自己写比较好。
		
		任务重点是需要的： 
		
	5.CDM任务重点： 
		1.本次投入时长1个周
		2.本次修改主要方面：
			1.算量软件界面（主要），以及其他界面优化
			2.配合读取，
		
慧远百科主题： 
还有3篇怎么说?
继续讲计算机吗？ 
		
或者讲一点单例模式？ 
最好都是用实际的案例的去分析。
		
2.给他们安排任务
	CDM的？ 
	还是其他的？ 
		
3.如何协调任务？
	首先，需要理清当前手头的工作
		1.已有的任务：
			1.装配式桥梁项目
			2.吴海二次开发需求
			3.CDM任务
				1.CDM具体任务需要沟通交流
				目前通过沟通发现需要修改调整的为： 
				1.配合读取cad图纸表格
				2.修改一下算量软件，外观需要调整
				  目前没有具体的调整方案
				3.
				
			4.其他二次开发需求
				不知道有没有
			
		2.可以获取任务的来源： 
			1.生产部门交流
			2.和商务交流
			3.和上级交流
			4.
		3.
clear			
	-->然后合理分配一下任务
		1.安排任务时，需要规定可信的完成时间，
		然后按照计划严格执行
	然后督促他们在规定时间完成任务
		2.在任务中观察并提出，然后严格改正
	共同探讨和修复个人无法修复问题
		3.问题
	闭合任务 
		总结与回溯，经验交流
		
	考虑他们需要有的能力，以及在做项目时如何让他们掌握。
	
	进行下一阶段的任务安排
	凡是理解了的知识，就能记得迅速、全面而牢固。不然，愣是死记硬背，那也是费力不讨好的
	学习要勤于复习，而且记忆的理解效果越好，遗忘的也越慢
	记忆周期：
	1.5min
	2.30min
	3.12h
	4.1d
	5.2d
	6.4d
	6.7d
	8.15d
	及时自测
	
	任务拆解
	开始时间，截止时间。
	clear
	V-->下部展示
		19版本，
		调通，
		1.使用19版本，首先下部的族是没有问题的，然后上部的
			最好的族在哪？ 
			是以前的19版本，
			试着找一下，很好找，以前的项目
			
		2.下部应该是可以的，那么现在测试上部的模型
			先测试可不可以，再考虑升级的
			不考虑升级
			现在直接调整默认值
		这里会有一个bug，就是初始化勾选的问题
		
		3.
目前的下部已经可以正常生成，模型调整不属于我考虑的范畴
clear
	V考虑到yesterday night的情况，所以现在先H A R
	
	-->那么今天需要处理些什么东西呢？ 
	1.将CDM界面部分都给整理出来
	2.需要推进cdm的东西吗？ 
		1.推进指的是主动询问，而不是等待安排任务
			1.如果主动询问
				那么其实就是一个简单的沟通交流
				沟通交流的结果当然是获取需求
				然后处理需求
				其实已经了解了简单的需求不是吗？
				那么下面是将需求处理完主动汇报（推进）呢？
				还是直接说先需求哪些模型比较重要先处理
				
			2.
			result:已经沟通过了，他们对我的计划安排并不关心
			他只关注成果
	3.那么我先把可以完成的快速完成掉吧
	clear
	v-->4.那么你还有3篇慧远百科怎么办呢？ 
		首先主题就非常地难以确定下来
		1.我可以从自己的记录上面摘取吗？ 
			并不完全开发方面的
		慧远百科最好都是一些公司内部的资料，
		所以文章最好都是使用公司内部的
		
		V1.讲讲CDM？ 
		其实是可以的,ok 现在已经有一个主题了
		CDM的案例完全可以分成3部分来讲
		
		2.讲讲新员工培训？ 
			这个不太好讲，因为太针对人了
			但是也可以拟几个大纲，和确定的知识点。
			也就是把我们的培训原则写上去
			这些其实是可以梳理到慧远百科的上面的，可以作为参考。
		V3.还有什么？ cad二次开发的，其实也可以来一篇，来一片简单的是完全可以实现的
		讲案例
		X4.c#讲发布网页的？ 
			其实也可以来一片
		讲案例？ 没有案例，那么总结一下目前用到的？ 这个不太好讲，因为稍微还是偏于跟corp关系不大
		clear
-->CDM
	CDM CAD插件：
	1.修改了一下控件，下面需要做的就是使用注册表的方式进行加载
	挺麻烦的，
	就是
	X1.单独搞一个小程序进行安装？ 
		如果不要求，使用这种方式是有现成的c#代码可以直接参考，比较方便
	V-->2.使用脚本语言，一起做进安装包，
		之前是有完整的脚本安装的，
		可以使用脚本语言来实现
		
		那么试试？ 
		clear
	3.
	
	目前比较着急处理的工作：
	V1.桥梁PPT、视频优化，下周一上午截止
	
	V2.CDMRevit端
		目前还有一个页面问题，等他把页面改出来的话，
		
		自己来画吧，如果直接交给他反而不太好。
		这个我能搞定
		Ok，今天下班前先把这个页面绘制出来。
		
	V3.完成页面的初始化后
	
		public string Hcdm02 = "A21301";
		public string Hcdm03;//
	
		public string Hcdm05;//
		public string Hcdm06;//
		public string Hcdm07;//
		
		public string Xserial;
		public string Yserial;
		
		public string JQZ21;//
		public string JQZ22;//
		public string JQZ23;//
		
		public string JQZ24;
	V现在测试一下，如果没有问题，
	
	那么下面就是走完整流程测试，
	那么在这之前，先保证软件运行通畅。
		软件安装包需要吗？ 
		V1.Cad安装包已经有了的
		V2.算量软件打包
		V3.Revit模型生成工具打包
		
	V4.针对CDM所有软件走一个完整的流程进行测试
		先测试？ 
		安装包暂时不用测试
		也就是分为内部测试与外部测试，
		内部测试不需要安装包
		外部测试需要整理好所有的资料
		
	V5.整理测试数据，如果完善的，提交到SVN备份。
	
	V6.将外部测试包发给用户
	
	7.最后协助完成1.CAD到CDM数据生成；2.地下室的模型生成。
	
	X8.录屏吧，后面需要的时候，再做安装包
	
-->
	//目前使用了安装包加手动执行的方式，效果不尽人意，
	目前就这样处理吧，
	下面调试一下bug
	
	统计的时候全部都需要统计吗？ 
	答案是确定的，
	然后如果他只想统计一个呢？ 
	
	那么我如何设计可以满足需求：
	1.统计过的切换回来不再需要统计，直接展示页面；
	2.可以分步统计，比如只统计混凝土，或者只统计钢筋；
	3.工程量统计针对于已经统计过的不再重复统计
	4.
	看看之前是怎么统计的？ 
	砼、钢筋、模板是分开的，
	
	下面处理一下Revit端，
	现在是需要增加一个页面，
	clear
	CDM工作汇报：
	V1.目前和王茅沟通的只是进行界面的优化
		没有具体的新增功能，或者完善需求。
	V2.目前工作内容：   
		优化了CDMCAD端界面，算量软件端界面
		以及CAD端的一个BUG，算量速度的优化
	V3.与吴总进行了沟通，对我目前的状态进行了汇报，然后也咨询了她是否有需要我这边在功能上新增的，目前没有需求。
		然后她说算法会在下个周给我，
		忘记回复
	V4.我对项目的其他进展情况并不清楚，需要和王茅他们沟通；
		沟通了，也没有知道他们的工作进展。
	5.目前项目进度比较被动，资料获取被动，无法按计划执行开发任务；
	
	-->猜想与拓展：
	6.我的猜想了预测：
		1.首先这个项目目前遇到比较大的问题的投入与回报的问题，当然如果钱不是问题那么就没有其他问题；
		2.项目进展的推进并不是很紧张（他们之前上个版本有一堆问题，但是被反驳后问题变得不是很紧急），也就是合作方对这个项目的重视程度或者目标并不一样；
		3.从他们发给我的资料来看，他们是有其他合作单位，是通过AI识图来进行，CDM数据的读取。
		4.我们只是作为软件辅助在参与，那么他们有其他合作单位有更利于项目的技术手段，当然是可以取代我们的（工作）。
	针对这些问题的解决思路：
		1.首先需要明确一下信息，了解吴佳他们的推进程度；
		2.权衡投入与回报的风险
			如果值得投入，可以作为主要参与方推动项目；
			如果不值得投入，那么需要尽量减少投入或通过沟通来商议回报。
			（目前因为有风险所以尽量在减少投入）
		3.只是作为辅助方参与，如果能解决资金问题，那么就算有新的技术加入是好事
	7.业主如果对算量感兴趣，那么说明算量确实可以为他们提供一些帮助，完全可以作为重点推。
	8.如果对“中国自己的标准”感兴趣，那么方向是正确的，界面优化和演示会是目前工作的重点。
	9.如果对新技术感兴趣，那么引用AI识图确实是一个比较好的思路，对CDM来说是非常有前景的投入。
	clear
	10.我职责范围的工作
		1.目前有很多可以优化和完善的地方；
		2.目前的首要工作是做好界面优化；
		3.目前安排了一个周的工时
			1.4.9结束研发，可以完成页面优化CAD端、算量软件端、Revit端。
			2.明显他们的项目进展为主的话，那么我的工作计划是会被打乱的，而且很多工作无法提前。
			3.如果CDM是工作重点，那么我已经做好了加班的准备。
V-->11.确定需要交付的东西
		V1.一个是界面优化后的软件，他们主要是用于展示
		V2.另一个是配合根据Excel表生成模型部分。
		
		用外部事件来处理吧，
		如果用外部事件，那么就需要导入窗口了不是吗？ 
		
		不用外部事件的话就是每次都重新选择咯
		
		其实这倒是没有什么关系的，
		重新选择无所谓的？ 
		
		那么方便自己吧？
		快速把代码写完，如果要优化放到后期来实现。
	clear	
clear

	V-->20210415今天要处理的： 
	V0.CDM打包
	1.培训会分享内容
	V2.autodesk大会？1个小时？ 
	V3.桥梁v1.0的正式发布
		1.将桥梁发布在插件上面
		2.更新一下 批量导出插件。
		
		更新步骤：
		V1.软件加密，
		V2.放置服务器端
		V3.安装测试 
			设置下部有问题，
			原因是族的版本为19，需要降级为18
			服务器应该之前有发布的18版本。
			
			下部模型有问题，
				1.修复一下页面问题
				
				2.看能否找到18版的下部族
					调试一下？ 
					V墩柱
					V桩 
					V地系梁
					V柱系梁
					桥梁下部模型有点问题，
					V桩不太对，
					
				V现在好像软件没有问题了
				V那么更新了试试？ 
				
				成功发布！
				那么下面看修复项了
				
				V3.高亮材质没有显示
				+
				X空心 形状图元 
				V形状图元 
				V高亮材质只是桥梁下部的设置问题，设置为着色保存即可。
		
		4. 耳墙和台帽，偏心，定位点移动。
			桥台后置先不管。
			
		V桥墩有偏心值，没有赋值。
		
		V柱系梁的高度需要参数值来调整，是可变的，与地系梁独立。
		
		V矩形盖梁有偏心距离
		
	4.
	
	expJointTypeNum
	V1.标准横断面放在标准梁型同级后面
	
	
	clear	
	
	V-->今天需要处理的： 
	V1.生成新的结构树
	
	V2.分化按钮，上部只生成上部，下部生成下部
		V当然下部也需要设置后再生成，照理来说，垫石、支座应该是下部。看一下，是的，没错。
	V3.页面默认参数
	V4.把幕墙网格的软著大致模板写出来。
	
	15 17 6年  -12w
	
	CDM
	25号之前需要完成的
	V1.CAD到CDM表格
		生成墙再给他们填
			
		地下二层
		地下生成一层然后去复制。
	V2.CDM到模型
	V3.算量软件链接结果
	4
	今天需要处理的： 
	V1. 客户端一键更新
		1.首先我想在哪去增加一键更新？ 
		2.能不能如果有更新的时候，显示一键更新按钮，但是没有更新的时候就不显示？ 
		这样设计挺好的，但是不一定可以使用visibility 来实现，
		那么我如何可以让一个控件自动调整位置呢？ 
		不能使用visibility来实现，
		那么只能使用修改大小为0来实现隐藏
		
		首先只做一个按钮，“一键更新”
		在检测是否有更新版本的，如果有则显示按钮。
		
	V2.桥梁默认值修改
		
	V3.慧远百科
			
	4.PPT大致模板
	5.
	今天需要处理的： 
	clear
		V-->测试一下是不是可停靠的原因
		
		首先，我现在测试在同一个dll里面加载可停靠，是没有问题的，
		那么下面，
		测试使用不同的dll去加载这个可停靠。
			无法打开，
			所以就是因为通过不同的dll进行了加载，所以无法进行加载
			
			猜想的原因？ 
			有可能是因为dll 进行了混淆？ 导致无法动态找到这个dll，及其启动的方法名称 
		clear 
	V-->	
	2.继续修复几个客户端Bug
	V3.完成cdm环境部署
		只能在本地部署测试了
	4.
	今天要处理的： 
	V0.CDM环境搭建：
		目前只能在本地进行测试可以跑通，也整理了一些数据是可以直接进行测试的。
		
	1.客户端登录逻辑
		1.之前做的是什么？ 只是记录一下客户是否有记录密码，
			如果记录了密码就自动登录
			
			而现在想要的是什么？ 
			只要已经登录了客户端，
			不管记录不记录密码，都不再进行二次验证。
			所以就是
			我的是否记住密码完全跟是否自动登录完全没有关系
			
			1.首先在客户端
			  登录的时候，就记录一个文件
			  直到退出的时候再考虑是否删除
				如果记住密码了就不删除，如果没有那么删除掉
				
			2.插件端，
			  启动的时候，检测文件，是否在，最好还是需要一个自动登录的状态码？ 为什么呢？ 这样我就能判断是否自动登录了？ 
			  no，直接使用文件来判断，如果有，那么就毫不犹豫地自动登录。
			  所以无需冗余字段来进行辨别是否需要自动登录。
			  
			  如果插件端不是自动登录的，
			  那么就需要来一个变量，初始值为自动登录，
			  如果插件端登录的时候不勾选这个，那么最后退出插件的时候，根据这个标识去将登录好的东西删除掉？ 
			  
			  需要这个变量吗？ 
			  ~中间有可能会遇到的风险是插件端没有，权限去修改C盘的东西，
			  插件端一旦设置了自动登录，就不能再通过插件端取消自动登录了。
			  
			  所以这是为什么不在插件端设置自动登录的原因。
				但是其实也可以在插件端设置自动登录。
				或者将插件端的自动登录和客户端分离： 
				也就是设置了以后，客户端不用管插件端的自动登录，如果登录客户端是自动登录
					那么就设置自动登录
					如果不是，那么取消插件端的自动登录。
				
		如果简单一点，先完成客户端登录，不需要插件端重复登录的问题，
		如果复杂一点，
		那么就处理插件端也可以设置免登录
		
		如果再复杂一点，插件端也需要设置取消免登录
		
		所以目前最多只用做到稍微复杂一点，就够了。
		
		所以，第一步，先完成客户端登录，插件端免登录的问题。
			1.目前登录以后，如果没有记住密码，那么会把文件删除掉，
			V那么现在就不删除了，改为程序结束的时候删除
			
			V下一步，在插件端，只要有这个文件就读取并自动登录，
			
		V第二步，处理一下插件端可以记住用户密码的问题。（但是不做状态保存，也就是不还原状态，肯定是不能还原状态的）
		
		如何测试，也就是是否保存成功呗，
		如果做得再好一点，那么客户端再读一下是否自动登录，
		避免删除，

		将比较复杂的先抛弃掉
		
		2.插件端也需要做记住里面的选项
			
	~2.挡块放置
	
	V1.服务连接数据库的时候，报错没有找到provider 
	V2.两个机子都不行，一台未安装mysql，一台装了mysql developer版本，而不是server版本，服务器装了什么版本？ 
	
	有时候，跟着错误提示走可能是不正确的，
	而是跟着成功的经验走，复制成功的经验。
	其实这个如果够细心一点，那么仍旧是可以通过理性逻辑分析出来的。
	所以感性运气好会快一点解决问题，但是后面完全都可以使用理性去分析。
	
	~下面把今天的日志记录入慧远百科。
	
	
	3.
	
	猜想：
	1.
	2.
	3.
	4.
	clear
	V-->今天需要处理的：
	1.
	V2.完成对测试电脑上面发布的API进行测试
	  如果完成了，那么顺便在测试电脑上面发布一下客户端/桥梁软件
	  然后对客户端登录的东西进行测试？ 
	  然后对桥梁进行测试？ 
	  客户端登录目前初步测试了应该是没有问题的。
	  正式版没有问题。
	  
	V3.如何发布客户端教程 
		以目前的发布方式会涉及到哪些知识点：
		V1.软件打包程序，有两种，分为Revit与一般客户端
			V脚本
				V自动加载
				
		V2.软件的自动加载
			Vcad需要写注册表
			Vrevit需要添加addin文件
		V3.软件加密 
			V通用的加密软件
			V一般的加密步骤
		4.软件的升级（进阶）
	V4.挡块的生成代码
		在下部页面
			先把桥墩的挡块生成出来？ 
			先把桥墩，
			桥墩有高低墩
			
			桥台都一样的高度
			
			挡块的放置方式，
			V从参照一下dynamo节点来进行放置
			
			V下面测试一下挡块的生成
			V下面着色
			V还有默认值
			
			
			
			
	V5.慧远百科iis部分？ 
	clear 
	V-->6.桥梁还有额外4个修复项需要处理
		V1.配置伸缩缝，第一次初始化的时候，是可以的 
			但是在第二次打开的时候，选项会消失。
			这有关系吗？ 
			
			V如果要做，如果我所有的中联/边联  
			都选择了同一个值，那么我的中联类型将进行改变，如果没有呢？ 
			那么还是默认为空，
			所以这个东西其实是可以不做的？ 
			
			那么就不考虑不一样的情况了，值考虑一样的情况。
			好吧
			
		V2.设置左右幅伸缩缝
			放到同一个页面
			然后通过tab 来实现
			如果左右幅区分值，那么就是传入这个值
			根据这个值来控制面板
			至于初始化什么的都照常做就行了。
			
			V1.页面
			
			1.初始化选项 
			2.根据左右幅区分的初始化选项
			3.保存值
			4.
	clear		

		V-->3.支座没有区分左右幅
			也就是我只设置了一部分下部的时候，结果却把所有的支座垫石都生成出来了，
			理想的应该是：
				当我只设置一个桥墩的时候，
				那么我只生成这个桥墩的支座垫石，
				这个对照关系迟早都需要处理的，
				
				单个的支座的高度不一样
				
				那么就是一个桥墩对应一个支座数组了，
				
				关键是根据什么去对应？ 
					只能靠数组去对应上？ 
					BearingPadStones为支座垫石的放置点
					那么这个是一个二维的数组，
					看一下是如何对应的？
					如何查看？ 
					第一维5个
					第二维有8个 
					
					其
					实也就是顺桥向来的
					也就是 我都取数组里面的0 1 2就会变成横向了。
					ok？ 
					加载族文件在前，
					解析呢？也在前，
					那么
					
				
			那么怎么处理？ 
			需要修改面板，
				新增一张表去对应吗？ 
				当然是可以的
				因为不单是高度，还有型号，等很多东西，
				所以新增表才是正确的
			
			1.面板修改
				
			2.数据库组织
				新增支座table 
				有哪些字段？ 
				1.row_guid
				2.下部guid （一个下部guid对应多个row_guid）
				3.支座的其他参数如型号：
				4.长宽高...
			3.
			4.
			
				盖梁距  35 cm 
				
			5.BeamBottomToCapBeam
				这个值在datas.left.PierI 同级下
			
			先把生成的地方修改对应上
			也就是生成一个桥墩的时候，生成对应的横排垫石，
			
			以至于后面的赋参什么的后面再处理
			
			X进行了删除操作，那么我这边应该怎么做呢？ 
				进行删除操作主要是因为我的族会修改，
				然后进行了重新加载，其实不是真正想删除模型，已经生成的模型可以手动删除
					
				但是垫石应该不一样？ 
				是的，垫石最好手动删除，因为族是没有改的，
			生成方式有一点不一样，
			那只能搞一个映射的好了。
			
			或者这样，不迁移代码了，
			直接做一个映射关系，成功生成第几个墩就，就把索引记录下来，
			
			可以就这样
			
			现在的问题是他最后数据组织是将
			1.调试一下，确定一下数据组织是哪一层
				应该是排数+个数 
				
				看一下：

				第一排有5个点 
				第二排有5个点，
				第三排有10个点，
				第四排有5个点，
				第五排有10个点，
				所以应该是 4*25+3*25? 
				
				总共有7排 垫石 
				
				但是其实是
				3*25+2*25
				
				也就是仍旧是对应的？ 
				都是以小桩号侧定位的，
				只是最后一排的时候，会将大桩号侧的也并入最后一个，
				
				所以我这里应该如何处理？ 
				
				首先，小桩号侧是对的，
				也就是我只需要对应上，应该就可以的了 
				比如我的0 那么也是0，他也不会是1 
				即使最后的并入，错误
				最后的并入反而需要分离一下，因为它应该属于下一个的
				
				那么也就是 我如果根据
				首先分离先猜测是按顺序组织的 
				
				那么就是我还需要判断一个（如果是变宽的，那么是无法根据内部数据进行解析判断的）
				所以只能依据 跨数来确定，也就是联分为跨，是否为尾跨，
				
				我之前在赋参的时候有用到过这个count 
				那么因为支座垫石的生成与赋参在 后面之前
				我不能放到后面，为什么？ 
				因为它在放置的时候就需要 根据前面生成的下部结构来决定是否放置
				
				所以，
				那么我现在就使用这个expjointwidth来界定好了，
		clear 
		
		V-->4.墩顶现浇错误的问题，可以换一台电脑进行测试。
		他更新了的，所以他的族应该是最新的
		他的代码也是最新的 
		
		那么为什么偏偏在他电脑上面是反的
		或者说，在我的电脑上反而不正确。（小概率）
			
		所以1.先用其他电脑进行测试
				如果正确，再查一下他本地的问题
		clear
		
		V-->下面
		1.方案设计初始化时的问题
			这个是由什么原因引起的？ 
			1.页面初始化的先后顺序？
			2.代码逻辑？ 
				代码逻辑目前看起来是比较完整的
			X3.已经排除了不是调试状态或者实际运行状态的问题
			4.
				那么就是页面初始化的先后问题了。
				
			1.先测试一下是先执行cmb还是先执行 initBridge
			
			先执行init，只是在init的函数中会触发cmb
			
			现在有些什么现象： 
			V1.打开的时候，明明只有单幅，却把双幅的都显示出来，并可以修改。
			V2.如果进行正常操作，那么这么问题就好了，该显示或者屏蔽的都能成功屏蔽
				 
			 V如果多次切换是可以的，但是，首次的时候是错误的
				
			 V即使保存后再打开也是错误的
			 
			 V好像第一次初始化的时候，并没有触发,ischecked？ 
				现在试着手动触发一下 
			3.初始化的时候，默认选中了25mT梁，下面却仍旧是现浇
				1.首先是在初始化的时候显示错误
				2.其次在页面正常切换的时候，是可以正常显示的
				这个会不会和前面的问题是同一个问题？没有触发初始化的问题
				
				那么需要打断点调试一下：
					因为我对前面进行了绑定，后来又给这个值赋值
					所以会有问题，
					如果我前面进行了赋值，
					
					如果我先赋值，后绑定，
					那么就会导致没有上去？ 
					
					逻辑？ 
					首先初始化数据，会生成很多dvs 
					其次，修改
				
				现在看起来数据好像没有保存进去
				
				我需要怎么做？ 
				1.调试看值
				2.然后再思考如何把数据进行分类，绑定，处理。
				3.
				使用了初始化值，现在没有现浇了
				
				把单双福处理一下，
				
				把单双福的处理了再看一下方案设计页面：
				V1.切换桥梁的时候，初始化rb 
				
				2.查看一下方案设计页面的单双幅问题
					桥梁2为单幅，当从左幅切到右幅时，
					右幅没有数据。
					enaable是正确的，
					但是数据的绑定是错误的。
					
					查一下 
					
					从数据过来就没有右幅，
					那么查一下是在哪里进行录入的，
					
					V不管左右幅，直接添加双幅
					
					X当然第二种方式是，单幅仍旧添加单幅，
					后面将标识数据改为另一幅。
					但是没有必要
					
				好像是可以了
				
				那么下面进行测试一下？ 

				需要测试的问题？ 
					V1.首先，选择单双福是否可以保存成功
					
					V2.方案设计切换左右幅是否数据也同步在切换
			
			V支座没有生成 
			
			4.

		V2.支座的问题没有查清楚原由，
			V好像是因为之前伸缩缝的缘故？ 
			V看一下为什么 
			
			V照理来说却是不应该所有的伸缩缝都有的，
			V一般只有 联与联之间的缝隙，
			
			V看一下如何解析的 
		3.下面处理一下 
			V1.布跨设计时的数据校验
				
			2.设置下部放到一起，而不是区分左右幅
				
			3.测试一下布跨设计第一次通常不会成功，第二次才会成功的问题（这个初步估计是计算程序的问题，等待用户输入而没有执行计算。）
				经过几次计算，并没有发现这个问题。
			4.
		今天主要修改一下，桥梁下部的情况
		
		然后再做一个完整的测试并发布v1.1.2
		
		我现在的问题是，
		如果把左右幅合并在同一个页面，
		那么目前的所有参数本来都只是针对单个参数的，
		那么现在区分左右幅了，
		肯定是需要把之前只做了单幅的判断等， 都复制一份成为双福的，而且需要一个关键字来进行区分。isLeft 
		
		还有其他方式吗？ 
		
		首先是数据，
		
		分割肯定都是需要分割的，
		那么一开始就分割两个，不也挺好的。
		
		单幅打开下部，空指针引用，
		排一下问题
		
		桥台的盖梁长度与Z坐标 
		clear
		V-->墩顶现浇错误
		X1.初步猜想是数据问题
			我用服务器数据是对的
		2.初猜想不是族的问题
			
		3.墩顶现浇的放置点和哪些有关系？ 
		
		X4.试试单双福有没有影响
			本地电脑试了是没有的
		clear	
		V-->CDM导出数据
		V1.首先应该是将表格简单处理一下。
		1.首先读取表格，生成对象
			首先我的，数据有，
			楼层信息， 
			有类型信息，
			最多就是楼层与类型的分类，
			但是没有详细信息
			
			所以统计结果完全是可以，组织成我这边的统计结果的，
			但是详细信息会差一些。
			
			详细信息有部分是0.0的不准确，墙的由于公式更加不准确，
			但是没有关系对吧？ 
			我给他一个随机数？ 
			
			先不处理详细信息不准确的问题，
			先处理算量结果，导出到展示页面的问题。
			
			首先读取Excel
			然后它有楼层标识，
			然后又类型标识
			
			首先这边计算出来的是详细信息，
			然后统计的时候，通过添加关键字，
			对关键字分类的进行合计
			
			那么在这里，我就可以使用，
			导入进来的数据进行合计了。
			也就是，把从Excel里面的数据组织成为：List<VMResult>对象，
			然后正常使用这个对象进行  楼层分类，类型分类，总计等操作。
			就可以无缝衔接了。
			
			那么下面： 
			1.读取Excel表格数据
			
			X2.钢筋的统计只有一个楼层分类，
				没有具体的类型，
				那么我还是不改了吧，麻烦。
			
			晚上打电话催一下
			
			墙的已经处理
			
			那么现在测试一下，算量软件是否可行
			
			把楼层分类拿过来吧 
			shiiiiite
			还差一点 
			
			GCLTJ_HZB_datagrid_GJ
			
			GCLTJ_HZB_datagrid_GJ
			dgResultGJSum
		  
		2.展示数据，做千分之3的random
		  
		3.导出
		  
		4.
		5.
		6.
clear 
		今天需要处理的： 
		V1.将CDM算量的东西处理完，当然看起来并没有多少了
		2.试着将桥梁版本更新掉
			需要先测试一下他电脑上面的墩顶现浇问题，然后使用他上面的版本进行打包，更新等操作。
			
		3.还有其他的吗？ 
			继续处理桥梁v2.0的问题。
		毫无疑问是需要写代码的
		
		v-->而且对墙的解析还不对 
			需要修改吗？
		这个应该简单的吧，
		看看代码 
		因为之前墙的公式也是没有的，所以
		错误也是正常的。
		
		现在明显的是，墙的模板的结构是改了的 
		
		还好我在其他地方  CAD->CDM CDM->Revit  使用的是中文检索，
		那么我这里也改为中文检索不就好了 
		
		改模板可以吗？ 
		
		应该是可以的 
		看看
		
		修改表是最快的 
		
		修改程序有风险
		
		不一定 
		
		如果只改 楼层，那么 
		
		有两个需要修改，
		04与05，
		楼层与轴网号 
		
		现在可以的实现方式： 
		修改软件的为中文检索，就这两个字段
		这样不用修改模板，也不用修改其他的
		只会影响到算量软件。
		就这样吧
		这样也不行，因为还是有更改，相对于中文。
		
		如果要更改表格的设计
		那么需要所有的数据集都改一下 
		
		V我想要达到的目的？ 
		V1.现在已经存在的数据集，不再对其进行修改
		
		V2.因为现在影响的只有算量软件
			验证一下 
			所以只通过修改算量软件来达到目的
		V3.最小的代价
			
			在CAD到CDM中，已经默认了墙的数据集结构 
			同板的不一样
			
			那么在Revit里面呢？ 
			使用的中文 
			
			所以最小的修改范围仍旧是只修改算量软件。
			ok 
			let's do it 
		1.
		2.
		3.
		clear
		
codeH1....加上设计标高*横坡值
		
	V-->墩顶现浇问题
		已经做了第一次测试
		1.不是数据的问题。
		2.不清楚是不是族的问题
		3.（我这边是否能还原？能还原就能找到问题）
			不能还原，那么只能通过排除法去一项一项测试。
			
		4.测试一下是否为服务器的族文件不对的问题
			将服务器文件拷贝下来，生成模型仍旧是正确的。
		之前成功的案例是在哪生成的？ 
			
		V1.族文件没有问题
		V2.导入文件没有问题
		V3.赋值的参数没有问题
		4.是输入的参数问题吗？ 
		5.Revit版本问题？ 
		
		6.为了再次确定不是族的问题，把错误的族，发送过来进行生成	如果确实反了，那么还是族的问题，如果没有

		7.我能不能这样测试？ 
			将自己计算后文件打包过去？ 
			
			那么就一个梁型名称的问题
			我甚至可以不生成T梁。
			
			1.我需要重新走测试数据
			2.我需要重新？
			
			我下载了自己测试一下看看
			
		8.我觉得大概率是输入数据的问题
			但是之前的数据也是我走的，但是就是有问题。
			
			所以现在：
			1.在自己电脑上面走一遍
			2.再在冯电脑上面走一遍
			
			确保数据是相同的。
			
	2.可以显示		
	将所有DLL文件替换以后，得以生成正确。初步预测dlls版本原因。
	clear 		
	
	VCDM 21301-002-0105-AZ1-12a
	VA21301-002-0103-AZ1-1
			
		单独导出是有了的
		看看一起导出的 
		
	V-->	那么下面： 
	进行发布工作： 
	V1.发布前的内测
		主要测试桥梁软件有没有问题
		那么其他插件呢？ 
		发布的时候，一般情况不替换其他已知的文件，
		因为他们需要重新加密
		替换主要文件即可。
		
		V主要是测试加密后的，
		
		V照理来说测试服务器的文件也应该是严格的版本，
		所以现在 先备份
		
		V下面将，桥梁涉及到的dll 进行加密，然后进行发布测试。
	2.
	3.
	4.
	
	V现在已经完成了v1.1.2的发布
	
	那么下面： 
	V1.继续处理v1.2.0的发布所需要的处理的问题
	V2.继续看一下CDM的推进情况
	clear
	V-->3.客户端更新程序。
		1.现在已经有的： 
			1.nginx运行环境
			2.项目数据文件（较大）
			2.指示版本号的接口
			3.获取压缩包的接口(可能使用7z压缩)
			X4.nginx是开机自启动的（会自动加载4G的数据文件到内存）
		2.大致处理流程
			1.首先需要做一个启动程序
				1.该启动程序会检测本地的版本并对照服务器版本
				2.如果相同，那么，nginx已经在运行了
				3.如果可以，即使逻辑不通，也可以做一个关闭nginx程序的功能
					(逻辑不通指的是，nginx会开机自启动，而启动程序只会运行时重启nginx.exe)
				4.如果不同，那么关闭nginx（初步猜想因为是需要加载入）
				从服务器下载压缩包，并解压到指定目录
				然后再启动nginx。
				5.运行后后台保留一个图标，右键菜单用来关闭nginx。
			2.	
				1.启动程序需要检测是否安装chrome浏览器
					如果没有安装，就地进行安装
				2.使用7Z进行压缩。
					我需要使用到common组件吗？ 
					一般情况是不需要的，
					那么就暂定不需要这个（但是可以把这个集成进去）
					(是为了安全保障，能不使用common组件的地方，尽量不用)
				   V2.已经探究了7z的解压。
						但是有可能会遇到异常，比如文件被占用等问题。
						而且比较慢，这么倒是无所谓。
						用的同步单循环。
						X异步确实会快一点。
			3.
			4.支持卸载
			（在这个运行程序里面添加一个卸载功能）
				1.停止程序
				2.清除文件
				
		3.疑问：
			1.nginx.exe启动快吗？ 
				X（把4g内存加载进去，应该是需要点时间的）
				试了一下，很快的。因为是在运行中加载的，并非启动加载。
			X2.需要断点续传吗？ 暂不需要，第一版无需做这么复杂。
			3.
			
		4.操作页面设计
			（打开自动更新）
			（更新程序会关闭一系列进程，nginx和当前启动exe）
			（更新完毕以后，）
			1.启动/重启  
				
			2.卸载
	4.
	5.
	那么这个周，先把这个更新程序搞定好了，还有3.5天的时间够吗？ 
	不一定，工作量在这，可以试试
	
	先处理哪些，比较重要的是他给我数据传输的接口，
	第二个是
	获取一些数据的接口，
	比如什么数据？ 
		1.版本号，数据包大小
		2.实际的获取文件接口
		3.直接检测
	
	1.更新程序要做的是？
		1.安装nginx 
		2.安装谷歌浏览器
		3.
		4
		2.卸载nginx及删除数据文件xboot 
		3.下载/更新xboot文件。
			下载安装包并进行解压到指定目录
		4.
		
	现在需要做的： 
	1.获取到标识版本好的url
	2.把下载的包变成正式的
	3.其他电脑上面进行测试。
	4.安装包
		1.卸载部分，使用强制卸载去卸载，可能会好一点，试试
			仍旧无法删除大文件，
			那么最后将大文件删除掉就好了。
			1.清除大文件
			2.杀死进程nginx，并清除
				1.通过.bat脚本杀死
					通过.bat脚本杀死，并且运行删除命令是最好的
					需要使用管理员身份运行
					连删除自己也是可以的
					
					算了nginx.exe实在无法删除，那么就试试它在重启后是否可以正常运行？ 
					不想尝试了，无所谓的这个。
					
				X2.通过卸载脚本杀死
					难找到这个问题
		
		V2.安装的时候先把nginx关闭，
			 这是一个解压包，所以会出现未解压的情况，但是没有关系的是，
			 我现在的问题是，如果已经安装并允许了，再次进行安装，就会出现冲突问题，测试一下
			点击忽略就好了。
			那么如果之前有运行nginx呢？ 
			那么就在程序实际运行的时候杀掉，这样就好了。
			
	5.正式测试： 
		1027
		1031
		
		begin:1043
		e:1046
		f:180M
		
		b:1048
		e:1054	 6
		解压:58  4
		
		1106	
		1112 6
		解压：16
		
	使用快捷方式没有成功启动nginx
	不使用快捷方式就好像可以，
	那么有可能是因为需要重新打包的缘故
	试一下
	
	进度条调一下
	因为只有一个文件，所以进度条换成一直跑的那种假的。
	
	不，看能不能做一个断点传输的，没关系，试试
	V1.首先检查一下，如果只有一个文件的时候，
		使用这种显示模式 
		单文件显示模式
		首先我现在已经把下载一个文件的时候改为100%了  
		那么下面：
		V1.我能够通过一个方式，去增加一个int类型来指示吗？ 
			 现在我已经有了这个int值
			 我需要做的的合理地传导出来
			 这里使用到了委托，
			 应该和多线程没有关系了
			 他们是在同一个线程里面的。
			 
			 V看一下他这个本身的如何进行通过委托传值的
		2.
	clear
	
	V-->CDM软件，
		1.安装
			
		2.先建模型，而录制的时候剪辑一下。
		3.
	clear
	
	V-->瓯海二高，需要把网页嵌入进桌面应用程序。
	https://ebim.wzer.net/
	15300248680/123456
	
	clear 
	
-->桥梁V1.2.0
	
	
	
	
	
	
clear 

	-->1.梁段距离使用斜杠分割
		1.之前是两边是相同的，
		2.我的字段都是使用字符串来存储，这个无所谓的
		3.
	
	
	
	
	clear
V~--> 有四面墙，
	1.首先，我有一个弹窗，
	然后点击按钮开始选择视图上的一个点，
	通过这个点找到包围的图形，如果闭合，那么根据闭合的墙体，创建板。
	
	这个点如何找？ 
	首先肯定是一个2维的视图，点的标高，是根据周围墙体的标高来的，
	那么如果有很多个垂直的墙呢？ 
	
	如果比较难做，那么就创建与该墙，所有闭合的图形，
	
	当时候再删除就好了。
	
	所以先不考虑选择的点的问题，
	就先当做选择的是墙
	
	1.选择墙，然后查找与该墙形成的闭合图形，
	
	1.是选择一个点，然后索引当前的
		有代码可以抄一下，那么就试试好了，
		
		选择好点以后呢？ 
		那么就需要，选择该点周围的闭合图形了，
		
		X如何进行计算？ 看看CAD里面是如何实现的，
		
		我这样可以吗？ 选择一个点后，
		
		然后往这个方向，延伸线的第一面墙，
		然后根据这面墙，根据寻找闭合
		
		或者是否可以直接创建一个room? 
		
		能不能这样，
		我设置一个最小的角度，360度是最大的，
		然后向不同方向进行射线，
		然后判断与该射线相交的墙，
		（这样其实不太合理，因为相交的墙的顺序是不一定的，有很多相交的墙）
		
		或者这样，我可以获取到所有的墙的点，
		然后通过计算，与该点的绝对值，相差最小的视为最内的点，
		然后根据点来找墙。
		这样 也还算合理
			不合理，相差最小，怎么能区分呢
			你只能找到一面墙，各个方向还有不同的墙呢。
			
			找到一面墙，然后根据墙来找闭合图形？ 
				怎么根据一个面墙找闭合图形？ 

		那么会出现一种情况，也就是中间的墙，
		
		X不用管了，
		X直接不用找墙，
		X也不要求闭合，
		X直接就是，寻找最近的墙点围起来的图形。
		
		然后判断一下，该墙是否有柱？ 
		是否有门
		
		1.主要是这条线（
			墙的内边线，（
				如何判断内边线？）
				首先我可以获取到墙实体，
					我可以通过Category
					来获取到他的solid，
					那么当然也能获取到各个点
						包括内边的点
					那么现在的问题是如何获取到内边？
					首先我可以获取到当前的标高的边吗？ 
					
					X我先用二维的方式去思考，所以先不考虑标高的问题
					
					那么我会获取到，
					我可以获取到，一些重合点，但是没有关系，如果他们不重合呢？ 
					这就会有问题了，那么还是需要取一下他们的标高，
					也就是取标高低的一组，
					那么现在问题变成了，有n组数据，我如何取最内的一圈了，
					
					不对， 
					是有4个点，我如何取离拾取点更近的一个点作为
					板的定位点，
					
					直接是距离可以吗？ 
					应该是可以的 。
					就用距离 
					X下一步，因为每一堵墙与它接起来的墙，都会有更加小的一X个点才是真正的 板定位点，那么我如何找到这个点? 
					X仍旧是距离，是的，我可以通过距离判断，但是怎么判断他们是一组呢？ 
					X他们的差值? 不行 
					
					····
					
					如果定位点确实是   中点，那么如何处理呢？ 
					首先看是不是，
					
					现在的问题是如何求某方向的法线。
					法线求出来后，沿着方向，平移一半的墙宽，然后就变成了，内边的线，
					然后将几条线相交，并更改一下，各自的线长，
					也就连接成了一个封闭的图形，
					而这个封闭的图形，即是板的角点。
					
					现在1.试图通过代码的方式取得法线，交点等
						2.测试一下不闭合的情况

		）
		2.现在通过反编译的方式来说太不友好了，
		那么通过，创建room的方式，
		然后调整room的边线来达到获取板的边线的目的
			调整room的边线，也可能需要边线，来确定法向量，方向做一个偏移。
			这是没有办法弄掉的。
			以至于，检测，梁板柱，这些东西。
			目前只考虑柱就行了。
			
			然后偏移的距离为半个墙厚
			偏移的方向可以通过通过该点的法向来指示。
			最后计算一下各线条交点。即可。
			
			柱的位置如何排除？ 
			X使用一个函数来进行判断是否是柱就可以了
			X这很简单，存在两个点，或者一个点？ 或者多个点？ X这个好像之前判断墙型有写相关的算法是可以找到两个点的情况的。
			X但是不一定准。
			X这样可以，判断切线
			还是在网上直接找排除柱的比较靠谱
			
		那么这种实现简单，就先用这种方法试一下：
		
		今天实现：
		V先把一个可以生成的初版给他
		
		我现在先进行一个预先的修补，
		然后再根据这个详细设计来
		
		如果用强制的推理呢？ 
		
		强制的推理的进展情况只能通过 
			1.识别到一堵离选择点最近的墙，
			然后通过与该墙闭合的墙来需要其他墙，
			
			关键是如何通过一堵墙来判断其他的墙呢？ 
				我可以获取到一堵墙以及和它连接的墙，
				那么我需要通过一定的逻辑来将包围的墙筛选出来，
				还不如直接使用room来得方便。
				
			2.通过room命令来先创建一个room，room当然就拥有轮廓了。
			只需要将这些轮廓，除了柱的部门都向内位移半个宽度，就是自己想要的东西了。
			
			这个应该是会很好用的方式。
			
			当然也会要求图形闭合，
			获取到room后，可以获取到一些点数据，
			根据这些点数据再对柱进行判断，然后来推断一下哪些应该向内进行偏移，也是可以的。
			
			其实使用room的方式更为明了一些。
			
			还有其他方式吗？ 
				其他方式目前的知识库不够用，如何去获取信息呢？ 
				1.咨询
				2.反编译其它软件，较难。
				3.随便上网搜索一下。
					我试着在网上搜索一些吧，
					我的问题是什么？
					在revit的封闭的墙中间选择一个点，然后获取围着该点的墙。
					
					我如何将问题分解
					1.我能在平面选择一个点
					2.我能获取到；离该点最近的墙
					V3.我能获取到所有和最近墙连接起来的墙
					4.我需要通过一定的方式来获取到一圈的墙
						X比如他们的通过点的法线，都不再穿过其他任何墙体，
						获取连接的墙，并且，计算与确定墙的交点，交点到该点，中间无穿过其他墙。
						
						所以交点是关键，
						所以周围墙是有限的，所以后面的计算并不冗余
						也就是只有第一个计算是冗余的？ 
						
						q1:如果遇到没有闭合，那么我可以通过顺时针来一遍，逆时针来一遍，保持交点没有穿过任何墙，如果有穿过，使用该穿过的墙进行下一步的判断，直到顺逆时针找到同一堵墙，也就形成了闭合区域。
						到最后如果没有闭合，那么就使用顺逆的结尾，强制性闭合。
						毕竟他们的交点，都没有再穿过任何的墙。
						
						我可以使用一个已经计算过的缓存，来避免重复计算。
					5.这个思路目前没有太大的问题，可以实现。
						并且支持不闭合的情况，
					6.有问题，如果是临近的墙只有一堵，那么这个算法就尴尬了，但是也可以排除掉不是吗？
					X7.通过和所有的墙进行比对，找出法线不穿越其它墙的，这个算法冗余计算太多了，
						1.遍历所有墙计算法线
						2.判断所有墙不穿过其它墙
						3.压根没有使用墙的连接属性。
						4. 计算速度增长 指数性大于 使用到连接属性的。
						5.不予采用
					
						// 当加入List的墙，与开始的墙首尾相连以后，就不再判断其他扩展的墙体
						
					5.

		它的软件界面可以看出哪些东西？ 
			1.可以预先确定是否可以选择 梁柱...
			2.可以预先选择是中心线还是边线
			3.只针对结构墙有效（strange）
			4.可以选标高
			5.可以选生成的墙厚，偏移等....
			6.它要求闭合。 
			
		1.最后有两种算法，一直使用room来进行辅助，
			1.会有无法识别中间的墙的问题
				但是算法实现相对简单很多。
				
		已经通过这个方式实现了需求	
	 
	：已经通过room的方式完成了初步的可行性实践
	：下面需要他们给我一个详细的需求设计
		但是看起来他们并不是很着急这个事
		那我应该耐心等待。
		
	那么下面： 
	今天先继续处理一下桥梁的东西好了。
	月底是需要发布一版的，
	那么这版，所包含的内容：
	应该有： 
	....
	
	没有关系，先从简单的来吧，
	需要处理的可以放到后面去。
	
	先从简单的修复项来：
	clear

V-->现在有一个比较急的二开需求
	1.识别图块在cad图纸中的定位点
	2.根据定位点在revit中生成族实例
	3.图块有4种类型，他们的方向不同，
		
		他们有旋转属性的，可以从cad里面进行读取
		他们有名称属性，可以来区分类别

		如果一种类型为一个图块，那么还是好区分的

	他们的高度？
		选择族对应的CAD块样式图层？
			是选择图层吗？
			看一下是怎么个操作的？ 
	设置族放置的高度？
		每一个都需要吗？ 
		
	V设置放置的族类型
	设置族放置高度 
	点击 识别 放置族，进度条显示 
	
	V1.cad端：
		就先做一个简单命令
		使用netload加载
		然后使用命令调用，读取并生成数据后直接生成一个json文件保存到本地。
			筛选全部为图块的，然后与其对应的图层。
		
		json保存数据有：
		定位点（XY）
		所属图块名称
		构建对应的图层。
		
		然后revit读取json
		
	2.revit端：读取json数据，
	然后弹出界面，
		1.组织好，图层以及其下的构建类型，或者直接个数？ 
		2.没有必要一次性使用，勾选进行多次使用来生成不同的标高或者类型
			同一个类型的标高是相同的，
			所以就是类型+标高+图层来进行一次生成。
		3.做页面应该有： 
			选择标高，标高偏移
			选择图层，选择类型
			（块名称与族名称应该强对应，但是如果考虑通用性，可以让他们自由去定义这种映射关系，  这样可扩展性就会很高）
		4.
	现在他要求低版本，如何处理？ 
		
		list<layer>
			layer.list[]
		
		V先别排除数据，先按组织形式加入进去
		V后面再想办法排除数据
		
	其实没有关系，
	
		1.页面设计
			V1.提供一个选择标高的 cmb 
			V2.然后提供一个tb存储标高，也可以进行修改
			
			3.然后每一个类型前提供一个选择框，单选本次生成的族实例类型？ 
			，没有必要单选，反正本次生成的都是同一个标高
				这个怎么设计？ 
				1.类型是灵活多变的
				2.多变没有关系，直接展示该类型，及其个数，而不是展示单个，单个勾选是没有意义的。
					所以直接是显示类型及个数，然后勾选的时候也勾选一下类型即可。
					那么是否有需要显示生成的index范围
					 不必要
			4. 
		今天先把初始化、面板等做出来，然后可以先进行演示一下，
		明天着重生成族的部分
		2.因为他着急要结果，那么我把复杂的页面部分放后面，先根据旋转角度定位点和旋转角度把族生成出来。
		
		标高也很重要
		
		SMS->单门电磁锁
		DKQ->门禁
		
		标高偏移是需要的
		
		V1.为revit端换一个图标
		2.现在进行完善 
			V1.cad端
			2.revit端
				1.首先，初始化，数据的展示
				2.映射页面
					1.如何设计？
					2.key value就好了					
					3.
				V3.还是需要更新一下的
				
				4.标高偏移需要怎么操作？ 
					我记录的标高不变，而偏移将会使生成的点是Z值下降，这是可以的？ 
					我需要进行测试一下。
					
					
				5.我可以先完成初始化的问题。
				
			3.
			4.
			5.
			6.
		那么我换一种启动方式
			V还需要一个框是处理族之间的映射关系，
			X暂时不提供位置缩放
			不同标高不同批次生成。
			
			在读取的时候，显示未找到对应族，请在映射设置 配置。
			1.读取json, 
			2.初始化
			V3.
				图层如何处理？ 
				我之前的组织是先通过图层，然后再是类型，然后再是单粒来组织的，
				
				那么现在我想展示的时候，却想用，类型和，个数直接展示？ 这样有问题吗？ 
				
				（照理来说，同样的东西，确实跟图层并没有太大关系，本来你的块就和图层没有关系？ ）
				用户的使用习惯也是，
				
				跟图层没有关系，我也没有传输图层信息
				
				我只是根据图层来组织了数据，那么现在这里，就先把图层组织的数据解构一下？ 
				
				解构为什么？ 
				解析为block 在前，
				然后，我有必要组织成layer? Level吗？ 
				我现在有什么？ 
				block对应的fi名称
				还有block名称，
				随便用一个都是可以的，
				
				如果不设置，定位点是跟着 标高来的
				
				所以，这里应该就是需要减去一个 
				谁减谁无所谓
				最后用的是高程点+这个值，那么就用  输入值减高程点值 
		2.
		3.
		4.
		clear 
		温瑞的问题，
		脚本的方式启动不了，
	https://hybim/svn/HYBIM/HYBIMForRevit

V-->	生成模型添加进度条
	1.毫无疑问，我需要模拟后面的进度将总的count算出来。
	
	2.如果中间不准确?  目前没有不准确的时候，所以暂不考虑不准确的时候，
	结尾的时候强制100%就好了。
	
	1.我现在可以考虑采用新的策略，
	我模型的生成和赋参是分开的。
	所以光是以模型为准并不准确，最后也会卡死状态用来赋参
	所以这里试着找一个比较好的放来指示进度
	
	2.思路：
		1.模型都是使用点来放置的，如果都是单点的，或者有一些规律的，我可以使用这种规律来统计多少个模型需要放置
		2.整体赋参会花的时间较长，
			就提交事务花的时间长，
			那我可以做到99，然后提示用户花费时间长。
			如果左右幅均有，
			
		至于一些判断呢？ 
		如果只是单独按照点来的
			如果为null的判断，大可不必，
			，那么赋参的呢？ 
			因为赋参确实前面会很快，最后提交会很慢，那么直接把赋参过程整个模糊掉
			
		本来进度条就是给客户一个正在运行的感受，而Revit本身上面就一个有一个正在运行感受
		进读条的第二个功能就是指示当前的进度
			当然这个进度可以是模糊的
		
	如果这样做，那么会不会有一些冗余的点呢？ 
		一个和多个的问题反而不大，
		关键会有冗余点，
		那是不是也没有关系？ 直接放到后面数据提交里面去？ 
		
		应该是可以的 
		那可能有一般，那么直接跑完了。
		无所谓，就这样搞吧，
		这样的容错率太高了。
			算是非常友好的了
			多个点的生成族实例是没有关系的，+的时候一下+n就好了。
			
		那么下面： 
		1.提取出所有的X并当做一个点
			1.如何提取？ 
				使用一个单独的程序来测试一下代码片段
				
				
		2. 
		
		V开始生成变为正在生成 
		后面加... 
		第八跨和共7跨好好看看怎么回事，
		铺装 
		伸缩缝等 多少加上 共n个
clear 

V-->同时设置多个页面
	首先同样的设置指的哪些？ 
	分为两种： 
	1.涉及到模型生成的字段
	2.为涉及到模型生成的字段
	
	3.大部分应该是想使用到模型生成的字段
		其他字段反正也不影响（如果他想自己改那么会单独去设置这个页面，所以就无需我再操作）
		（但事实也可以让他们的数据和模型预先生成出来一个相同的
		，也就是勾选了一致的）
		
	
	2.
	1.除了 设计高程、桩号这种默认计算出来的值，
	designHeight
	pierStakeNum
	converBeamCrossSlope
	hatCrossSlope
	coverBeamLength
	hatLength
	BridgeW
	coverCenterDistance
	beamBottomPierTop
	
	这些默认值均是有计算得出，这些值影响模型生成吗？ 
	
	当然是影响的，
	
	所以我如何界定呢？
		想快速设置的意义在哪 
		为什么需要提这个需求？ 
		因为他想让模型保持一致，
		那么我是否能判断一下，他是否有修改，这些默认值，当然是可以的，
		
		有修改的会传递，没有修改的不进行传递？ 
		这样吗？ 
			X但是我的值还是需要初始化一番的？ 
				不，并不需要，因为从第一次就读进去了
			
			我需要生成模型
			
		那么根据用户的实际需求，应该是为了传递模型
		那么影响模型的横坡什么的需要传递吗？ 
			是修改后的需要传递
			还是未修改的，只要是影响到模型的都需要传递？ 
		快速的前提是不会照成数据丢失好吗
		所以通过初始化的值，是一定不能进行修改的？
		比如说盖梁长度，
		他会根据变宽来进行计算得出，
		你一定不能修改这个值？ 
		
		照理来说，是的，要传递也不要这样传递呀，
		宁愿他们重复去设置这个长度，
		
		现在是一个权衡的问题： 
		1.复制的时候不复制初始化计算的的值
			模型生成初始化的值不同，比如盖梁长度、横坡、需要后天每个单独生成一次文件
			
		2.复制的时候，将所有影响到模型的值全部进行复制
			1.这样模型一样，模型文件后台复制粘贴改名就好了。
			2.会丢失以前的计算值，那么用户需要自己重新设置，这个值。丢失的值可以通过重新计算获取。
			3.其实这些默认值也本来就是一个参考值，用户完全是可以自己去修改的。也应该具有修改的能力。（既然他敢用复制功能，那么他得对自己复制的这个操作负责）
			4.
			
		所以这里的赋值问题就是，
		
		把模型相关的全部复制过去，
		把模型不相关的尽量保留，
		然后后台直接复制文件应该就可以了。
			左幅右幅的模型区分不大？ 
			数据区分大吗？ 
			看一下好了
			完全没有区别
		35,15,25,55,111,55
		
	2.如何处理： 
		1.首先我先将值复制过去，
			先不做复制模型，
			切换过去，保证自己的模型生成出来一模一样后，
			再复制一下族文件
			
			V选择的页面如何设计？ 
			V1.勾选、数据格？
			2.现在复制数据过去，哪些数据？ 
				生成模型的数据
				
			Plate:	
				designHeight
				beamBottomPierTop
				hatLength
				hatCrossSlope
				hatHeight
				coverCenterDistance
				bridgeWjName()
				coverSkewAngle
				hatRoofWidth
				hatBottomWidth
				corbelHeightOutside
				corbelHypotenuseHeight
				backWallWidth
				corbelHeightDiff
				backWallHeight
				earWallUpHeight
				earWallDownHeight
				earWallTickness
				earWallWidth
				pierStudDiam
				plateColBottomHeight
				
			Pier:
				beamBottomPierTop
				stakeRoofHeight
				coverBeamMidHeight
				designHeight
				coverBeamLength
				coverCenterDistance
				coverHighChangeLength
				coverBeamExtremHeight
				coverBeamOffsetToMid
				bridgeWjName()
				coverBeamOffsetToMid
				coverBeamWidth
				converBeamCrossSlope
				blockHeight
				blockHeightRoof
				blockWidth
				blockWidthBottom
				pierStudDiam
				bottomBeamRoofHeight
				bottomBeamWidth
				bottomBeamHeight
				stakeDiam
				stakeLength
				midBeamWidth
				midBeamHeight
				isBottomBeam
				midBeamCount
				
			3.对应的 桩柱的数据也要进行初始化
				有可能不需要吗？ 
				会不会保存数据是删除后重新生成？ 
				看一下。
				保存的时候是会删除，根据下部row_guid删除
				然后重新插入，
				所以就是，lp不会记录sub的东西，而sub会记录唯一的lpRow_guid
				所以这里保存的时候，应该把这两个数据也插入一下，其实也简单。
				
			现在的情况是 其他的值以及可以初始化了，但是桩柱没有初始化，
			那么就把桩柱也初始化一下好了。
			
			 pierDic 		= 
		2.   tieBeamDic		=
		3.	根据未来会增加或者修改情况，
			应该是 一定不影响模型的字段不赋值，其他的全部赋值
			所以现在应该反正查询一下字段，哪些字段不影响模型
			
			设计高程是影响的，所以要把设计高程弄进去？ 
			
			那么还是得重新生成模型了
			所以有点烦
			没有复制文件那么简单了。
			就一个设计高程，有点烦人 
		
			假设我所有的模型都要重新生成，
			那么又需要怎么修改架构呢？ 
			
			1.在应用以后，调用后面的计算函数，然后将文件进行生成，除了多花费一下点时间，其实好像也没有什么不一样
				是的，
				
			
			2.那么就按照重新生成文件的模型进行修改好了 
				1.仍旧先完成值的初始化，设计高程不覆盖 
				
				
				2.仍旧是切换并测试一下模型的生成是否符合预期
				3.最后将生成模型的代码补全即可。有点费时，可以使用进度条
				4.
			if you know how to deal, take a breath first.
			
				
			这个功能的目的仍旧是填写大部分数据，
			所以这种小的细节，用户还是会自己去调整的，
			所以，这边就采用第一种方式，将非模型数据进行忽略，模型数据进行
			
			我有计算肯定是好的，
			所以 生成模型的方式是才是最好的，
			
			如果图方便当然是可以不重复生成模型，直接复制粘贴模型就好了。
			但是如果让用户去调整我们又计算结果得来的模型，那么会有点鸡肋。把我们那个功能就给掩盖过去了。
			所以，只要是计算的数据，我全部不复制, OK 
			
			1.现在看起来，数据复制是没有问题的
			2.那么现在就生成模型 
				really?
				
			3.先做出来好了，
				在哪里进行保存的？
			4.
			5.
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
clear 



X-->Excel 
	谁都可以删除数据，控制
	这个比较难，而且市面上已经有了
clear 

	
-->后面要处理的问题
	1.轨道项目源码，注释等
	2.Excel宏，提取算法
	X3.盾构管道离线版
	clear 
	
	V-->4.桥梁V1.1版本(月底)
		修复项：
		1.
		2.
		3.
	V黑屏的原因？
	1..netFrameWork版本问题
		看一下用户用的.net framework是什么时候的
		软件是4.7.2的
		
	X2.谷歌内核版本原因（已经是最新版本）
	
	3.计算机上面有没有装谷歌浏览器的原因
	4.做以上两件事即可
		1.安装更高版本的.netFramework
		2.试着浏览https://ebim.wzer.net 
		3.试着使用谷歌浏览器进行浏览
	
	13.123359
	4
	V网络问题
	clear
	
	enterprise resource planning
	manufacturing execution system
	
	V-->横隔梁：7500
	3000+500的长度是在固定线长
	所以越大，稍微好解释，越小，那么比例就越不对了，
	这里不用按照实际比例来
	那么就直接让短截横隔梁的那个长度，大于 梁端长度+变截面长度 
	
	所以这里是有一个计算公式的，在绘制位置的时候，
	
	左边：
	首先有一个第二条线（绿）到中线长度（白）
	然后有梁端长度(1500)减去小桩号侧长度(500)  +变截面长度(3000)
	然后位置：
	1.如果数值（4500）大于第二条长度（3500），那么应该在右边去
	2.位置应该如何计算？ 
		长度位置应该为，
		画布上变截面的位置长度，
		位置=
		如果左间距>3000+500
		那么必定在右边，至于在右边哪呢？ 
		左间距-3000+500的剩余长度 
		然后和7500进行比例运算决定他的位置为：
		变截面右线长度+这个比例值。
		
		小于的话，那么就是减去这个比例值？ 
		小于的情况，这个比例值会被放大还是缩小？ 
		应该是缩小，所以不区分左间距大还是小于 3000+500了，直接先剔除一个变截面右线长度，
		再加/减 一个比例值。
		减是从哪来的？ 是从横隔梁左半剩余从长度小于3500+500来的。
		比例值是哪来的，是从横隔梁右板长度 比上 变截面右线到中线的距离来的
	
	
	我的绘制方法是围绕中心点绘制的。
	我现在需要修改的地方：
	
	
	1.首先我先找到变截面 右线定位点X
						
	比我想象中的要难
	这样判断怎么样？ 
	1.首先求出剩余的长度（这个完全是可以求出来的）
	2.求出3000+1500-500的长度 L2 
	  然后在生成横隔梁的时候，比照一下这个长度
	  如果大于？
	  那么不应该左边出现
		那么就将横隔梁的位置
		再进行一个比例的缩放？ 
		
		
	  如果小于？
	
	计算比例只能通过画布值与真实值进行，然后再进行缩放
	
	
	
	
	
	
	2.或者一种比较暴力的做法，
		1.只在5个的时候起效 
		2.只要是这个横隔梁的间距剩余 大于3500+1000-500，那么就强制小于横隔梁，至于小多少呢？ 
		也不确定 
		
		现在的族也没有7个的情况
		所以也不用用来测试7个的情况了。
		
	3.或者更加好一点的做法是，放在右边的同时，
		绘制一个 缩放的标识符号，
		可以吗？ 
		absolutely yes 
		
	所以就是，超过的时候，放在一个固定位置，还是进行比例缩放？ 
		先考虑一下比例缩放的情况:
		1.如果要缩放，那么应该按照怎么的一个比例进行缩放？ 
		为什么要进行缩放？
		其实缩放的意义不大，因为本来就不支持横向的对比
		唯一的意义是在于，同段会按比例可以进行比较大和小，而不是具体的数值。
		
		其实并没有什么意义，
		所以我固定就好了，
		
	4.现在这么处理：
		如果算出来的数值大于那个值，那么就 最大不超过那个位置，
		如果小于那个值，那么就按照实际的来
	
		V1.找到那个固定值
			L:107 +217
			
			R:105 +217
			
			
		2.计算一下实际的值，看是否有超过这个数值
			1.计算值:
				1.梁段长度+变截面长度
				2.首先我只有一个，那么剩余的长度应改为
					diapToTheLefter
					diapToTheRighter
					
					
					
		// 超过的时候：
			画布定位点为：107+217+20
			
			还有一个小的值，也就是这个值，不大于的情况
			
			应该有的，找一下
			
			下一个点的距离P，距 refpoint的距离，如果小于 
			固定点，也是可以这样操作的。
			clear
	V-->客户端更新无法使用的问题
	1.首先，如果我是原始的安装包，那么直接更新后无法使用
	2.我本地编译版本可以

	3.放服务器的版本也可以独立运行
	
	4.本地更新的为什么就不行了？ 
		1.测试过了不是路径问题
		2.我试着直接复制H前的dll，发现可以使用
		但是单独复制某一段又有问题。
		
		3.更新的时候 一下就从48调到了91
		4.从H一直复制到O不行，再复制到R最后可以了
		5.直接复制RP也不行
			也就是这个是组合的
		6.一直复制也不行，复制到了i开头的开始可以了
		7.直接48就结束了，看来还是更新出了问题
			调试一下
			
			debug.log 
			
			HYBIM.Client
			icudtl.dat文件
			
	请勿放置以下文件，会导致更新失败：
HtmlAgilityPack.dll
CefSharp.BrowserSubprocess.Core.dll
CefSharp.BrowserSubprocess.exe
		v1.1.0
	clear
	
	
	
-->二开需求分析与拆解，技术探索与demo、模型制作
	首先我已经知道了大致的需求内容，也对一些关键字进行了了解
	
	现在有几个问题需要沟通讨论：
	问题：
		1.PDF文件第5页的插件功能第三条：实现一键拆分模块
			是指拆分成模块，还是对原有模块进行拆分（应该不是对模块进行拆分，因为很长的东西他应该没有预先成模块）
			1.拆分成模块的话
				1.拆分成几米，按什么标准来进行拆分
				2.上下长度，位置错乱的如何进行拆分
				
		2.模块化设计在哪些地方存在，还是都存在（机房存在，走道，公共区域是否也存在？）
		3.
	
	
	2.比较难处理的功能点：
		1.一键布置综合支吊架（族实例），支吊架，需要是参数化控制的族，这个需要冯来协助设计。
		2.
-->目前状况：
		1.已经进行了初步沟通
			结论：
			1.精度为加工级别
			2.软件自动化解决不了的，可以按照手动调整（基本上是软件需要跟着手动走）
			3.软件目前暂定开发时长2个月
			4.市场上的插件，并不满足他们对多层和一些细节的要求，他们目前就在关注和使用品茗的插件。他们有自己族库
			5.他们的东西不一定好抽象话，除非你能将他们的族也进行抽象化。
			6.但是有些技术是可以实现的，加工级别都能满足的话，那么演示级别肯定可以直接照用了。
			7.
		2.技术点： 
			1.识别管道，然后使用一定的族去沿着，路径生成分段后的管道。
			2.导出数据到excel文件；
			3.识别一组管道，生成支吊架revit族，并沿着路径生成族实例；
			4.成模块，拆好管线的基础上进行模块拆分，可以支持人工调整？ 
				生成支吊架和拆分模块会是一个比较困难的点
				其他两个点相对较易。
				包括自动编号等都是比较简单的。
			5.那什么对你比较困难呢？ 
				1.软件设计
				2.原型图
				X3.美观的界面
				4.高级抽象（宽松的修改权限，闭合的操作流程）
					先按照固定的进行开发，但是也需要留有一定技术细节支持后面的扩展：类似于通过字典表配置文件进行扩展。
					
				V5.深入的专业沟通
				6.过程中我可能会忽视一下小，简单，但是同样重要的功能点。
			6.什么你比较能应对？ 
				1.通过频繁的沟通和交流，软件肯定最终是可以实现的；
				2.可能会比期望的时间更短地做出第一个版本；
				3.我可以在必要的环节去推进项目的进展；
				4.我可以为遇到的问题提出一些解决方案；
				5. 
		clear
		项目处于需求阶段20210616

-->下一步：
		V1.等待下周的再次会议讨论
		2.进行原型图设计
		
		V4.对项目的推进做一个步骤，或者找到一个合理的步骤出来
		-->开始：
			1.需求收集
			2.需求调研
			3.需求分析
			4.需求评审
			5.开发研讨
			6.开发评审
			7.开发
			8.测试/验收
			9.上线评审 
			10.试运行
			11.上线
			12.结项
			13.运营
		clear 结束
		
		5.需要让他们在其中担负一部分职责
			目前参与进项目的人员：
			Neal，佳佳，King（需求分析）
			冯、汪（联系与把控）
			开始实际贡献的人：Neal、佳佳、King、汪、冯、King
		6.下周主要讨论一下支吊架的生成细节
		  X自动还是手动，需要我们画族吗？
			（我开始的理解是需要我们画族，但是他们有自己的族库，那么应该只是把族拼接起来就好了）
				当然还需要一系列赋参
			 （扩展：以后新增的时候怎么办？多加两颗螺丝这种）
		 软件实现思路：
		  支吊架功能与逻辑实现设计： 
			1.首先，用户框选管道
			2.读取管道定位信息，读取管道长度信息？ 
				那么需要截取管道？
				因为支吊架和管道的拆分是两个相互独立的功能，所以光使用片面的截面的不对的？如果能直接指定界截面那肯定是好的，
				但是如果不是呢？ 
				那么我就需要给他，来一个截面？
				大部分截面是相同，但是也有不相同的，
				针对截面不同的情况，
				如果是选择的管道，那么直接将所有的管道都考虑进去就好了
				
				V也就是选择了多少管道，那么我就按照多少管道的投影进行生成。
					也就是起始点的投影，而不用考虑倾斜的管道。
						这个的垂直方向是管道的方向。而不是单纯的YZ平面
			3.既然这样，其实也不需要修改，要修改的地方，直接删除掉重新生成单个就好了。
			4.提供一个弹窗，提供一个模型展示？最好，将管道也展示出来？
				一种是展示三维实体模型
					在有现场族的情况下，直接展示三维模型？ 
					1.那么就需要 把选择的管道也放置上去？ 可以做几个参数化的族，供用户预览，管道的可以简洁一点，支吊架的细节一点。甚至可以做高亮显示
						1.在生成面板，提供下拉框，选择装配的型号
						2.会有一些生成支吊架小构件的逻辑，如果什么时候去生成竖挺，跟桥梁下部一样，去定义与设置。
						3.在用户配置好了以后，就将虚拟管道删除，直接将生成的族文件放置到项目中去。
						
						那么它需要本地数据库来存储吗？这就很尴尬了，感觉需要。
						如果使用到了本地数据库，那么涉及到更新？那不用涉及更新。你想想你之前的配置是放哪去了的？
						
					2.本来确实就是一个view，其实完全也是可以直接放置到上面去，但是用户体验不一定好
						
				X一种是展示横截面
					这个就跟市场上面的差不多，但是细节的展示不一定到位。
					如果根据那样进行配置，那么你得通过平面或者一些标识去绘制出相应的？那还不如做成3D模型更为直观。
					
					X3. 用户想在里面做一个尺寸标注是不支持的。
					4.这里自动给这个支吊架做一个剖面，然后通过一定的方式，给坡面自动出一系列标签。
						这么说桥梁下部的其他视图如果能够看到构件，那么也是可以看到标签的？ 
						这个需要测试一下，结合之前给坡面生成标签的情况进行测试

			5.删除模拟管道并放置支吊架到项目
			6.单独出一个按钮提供导出功能，直接导出所有，就不用导出单个了吧。
				单个包含在了所有里面，只要模型中有对应编码，那么肯定是能找到并对应上的。
				如果有误呢？ 那么说明是模型错误。
				如果他不确定自己是否正确，那么可以通过单个去验证。
				也就是先只导出单个。	
				以至于核对校验的话，那么除非给他说明型号所在构件？让他自己再数一遍？
				X所以不用，要相信软件是没有问题，如果是他们模型的问题，就让他们X自己去找，这里就不再操作了。
				X以至于他想导出部门，那么他完全可以删除掉部分构件。
			+所以做成一键就好了：
				1.点击导出按钮，读取项目所有支吊架，读取支吊架族文件，找出所有族实例，然后根据族实例的型号等，得出部件数量，最后总和即可。
				
				
		  管道拆分功能与逻辑实现：
			1.首先选择管道
				多选还是单选？
				+多选
					如果有风口，那么长度必然是大于风口
					可以对同类型的进行拆分，然后如果想对单根管道进行拆分，那么到时候只选择单个管道拆分即可。
					弹出面板，不需要提供预览视图。
					只提供拆分长度选项
						 那么对风管的拆分就需要提供一个拆分可选项，起点、终点、以及拆分长度。
					最多拆分的时候，有遇到风口，进行提示。
					
				X单选
					对单个管道进行弹窗，设置长度，进行拆分
			2.设置好个类型的拆分长度后，生成拆分族实例，编号，并删除原有族实例。
			3.完成拆分，如果遇到拆分不满意的，回退？
			4.用户可以回退所以暂时就这样处理。
		  
		  模块化拆分功能与逻辑实现：
			1.因为拆分单个管道和放置支吊架的独立功能。
				所以现在拥有的：
					1.肯定是已经放置了支吊架的模型；
					2.按照工序风管也已经拆分完成；
					3.其他管道可能没有进行拆分；
				那么直接根据支吊架来进行模块划分可以吗？ 
				也可以根据拆分的风管进行划分，因为他明确要求的是先风管的定尺长度，至于拆分后的风管，我需要用一个属性将他们联系起来，表明他们来自同一个整体，那么我就可以实现：
				1.选择单根拆分后的风管
				2.找到拆分前的长度等，只要是属于这个拆分前的，都进行模块化成组。
				3.
				可以看到不规则的地方都有很多的支吊架的，所以再次应证，如果逻辑是一定的，那么是可以实现一键识别的房子的？ 但是由于针对局部细节，需要自己调整，所以 逻辑就是不确定的，所以如果大部分逻辑是统一的，那确实是可以做到一键。（如果想解决这个问题，那么得用到遗传算法了）
			2.然后对选择的风管进行拆分成模块？ 
			  这里我并不能直接判断到他们是同一组
			  所以在生成支吊架的时候，我需要记录一下选择的模型。
			  然后把这些标记为一组。
			  以至于有一些需要排除的，除非手动将其排除，面板是不需要做筛选管道的操作的。
			 
			  既然是这样，那么就不允许手动拆分的风管了不是吗？ 
			  （这里就会遇到问题，比如我已经给了一个默认的拆分，结果客户想修改这个拆分，那不就会有问题了吗，所以你应该如何处理呢？如果不用这种关系去界定，那么需要突破的一个技术难点就是：
			  1.如何分辨拆分后的风管，他们是来自同一个实体（根据他们的所在方向，还有边框的大小））
			  不允许手动拆分，只能通过软件进行拆分。
			  否则
				1.只能把他们识别为不同的管道
				2.框选的时候需要同时框选（最好可以通过这个弥补 非软件拆分的情况）
			3.现在我已经有了风管以及需要和它成模块的其他模块	
			4.获取风管定尺长度，获取支吊架的放置位置
			5.计算 模块长度 （模块长度通过风管的定尺长度计算）
			6.将其他管道按照这个长度进行拆分。
			7.移动支吊架以达到合理的位置。（模块两边比重）
			8.如果有多或者少的，将支吊架增加或删除，其实就是先拆分模块后重新生成一遍支吊架的位置。
			9.（将这个流程再优化一下， 最后达到分成模块，并包含正确位置的支吊架即可）
			
			那就3-6米之间
			最大的是6米
			拆分长度可以由我们自己去定
			没有完全对齐，这套模块是按照6米拆分的，风管与水管都错开着

		问题：1.支吊架的放置一定是等距的吗？ 
			支吊架的放置按照怎么样的规则呢？ 
			支吊架的的布置与模块拆解相互连通
				如何连通？
				也就是支吊架的放置，其实跟模块化的关系非常大，
				
				首先想要达到的效果是什么？ 
				达到的效果应该是：
					支吊架刚好放在了模块的两边？ 
					也就是本来没有成模块的时候，支吊架是直接等距放置
					如果划分模块以后，支吊架的位置会尽量向两端平衡来放置吗？ 
					
			回答：先按照2米放置支吊架，翻弯或管件位置最大不能超过3米，后对模块进行拆分	
				综合管线部分都是需要模块化拆分的，单层相对简单一点
				
			  2.模块化只是针对两层以上吗？ 
				目前来看风管的支吊架完全就是等距的，并未考虑两边是否平衡，而且他们也没有成模块
				
				两层以上管道，有支吊架，需要拆分成模块。而这个时候支吊架的位置才会进行联动，至于之前的不用。
				这个是按实际安装的时候推断的。
			
			这样看来，单层的模块化拆分也是需要的
				那么我仍旧需要印证一下，模块化的拆分，是否需要调节支吊架的位置？ 
				还是说，支吊架的位置已经完全可以确定模块化的拆分位置了？ 
					（既然说连动，那么说明还是需要调整支吊架位置，只是支吊架的位置与模块化拆分的长度要尽量一致，个别可调的形式
					那么我如何实现呢？ 还是把这个算法交给他们手动？
					这个就好像是下部结构柱子的间距问题，可以手调。中间最多加一些自动避让的东西。
					）
				
					
			
			
		V7.划分模块进行工时预算与报价
			V1.划分模块
			V2.工时预算
			
			
			
		8.需求分析阶段花费时间长一点是好的。
			所以这个阶段我得把所有的技术难点拆分出来。
		9.会议结束，得到了一些功能细致的点，也得到了痛点与功能需求。
			自己先整理一个大的
			然后给他们补充和修改一下
			
	clear 
	
	提资单：
	序号、提资内容、备注
	1.现有操作流程
	2.编码规则
	3.材料清单
	4.族和案例文件（已发）
	5.支吊架标注模板
	
-->下一步：
	3.进行技术探索

clear 
	项目高级抽象：
		1.在确定好技术实现路线后，试着挖掘一些可以抽象的技术点，然后向上级进行汇报。
			1.如果我使用到了数据库，那么我完全可以实现一些统计，但是目前是本地的，所以是无法拿到这些数据的。
			2.我能拿到他们的工作流程；
			3.
		
clear 
	
	
	
	
	 
	
	
	
	
	
	
	
		
		
		